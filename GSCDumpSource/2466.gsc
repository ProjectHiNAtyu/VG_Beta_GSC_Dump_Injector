// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_magicbullet( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = _func_0141( var_0, var_1, var_2, var_3, var_4 );

    if ( isdefined( var_5 ) && isdefined( var_3 ) )
        var_5 setotherent( var_3 );

    return var_5;
}

_id_88FC( var_0 )
{
    var_1 = undefined;
    var_2 = undefined;

    if ( _func_0120( var_0 ) )
        var_2 = var_0;
    else
        var_2 = var_0.basename;

    switch ( var_2 )
    {
        case "iw8_la_juliet_mp":
        case "iw8_la_gromeoks_mp":
        case "iw8_la_gromeo_mp":
            var_1 = 1;
            break;
        default:
            var_1 = 0;
    }

    return var_1;
}

_id_10BC( var_0, var_1 )
{
    if ( !isdefined( var_0._id_88FA ) )
    {
        var_0._id_88FA = 0;
        var_0._id_1DB8 = [];
    }

    if ( var_0._id_88FA == 0 )
    {
        if ( isdefined( var_0._id_96DF ) )
            var_0 thread [[ var_0._id_96DF ]]();
    }

    if ( isdefined( var_1 ) )
    {
        var_1._id_54EE = var_0;
        var_0._id_1DB8[var_1 getentitynumber()] = var_1;
    }

    var_0._id_88FA++;
}

_id_C4D3( var_0, var_1 )
{
    if ( !isdefined( var_0._id_88FA ) )
        return;

    if ( var_0._id_88FA == 1 )
    {
        if ( isdefined( var_0._id_96E0 ) )
            var_0 thread [[ var_0._id_96E0 ]]();
    }

    if ( isdefined( var_1 ) )
    {
        if ( isdefined( var_1._id_54EE ) && var_1._id_54EE == var_0 )
            var_1._id_54EE = undefined;

        var_0._id_1DB8[var_1 getentitynumber()] = undefined;
    }

    var_0._id_88FA--;
}

_id_D5DA( var_0, var_1 )
{
    var_0._id_96DF = var_1;
}

_id_D5DB( var_0, var_1 )
{
    var_0._id_96E0 = var_1;
}

_id_3930( var_0 )
{
    var_0 notify( "clearLockedOn" );

    if ( _id_88FB( var_0 ) )
    {
        if ( isdefined( var_0._id_96E0 ) )
            var_0 thread [[ var_0._id_96E0 ]]();

        foreach ( var_3, var_2 in var_0._id_1DB8 )
        {
            if ( isdefined( var_2 ) )
            {
                if ( isdefined( var_2._id_54EE ) && var_2._id_54EE == var_0 )
                    var_2._id_54EE = undefined;
            }
        }
    }

    var_0._id_88FA = undefined;
    var_0._id_1DB8 = undefined;
    var_0._id_96DF = undefined;
    var_0._id_96E0 = undefined;

    if ( _id_7559( var_0 ) )
    {
        if ( isdefined( var_0._id_7D8F ) )
            var_0 thread [[ var_0._id_7D8F ]]();
    }

    var_0._id_7559 = undefined;
    var_0._id_7D88 = undefined;
    var_0._id_7D8F = undefined;
}

_id_3931( var_0 )
{
    if ( isdefined( self._id_54EE ) )
        _id_C4D3( self._id_54EE, self );

    self._id_54EE = undefined;
}

_id_88FB( var_0 )
{
    return isdefined( var_0._id_88FA ) && var_0._id_88FA > 0;
}

_id_1095( var_0 )
{
    if ( !isdefined( var_0._id_7559 ) )
        var_0._id_7559 = 0;

    if ( var_0._id_7559 == 0 )
    {
        if ( isdefined( var_0._id_7D88 ) )
            var_0 thread [[ var_0._id_7D88 ]]();
    }

    var_0._id_7559++;
}

_id_C4C5( var_0 )
{
    if ( !isdefined( var_0._id_7559 ) )
        return;

    if ( var_0._id_7559 == 1 )
    {
        if ( isdefined( var_0._id_7D8F ) )
            var_0 thread [[ var_0._id_7D8F ]]();
    }

    var_0._id_7559--;
}

_id_D5A8( var_0, var_1 )
{
    var_0._id_7D88 = var_1;
}

_id_D5A9( var_0, var_1 )
{
    var_0._id_7D8F = var_1;
}

_id_7559( var_0 )
{
    return isdefined( var_0._id_7559 ) && var_0._id_7559 > 0;
}

_id_10C12( var_0, var_1 )
{
    var_0 endon( "clearLockedOn" );
    _id_10BC( var_0 );
    _id_1095( var_0 );
    var_1 scripts\engine\utility::waittill_any_2( "death", "clearTargetLockedOntoByProjectile" );

    if ( isdefined( var_0 ) )
    {
        _id_C4D3( var_0 );
        _id_C4C5( var_0 );
    }
}

_id_394D( var_0 )
{
    var_0 notify( "clearTargetLockedOntoByProjectile" );
}

_id_5056( var_0, var_1, var_2 )
{
    if ( !isdefined( var_2 ) )
        var_2 = self.angles;

    var_3 = randomfloatrange( 150, 350 );
    var_4 = randomfloatrange( 150, 250 );

    if ( scripts\engine\utility::cointoss() )
        var_4 = var_4 * -1;

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    if ( !isdefined( var_0 ) )
        return;

    var_5 = scripts\engine\math::_id_A5B2( 0, 200, var_1 );
    var_6 = scripts\engine\math::_id_5878( 950, 1300, var_5 );
    var_7 = var_0 _meth_8490();

    if ( isdefined( var_7 ) )
        var_7 = var_7["unscaled"];
    else
        var_7 = var_0.origin;

    var_8 = ( 0, 0, 0 );
    var_8 = var_8 + anglestoforward( var_2 ) * var_3;
    var_8 = var_8 + anglestoright( var_2 ) * var_4;
    var_8 = var_8 + anglestoup( var_2 ) * var_6;
    var_9 = var_0 gettagangles( "tag_flash", 1 );

    if ( !isdefined( var_9 ) )
        var_9 = var_0.angles;

    var_10 = scripts\engine\math::_id_5878( -7.0, -5.0, var_5 );
    var_11 = scripts\engine\math::_id_5878( 0.75, 1.1, var_5 );

    if ( scripts\engine\utility::cointoss() )
        var_11 = var_11 * -1;

    var_12 = var_7;
    var_12 = var_12 + anglestoforward( var_9 ) * var_10;
    var_12 = var_12 + anglestoright( var_9 ) * var_11;
    var_0 _meth_8255( var_12, var_8 );
}
