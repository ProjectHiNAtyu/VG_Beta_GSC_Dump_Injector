// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_E2E0( var_0, var_1, var_2, var_3 )
{
    var_4 = var_0.origin;
    var_5 = var_4;
    var_6 = ( 0, 0, 0 );
    var_7 = 24000;
    var_8 = getent( "airstrikeheight", "targetname" );
    var_9 = var_8.origin[2];
    var_10 = "jackal";
    var_11 = level._id_9A95 - var_0.origin;
    var_11 = ( var_11[0], var_11[1], 0 );
    var_12 = vectornormalize( var_11 );
    var_13 = var_12 * -10000 + ( 0, 0, 1 ) * var_9;
    var_14 = ( var_4[0], var_4[1], var_9 );
    var_15 = _id_5934();
    var_16 = spawn( "trigger_radius", var_4, 0, 90, 128 );
    var_16.angles = ( 0, 0, 0 );
    var_16.team = self.team;
    var_16._id_AD9B = self.team;
    var_16._id_10418 = "any";
    var_16._id_A96B = ( 0, 0, 16 );
    var_16._id_96B8 = var_4;
    var_17 = _id_2486( 0, var_13, var_14, var_15, var_16, var_1, self.team, var_3 );
    var_17._id_AAEA = var_2;
    var_17._id_110CD = var_0;
    return var_17;
}

_id_5934()
{
    var_0 = spawnstruct();
    var_0._id_1F5C = 1;
    var_0._id_5B50 = "offhand_fired";
    var_0._id_8862 = 1;
    var_0._id_8CD4 = 5;
    var_0._id_9355 = 0;
    var_0._id_990E = gettime();
    var_0._id_CF8A = "gesture_script_weapon";
    var_0._id_EA0F = "jackal";
    var_0.streakname = undefined;
    var_0._id_04A4 = -1;
    var_0._id_04D6 = "ks_gesture_generic_mp";
    var_0.objweapon = makeweapon( var_0._id_04D6 );
    return var_0;
}

_id_2486( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 )
{
    var_8 = undefined;

    if ( isdefined( var_4 ) )
    {
        var_8 = var_4._id_9B36;

        if ( !isdefined( var_8 ) )
        {
            var_8 = spawnstruct();

            if ( isdefined( var_5 ) )
                var_8._id_96B8 = var_5;
            else if ( isdefined( var_4._id_96B8 ) )
                var_8._id_96B8 = var_4._id_96B8;
            else
                var_8._id_96B8 = var_4._id_047A.origin;

            var_8.angles = ( 0, 0, 0 );
            var_8._id_EA4F = "equip_deploy_succeeded";
            var_8._id_04C5 = spawn( "script_model", var_8._id_96B8 );
            var_8._id_04C5 setmodel( "ks_marker_mp" );
            var_8._id_04C5 setotherent( self );
        }

        if ( !isdefined( var_8._id_96B8 ) )
        {
            self notify( "cancel_littlebird" );
            return 0;
        }
    }

    self notify( "called_in_littlebird" );
    var_9 = getent( "airstrikeheight", "targetname" );

    if ( isdefined( var_9 ) )
        var_10 = var_9.origin[2] + 500;
    else
        var_10 = 1300;

    if ( isdefined( var_8 ) && isdefined( var_8._id_96B8 ) )
        var_2 = var_8._id_96B8;

    var_2 = var_2 * ( 1, 1, 0 );
    var_11 = var_2 + ( 0, 0, var_10 );
    var_12 = _id_E316( var_0, self, var_1, var_11, var_3, var_4 );
    var_12._id_9908 = var_4;
    var_12._id_AEC9 = var_11;
    thread _id_A0E0( var_12, var_8, var_6, var_7 );
    return var_12;
}

_id_E316( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_6 = vectortoangles( var_3 - var_2 );

    if ( scripts\mp\utility\game::getgametype() == "arm" )
    {
        var_7 = 99;
        var_8 = 10000;
    }
    else if ( scripts\mp\utility\game::getgametype() == "btm" )
    {
        var_7 = 99;
        var_8 = 99999;
    }
    else
    {
        var_7 = 1;
        var_8 = 10000;
    }

    var_9 = "veh8_mil_air_lbravo";
    var_10 = _func_0209( var_1, var_2, var_6, "lbravo_infil_mp", var_9 );

    if ( !isdefined( var_10 ) )
        return;

    if ( isdefined( var_5 ) )
        var_10._id_9908 = var_5;

    var_10 thread _id_7419();
    var_10._id_42C8 = ::_id_2F1A;
    var_10._id_03C7 = 50;
    var_10._id_0E1F = 125;
    var_10.health = var_8;
    var_10.maxhealth = var_10.health;
    var_10.team = var_1.team;
    var_10.owner = var_1;
    var_10 setcandamage( 1 );
    var_10._id_45FD = var_3;
    var_10._id_9355 = var_0;
    var_10._id_8B2C = 1;
    var_10.streakinfo = var_4;
    var_10._id_EA0F = var_4._id_EA0F;
    var_10.streakinfo = var_4;
    var_10._id_5C6A = var_7;
    var_10 _id_0A6F::_id_112C( var_4._id_EA0F, "Killstreak_Air", var_1, 0, 1, 100 );
    var_10 setmaxpitchroll( 0, 90 );
    var_10 vehicle_setspeed( var_10._id_03C7, var_10._id_0E1F );
    var_10 _meth_832C( 50, 100, 50 );
    var_10 _meth_8395( 0.05 );
    var_10 setyawspeed( 45, 25, 25, 0.5 );
    var_10 setotherent( var_1 );
    var_10._id_FE8E = spawn( "script_model", var_10 gettagorigin( "tag_origin" ) );
    var_10._id_FE8E linkto( var_10, "tag_origin" );

    if ( !isdefined( level._id_8B3A ) )
        level._id_8B3A = [];

    level._id_8B3A[level._id_8B3A.size] = var_10;
    level._id_8B3A = scripts\engine\utility::_id_1BA9( level._id_8B3A );
    var_10 thread _id_0A1B::_id_5C5F( undefined, undefined );
    var_10 thread _id_9578();
    var_10 thread _id_4649();
    return var_10;
}

_id_4649()
{
    self endon( "death" );
    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( 6 );
}

_id_46AD( var_0, var_1 )
{
    self endon( "death" );
    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( var_0 );
    self playloopsound( var_1 );
}

_id_9578()
{
    self endon( "jackal_gone" );
    var_0 = self.owner;
    self waittill( "death" );

    if ( isdefined( self._id_F896 ) && isdefined( self._id_EEEE ) )
        scripts\mp\utility\outline::outlinedisable( self._id_EEEE, self._id_F896 );

    if ( !isdefined( self ) )
        return;

    if ( !isdefined( self._id_8EC9 ) )
    {
        self vehicle_setspeed( 25, 5 );
        thread _id_9575( 75 );
        scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( 2.7 );
    }

    if ( isdefined( self._id_9908 ) )
        self._id_9908 notify( "extraction_destroyed" );

    _id_957A();
}

_id_957A()
{
    self playsound( "dropship_explode_mp" );
    level._id_8B3A[level._id_8B3A.size - 1] = undefined;
    self notify( "explode" );

    if ( isdefined( self._id_9908 ) )
        playfxontag( scripts\engine\utility::getfx( "jackal_explosion" ), self, "tag_origin" );

    wait 0.35;
    thread _id_9576();
}

_id_9576()
{
    _id_0A77::_id_BD07( "killstreak ended - jackal", self.owner );

    if ( isdefined( self._id_F81C ) )
        self._id_F81C delete();

    if ( isdefined( self._id_3175 ) )
        self._id_3175 delete();

    if ( isdefined( self._id_FE8E ) )
        self._id_FE8E delete();

    foreach ( var_1 in level._id_3247 )
        var_1._id_01CD = undefined;

    self delete();
}

_id_9575( var_0 )
{
    self endon( "explode" );
    self _meth_807D();
    self notify( "jackal_crashing" );
    self setvehgoalpos( self.origin + ( 0, 0, 100 ), 1 );
    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( 1.5 );
    self setyawspeed( var_0, var_0, var_0 );
    self _meth_8389( self.angles[1] + var_0 * 2.5 );
}

_id_7419()
{
    self endon( "death" );
    self endon( "leaving" );

    for (;;)
    {
        self waittill( "damage", var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13 );
        var_9 = scripts\mp\utility\weapon::_id_9AB4( var_9, var_13 );

        if ( ( var_9.basename == "aamissile_projectile_mp" || var_9.basename == "nuke_mp" ) && var_4 == "MOD_EXPLOSIVE" && var_0 >= self.health )
        {
            if ( isdefined( self._id_AAEA ) )
                [[ self._id_AAEA ]]( self.team );

            _id_2F1A( var_1, var_1, 9001, 0, var_4, var_9, var_3, var_2, var_3, 0, 0, var_7 );
        }
    }
}

_id_2F1A( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 )
{
    if ( isdefined( var_1 ) )
    {
        if ( isdefined( var_1.owner ) )
            var_1 = var_1.owner;
    }

    if ( ( var_1 == self || isdefined( var_1.pers ) && var_1.pers["team"] == self.team && !level._id_5F86 && level.teambased ) && var_1 != self.owner )
        return;

    if ( self.health <= 0 )
        return;

    var_2 = _id_0A6F::_id_6B47( var_1, var_5, var_4, var_2, self.maxhealth, 3, 4, 5 );
    scripts\mp\killstreaks\killstreaks::_id_8DBD( var_1, var_5, self, var_4, var_2 );
    var_1 _id_079B::_id_FC44( "" );
    _id_079A::_id_9740( self, var_2, var_1, var_7, var_6, var_4, var_10, undefined, var_11, var_3, getcompleteweaponname( var_5 ) );

    if ( self.health <= var_2 )
    {
        if ( isplayer( var_1 ) && ( !isdefined( self.owner ) || var_1 != self.owner ) )
            _id_079A::_id_AB05( "jackal", var_1, var_5, var_4, var_2, "destroyed_jackal", "jackal_destroyed", "callout_destroyed_harrier" );
    }

    if ( self.health - var_2 <= 900 && ( !isdefined( self._id_DE54 ) || !self._id_DE54 ) )
        self._id_DE54 = 1;

    self _meth_842B( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11 );
}

_id_A0E0( var_0, var_1, var_2, var_3 )
{
    var_0 endon( "death" );
    var_0 endon( "leaving" );
    var_0 setvehgoalpos( var_0._id_AEC9, 1 );
    var_0 thread _id_33BB( var_0._id_AEC9 );
    var_0 waittill( "goal" );
    var_0 thread _id_10B63();

    if ( isdefined( var_3 ) )
    {
        var_4 = var_0._id_03C7;
        var_5 = var_0._id_0E1F;
    }
    else
    {
        var_4 = var_0._id_03C7 / 4;
        var_5 = var_0._id_0E1F / 6;
    }

    var_0 vehicle_setspeed( var_4, var_5 );
    var_0 _id_9577( var_1._id_96B8, var_0._id_110CD, var_2 );
}

_id_957B()
{
    self endon( "death" );
    var_0 = self._id_03C7;
    var_1 = self._id_0E1F;
    self setmaxpitchroll( 0, 0 );
    self notify( "leaving" );
    self._id_9155 = 1;
    self _meth_807D();

    if ( isdefined( self._id_F896 ) && isdefined( self._id_EEEE ) )
        scripts\mp\utility\outline::outlinedisable( self._id_EEEE, self._id_F896 );

    var_2 = int( self._id_03C7 / 14 );
    var_3 = int( self._id_0E1F / 16 );

    if ( isdefined( var_0 ) )
        var_2 = var_0;

    if ( isdefined( var_1 ) )
        var_3 = var_1;

    self vehicle_setspeed( var_2, var_3 );
    var_4 = self.origin + anglestoforward( ( 0, randomint( 360 ), 0 ) ) * 500;
    var_4 = var_4 + ( 0, 0, 1000 );
    self setvehgoalpos( var_4, 1 );

    if ( isdefined( self._id_FE8E ) )
        self._id_FE8E delete();

    self waittill( "goal" );
    var_5 = _id_6BFD();
    self vehicle_setspeed( 250, 75 );
    self setvehgoalpos( var_5, 1 );
    self waittill( "goal" );
    self stoploopsound();
    level._id_8B3A[level._id_8B3A.size - 1] = undefined;
    self notify( "jackal_gone" );

    if ( scripts\mp\utility\game::getgametype() != "arm" )
        _id_9576();
}

_id_6BFD()
{
    var_0 = 150;
    var_1 = 15000;
    var_2 = self.angles[1];
    var_3 = ( 0, var_2, 0 );
    var_4 = self.origin + anglestoforward( var_3 ) * var_1;
    return var_4;
}

_id_9577( var_0, var_1, var_2 )
{
    _id_47E8( var_0, var_1 );

    if ( scripts\mp\utility\game::getgametype() != "vip" && scripts\mp\utility\game::getgametype() != "arm" && scripts\mp\utility\game::getgametype() != "btm" )
    {
        var_1._id_EFA4 = scripts\engine\utility::array_remove( var_1._id_EFA4, var_2 + self._id_E493 );
        thread _id_957B();
    }
}

_id_47E8( var_0, var_1 )
{
    self endon( "bugOut" );
    var_2 = undefined;
    var_3 = var_0[0];
    var_4 = var_0[1];
    var_5 = _id_F3C6( var_3, var_4, 20 );
    var_2 = ( var_3, var_4, var_5 );

    if ( scripts\mp\utility\game::getgametype() == "arm" )
    {
        var_5 = _id_F3C6( var_3, var_4, 5, 1 );
        var_2 = ( var_3, var_4, var_5 + 200 );
    }

    self _meth_807D();
    self setvehgoalpos( var_2, 1 );
    self waittill( "goal" );

    if ( scripts\mp\utility\game::getgametype() == "vip" )
        self notify( "esc_littlebird_arrive" );
    else if ( scripts\mp\utility\game::getgametype() == "arm" )
    {
        self vehicle_setspeed( self._id_03C7 / 8, self._id_0E1F / 12 );
        var_5 = _id_F3C6( var_3, var_4, undefined, 1 );
        var_2 = ( var_3, var_4, var_5 + 120 );
        self setvehgoalpos( var_2, 1 );
        self notify( "esc_littlebird_arrive" );
        self waittill( "goal" );
        self vehicle_setspeed( self._id_03C7 / 3, self._id_0E1F / 4 );
    }
    else if ( scripts\mp\utility\game::getgametype() == "btm" )
        self notify( "esc_littlebird_arrive" );
}

_id_F3C6( var_0, var_1, var_2, var_3 )
{
    var_4 = 30;
    var_5 = _id_F3C8( var_0, var_1, var_3 );
    var_6 = var_5 + var_4;

    if ( isdefined( var_2 ) )
        var_6 = var_6 + randomint( var_2 );

    return var_6;
}

_id_F3C8( var_0, var_1, var_2 )
{
    self endon( "death" );
    self endon( "acquiringTarget" );
    self endon( "leaving" );
    var_3 = -99999;
    var_4 = self.origin[2] + 2000;
    var_5 = level._id_1F74;
    var_6 = [ self ];

    if ( isdefined( self._id_500B ) )
    {
        foreach ( var_8 in self._id_500B )
            var_6[var_6.size] = var_8;
    }

    var_10 = 256;

    if ( isdefined( var_2 ) )
        var_11 = scripts\engine\trace::ray_trace( ( var_0, var_1, var_4 ), ( var_0, var_1, var_3 ), var_6, undefined, undefined, 1 );
    else
        var_11 = scripts\engine\trace::_id_E406( ( var_0, var_1, var_4 ), ( var_0, var_1, var_3 ), 256, var_6, undefined, 1 );

    if ( var_11["position"][2] < var_5 )
        var_12 = var_5;
    else
        var_12 = var_11["position"][2];

    return var_12;
}

_id_10B63()
{
    self endon( "death" );
    self endon( "leaving" );
    level waittill( "game_ended" );
    thread _id_957B();
}

_id_33BB( var_0 )
{
    self endon( "goal" );
    self endon( "death" );
    self endon( "leaving" );

    for (;;)
    {
        if ( distance2d( self.origin, var_0 ) < 768 )
        {
            self setmaxpitchroll( 10, 25 );
            break;
        }

        wait 0.05;
    }
}

_id_0DE1()
{
    thread _id_957B();
}
