// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

debugscripterrors()
{

}

init()
{
    level.arena_evo_num_matches_until_buy_round = 3;
    level._id_2AA8 = 1;
    level._id_DDBF = 1;
    level._id_10D0E = scripts\mp\gametypes\arena_evo_tourney_loot::_id_AD33;
    level._id_2A75 = spawnstruct();
    level._id_2A75._id_B954 = 9999;
    scripts\mp\gametypes\arena_evo_tourney_util::_id_1A63( "arena_evo_player_state_intermission" );

    if ( !getdvarint( "scr_arena_evo_upgrades_enabled", 1 ) )
        level._id_10D0E = scripts\mp\gametypes\arena_evo_tourney_loot::_id_AD34;

    if ( !getdvarint( "scr_arena_evo_upgrade_on_weapon_pickup", 1 ) )
        level._id_10D0E = undefined;

    scripts\mp\gametypes\arena_evo_tourney_util::_id_D212();
    level._id_1A69 = [];
    level._id_1A69[level._id_1A69.size] = level._id_14F0;
    level._id_1A69[level._id_1A69.size] = level._id_1FC7;
    level._id_1A69[level._id_1A69.size] = "mp_dom_spawn";
    level._id_1A69[level._id_1A69.size] = "mp_tdm_spawn";
}

_id_1AAE()
{
    _func_01AD( "v_ui_icon_chapion_hill_weapon_waypoint" );
    scripts\mp\gametypes\arena_evo_tourney_loot::_id_9844();
    scripts\mp\gametypes\arena_evo_tourney_util::_id_A43B();
    _func_01E5( "ui_hide_minimap", !getdvarint( "scr_arena_evo_minimap_enabled", 1 ) );
    _id_0A7A::_id_C27F( ::_id_1AC6 );
    _id_0A7A::_id_C27F( scripts\mp\gametypes\arena_evo_tourney_util::_id_F3D9 );
    _id_0A65::_id_C277( ::_id_1AAC );
    _id_0A65::_id_C277( scripts\mp\gametypes\arena_evo::grantexp_onplayerdisconnectgiveexp );
    scripts\mp\gametypes\arena_evo_tourney_util::_id_C1BE( scripts\mp\gametypes\arena_evo_tourney_util::_id_46D0 );
    level._id_1A97 = [];
    scripts\mp\gametypes\arena_evo_tourney_util::_id_81AC( "arena_2", 2, "palace", 3 );
    scripts\mp\gametypes\arena_evo_tourney_util::_id_81AC( "arena_4", 2, "train", 1 );
    scripts\mp\gametypes\arena_evo_tourney_util::_id_81AC( "arena_market", 2, "market", 4 );
    scripts\mp\gametypes\arena_evo_tourney_util::_id_81AC( "arena_train_2", 2, "train2", 2 );
    scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_81B5();
    level thread _id_1AAF();
    level thread _id_1ACC();
    level thread scripts\mp\gametypes\arena_evo_tourney_util::_id_446A();
    level thread _id_AD2E();
    level._id_2A6F._id_2A1C["brloot_armor_plate"] = "equip_armorplate";
    level._id_CAA9 = scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AC8;
    level._id_CAA5 = scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AA7;
    scripts\mp\gametypes\s4_armory_kiosk::init();
}

_id_AD2E()
{
    while ( level._id_E275.size <= 0 )
        waitframe();

    var_0 = getentarray( "mp_global_intermission", "classname" );

    foreach ( var_6, var_2 in level._id_E275 )
    {
        foreach ( var_5, var_4 in var_2 )
        {
            level._id_E275[var_6][var_5].origin = var_0[0].origin;
            level._id_E275[var_6][var_5].angles = var_0[0].angles;
        }
    }
}

_id_1AC6()
{
    var_0 = self;

    if ( game["state"] == "postgame" )
        return;

    if ( !isdefined( var_0._id_B943 ) )
        var_0._id_B943 = 0;

    if ( !istrue( var_0._id_7584 ) )
    {
        var_0._id_7584 = 1;
        var_1 = getdvarint( "scr_arena_evo_cash_start", 500 );
        scripts\mp\gametypes\arena_evo_tourney_loot::_id_1A9E( var_0, var_1, undefined, 1 );
    }

    foreach ( var_3 in level._id_29E3 )
        var_0._id_29D3[var_3] = 30;

    if ( isbot( var_0 ) )
        var_0 thread scripts\mp\gametypes\arena_evo_tourney_util::_id_5E25();

    var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_1A62( level._id_1A43 );
    var_0._id_AC77 = var_0 getplayerangles();
    var_0 setclientomnvar( "ui_hide_minimap", !getdvarint( "scr_arena_evo_minimap_enabled", 1 ) );
    var_0 thread scripts\mp\gametypes\arena_evo_tourney_util::_id_F707();
}

_id_1AC7( var_0 )
{
    var_1 = self;
    var_1._id_10841 = 0;

    if ( isdefined( var_1._id_9441 ) )
    {
        _id_07C1::_id_943C( var_1, var_1._id_9441, 0 );
        var_1._id_9441 = undefined;
    }

    if ( isdefined( var_1._id_E274 ) )
        var_1 thread _id_07EC::_id_476F();

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_1 ) )
    {
        level thread arenatournament_listen_spectate( var_1 );
        return;
    }

    var_1 setclientomnvar( "ui_match_start_countdown", -1 );
    var_1 setclientomnvar( "ui_match_in_progress", 1 );
    var_1 setclientomnvar( "ui_arena_evo_bye", 0 );

    if ( istrue( var_0 ) )
    {
        foreach ( var_3 in level._id_EF86 )
        {
            var_4 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67A0( var_3 ) + 1;
            setomnvar( "ui_arena_match_score_team" + var_4, 0 );
        }
    }
    else
    {
        var_6 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_1.pers["team"] );
        _id_B264( var_1, var_6, 3 );
    }

    if ( istrue( var_1._id_DC91 ) )
    {
        var_1 setclientomnvar( "ui_arena_mod_card", level._id_4147._id_7C71 );
        var_1._id_DC91 = 0;

        if ( !scripts\engine\utility::is_equal( level._id_4147._id_C17B, "none" ) )
            scripts\engine\utility::_id_46C3( 1, _id_0A64::_id_9122, "mod_card_activated", [ var_1 ] );
    }
    else if ( !istrue( var_1._id_7552 ) && scripts\mp\gametypes\arena_evo_tourney_util::_id_1A6F( var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_6642() ) )
    {
        level thread _id_0A64::_id_9122( "keep_fighting", [ var_1 ] );
        var_1._id_7552 = 1;
    }

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() || scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( var_1 ) )
    {
        var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_1A62( "arena_evo_player_state_loot_round" );
        level thread _id_0A64::_id_9122( "mid_match_buy", [ var_1 ] );
    }
    else
        var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_1A62( "arena_evo_player_state_playing" );

    var_1 thread _id_1AB3();

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( var_1 ) )
    {
        level thread arenatournament_listen_spectate( var_1 );
        var_1 thread scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_1AA2();

        if ( istrue( var_0 ) )
        {
            if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() )
                var_1 thread scripts\mp\gametypes\arena_evo_tourney_util::_id_CA0A();

            foreach ( var_8 in level._id_1A55 )
                _func_0180( var_8, var_1 );
        }

        var_1._id_C934 = "spectated_this_round";
    }
    else
    {
        foreach ( var_8 in level._id_1A55 )
            _func_0184( var_8, var_1 );

        if ( !scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_431B() )
            var_1 thread scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_1A9D();
    }

    var_3 = var_1.pers["team"];

    if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( var_3 ) )
        var_1 scripts\mp\gametypes\arena_evo_tourney_loot::run_match_start_funcs();
}

_id_B264( var_0, var_1, var_2 )
{
    var_3 = getdvarint( "scr_arena_evo_team_health", 12 );

    if ( var_3 >= 15 )
    {
        if ( var_1 < 15 && var_1 > 10 )
            scripts\engine\utility::_id_46C3( var_2, _id_0A64::_id_9122, "large_amount_lives_remaining", [ var_0 ] );
    }

    if ( var_3 >= 10 )
    {
        if ( var_1 < 10 && var_1 > 5 )
            scripts\engine\utility::_id_46C3( var_2, _id_0A64::_id_9122, "medium_amount_lives_remaining", [ var_0 ] );
    }

    if ( var_1 < 6 && var_1 > 0 )
        scripts\engine\utility::_id_46C3( var_2, _id_0A64::_id_9122, "ch_" + var_1 + "_lives_left", [ var_0 ] );
}

_id_1AD2( var_0 )
{
    setomnvar( "ui_arena_round_index", var_0 );
    setomnvar( "ui_arena_match_display_index", scripts\mp\gametypes\arena_evo_tourney_util::_id_6564() );
    setomnvar( "ui_arena_matches_until_buy_round", scripts\mp\gametypes\arena_evo_tourney_util::_id_6567() );

    foreach ( var_2 in scripts\mp\gametypes\arena_evo_tourney_util::_id_631B() )
    {
        var_3 = scripts\mp\gametypes\arena_evo_tourney_util::_id_668A( var_2 );

        foreach ( var_5 in var_3 )
            scripts\mp\gametypes\arena_evo_tourney_util::_id_D347( var_5, var_2 );
    }
}

_id_1AA5()
{
    var_0 = self;
    var_0 endon( "disconnect" );
    level endon( "game_ended" );

    if ( istrue( level._id_609B ) )
        return;

    var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_1A62( "arena_evo_player_state_intermission" );

    if ( !istrue( level._id_CA36 ) )
        wait 1.5;

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0 ) )
    {
        if ( istrue( var_0._id_DC98 ) )
        {
            arenatournament_enter_eliminated_screen( var_0 );
            var_0._id_DC98 = 0;
        }
    }

    level thread scripts\cp_mp\utility\game_utility::_id_58A7( var_0, 1, 0.5 );
    wait 0.5;
    level._id_91C9 = 5;
    var_0.pers["wmStreakAmmo"] = undefined;
    var_0.pers["mgStreakAmmo"] = undefined;

    if ( getdvarint( "scr_killPlayerOnArenaChange", 0 ) )
    {
        self._id_A5A7 = 1;
        self._id_C6B3 = 1;

        if ( istrue( level._id_CA36 ) )
            var_0._id_DDA5 = 1;

        var_0 _meth_81F9();
        wait 0.1;

        if ( istrue( level._id_CA36 ) )
            var_0._id_DDA5 = 0;

        if ( scripts\mp\utility\player::isreallyalive( var_0 ) )
            var_0._id_161B = 1;

        var_0 scripts\mp\playerlogic::_id_E334();
        var_0._id_C6B3 = 0;
    }
    else if ( scripts\mp\utility\player::isreallyalive( var_0 ) )
    {
        var_0 notify( "jugg_force_ended" );
        waitframe();
        var_1 = var_0 scripts\mp\playerlogic::_id_6D2C();
        var_0 _id_07EE::_id_5A80( var_1._id_E33F );
        var_0 _meth_8062();
        var_0 setorigin( var_1._id_E32F, 1 );
        var_0 thread delayedsetplayerangles( var_1._id_E264 );
        var_0 setstance( "stand" );
        var_0 _id_09E8::_id_A033();
        var_0.health = self.maxhealth;
        var_0 scripts\mp\healthoverlay::_id_AACC( 1 );
        var_0 scripts\mp\class::_id_BB8A( self.class, 1 );
        var_0 scripts\mp\class::_id_6F94( self.team, self.class );
        var_0 _id_1AC6();
    }
    else
        var_0 scripts\mp\playerlogic::_id_E334();

    level thread scripts\cp_mp\utility\game_utility::_id_58A7( var_0, 0, 0.5 );

    if ( istrue( var_0._id_C698 ) )
    {
        var_0 _id_0A70::_id_D5DD( 77, undefined, 3 );
        var_0._id_C698 = undefined;
    }
}

delayedsetplayerangles( var_0 )
{
    wait 1;
    self setplayerangles( var_0 );
}

_id_1ACC()
{
    scripts\mp\gametypes\arena_evo_tourney_util::_id_106EF();

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_65E4( 1 ) == 0 )
        level thread _id_0A64::_id_9122( "champion_hill_start", level.players );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_65E4( 1 ) == 1 )
        level thread _id_0A64::_id_9122( "arena_evo_matchup_2", level.players );

    level._id_5E42 = 1;
    scripts\mp\gametypes\arena_evo_tourney_util::_id_D66A();
    scripts\mp\gametypes\arena_evo_tourney_loot::_id_1ACD();
    scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_1A9C();
    scripts\mp\gametypes\arena_evo_tourney_util::_id_CB46();
    level._id_7D5B = scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5();

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() )
        level.arena_evo_last_buy_round = scripts\mp\gametypes\arena_evo_tourney_util::_id_65E4( 1 );
    else
    {

    }

    scripts\mp\gametypes\arena_evo_tourney_util::_id_C9A5();

    if ( attempt_to_end_game_due_to_match_limit() )
        return;

    level thread _id_0761::_id_2F7F( 1 );
    scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_1AA1();

    if ( !_id_1AB0() )
        scripts\mp\gametypes\arena_evo_tourney_util::_id_73ED();
}

attempt_to_end_game_due_to_match_limit()
{
    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() )
        return 0;

    var_0 = getdvarint( "scr_arena_evo_max_rounds", 20 );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_65E4( 0, 1 ) >= var_0 - 1 )
    {
        var_1 = get_teams_with_most_lives();

        if ( var_1.size > 0 )
            _id_F726( "tie", 1 );
        else
            _id_F726( var_1[0], 1 );

        return 1;
    }

    return 0;
}

get_teams_with_most_lives()
{
    var_0 = -1;

    foreach ( var_2 in scripts\mp\gametypes\arena_evo_tourney_util::_id_67AB() )
    {
        var_3 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_2 );

        if ( var_3 > var_0 )
            var_0 = var_3;
    }

    var_5 = [];

    foreach ( var_2 in scripts\mp\gametypes\arena_evo_tourney_util::_id_67AB() )
    {
        var_3 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_2 );

        if ( var_3 == var_0 )
            var_5[var_5.size] = var_2;
    }

    return var_5;
}

_id_1A9F( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    var_10 = self;
    _id_1AAC( var_10, var_1, 0 );
}

_id_1AB2( var_0 )
{
    var_0 endon( "disconnect" );

    if ( isbot( var_0 ) )
        return;

    if ( !getdvarint( "scr_arena_evo_upgrades_enabled", 1 ) )
        return;

    level endon( "game_ended" );
    var_0 notifyonplayercommand( "spend_kill_credit_command", "-actionslot 4" );
    var_0 notifyonplayercommand( "spend_kill_credit_command", "killstreak1" );

    for (;;)
    {
        var_0 waittill( "spend_kill_credit_command" );
        scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AD1( var_0 );
    }
}

_id_1AD4()
{
    var_0 = self;
    self endon( "disconnect" );
    self endon( "noLongerAffordUpgrade" );
    var_0 setclientomnvar( "ui_arena_upgrade_ready", gettime() );

    while ( var_0._id_C322 )
    {
        wait 20;

        if ( !var_0 _meth_876B( "ui_arena_remind_upgrades", 0 ) )
            var_0 setclientomnvar( "ui_arena_remind_upgrades", 1 );

        var_0 setclientomnvar( "ui_arena_remind_upgrades_notify", gettime() );
    }
}

_id_1AB3()
{
    var_0 = self;
    var_0 endon( "death_or_disconnect" );
    var_0 notify( "ArenaTournament_Listen_Weapon_Change" );
    var_0 endon( "ArenaTournament_Listen_Weapon_Change" );

    if ( isbot( var_0 ) )
        return;

    for (;;)
    {
        var_1 = var_0 getcurrentprimaryweapon();
        var_2 = var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AAB( var_1, 0 );
        var_3 = getweaponbasename( var_1 );
        var_4 = isdefined( var_2 );

        if ( var_4 )
        {
            if ( !var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AAD( var_3 ) )
                var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1ACE( var_3, 0 );
        }
        else
            var_0 setclientomnvar( "ui_player_current_weapon_upgrade_cost", -1 );

        if ( var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AAD( var_3 ) )
        {
            var_5 = var_0 scripts\mp\gametypes\arena_evo_tourney_weapon_util::_id_1AAA( var_3 );

            if ( var_4 )
                var_6 = ( var_5 + 1 ) * getdvarint( "scr_arena_evo_attachment_cost", 100 );
            else
                var_6 = -1;

            var_0 setclientomnvar( "ui_arena_current_weapon_rank", var_5 );
            var_0 setclientomnvar( "ui_player_current_weapon_upgrade_cost", var_6 );
            var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AC5();

            if ( istrue( var_0._id_DCE2 ) && var_5 > 0 )
            {
                var_0._id_DCE2 = undefined;
                var_0 scripts\mp\hud_message::showsplash( "weapon_upgrade", var_0 scripts\mp\gametypes\arena_evo_tourney_weapon_util::_id_1AAA( var_3 ) );
            }
        }

        if ( istrue( var_0._id_1A60 ) )
        {
            var_0._id_1A60 = 0;
            var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_B608();
        }

        var_0 scripts\engine\utility::_id_108C3( "weapon_change", "giveLoadout" );
    }
}

arenatournament_listen_report()
{
    var_0 = self;
    var_0 endon( "disconnect" );
    var_0 endon( "exit_spectate_listener" );
    var_0 notifyonplayercommand( "report_player", "+melee_zoom" );
    var_0 notifyonplayercommand( "dpad_up_release", "-actionslot 1" );

    for (;;)
    {
        var_1 = var_0 scripts\engine\utility::_id_10894( "report_player", "dpad_up_release" );

        if ( var_1 == "report_player" )
        {
            var_0 setclientomnvar( "ui_arena_report_player_spectating", gettime() );
            continue;
        }

        return;
    }
}

arenatournament_listen_spectate( var_0 )
{
    var_0 notify( "exit_spectate_listener" );
    var_0 endon( "disconnect" );
    var_0 endon( "exit_spectate_listener" );

    if ( isbot( var_0 ) )
        return;

    if ( !getdvarint( "scr_arena_evo_spectate_enabled", 1 ) )
        return;

    level endon( "game_ended" );
    var_0 notifyonplayercommand( "dpad_up_release", "-actionslot 1" );
    var_0 notifyonplayercommand( "special_pressed", "+special" );

    for (;;)
    {
        if ( istrue( var_0.isspectating ) )
        {
            if ( istrue( var_0.isspectatingarena ) )
            {
                var_0 thread arenatournament_listen_report();
                var_0 scripts\engine\utility::_id_108C3( "dpad_up_release", "special_pressed" );
                var_0 arenatournament_enter_spectate_overview();
            }
            else
            {
                var_0 waittill( "luinotifyserver", var_1, var_2 );

                if ( scripts\engine\utility::is_equal( var_1, "arena_evo_close_spectate_overview" ) )
                    var_0 _id_1AA6();
                else if ( scripts\engine\utility::is_equal( var_1, "arena_evo_spectate_arena" ) )
                    var_0 arenatournament_enter_spectate_arena( var_2 );
            }

            continue;
        }

        var_0 scripts\engine\utility::_id_108C3( "dpad_up_release", "special_pressed" );

        if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( var_0.pers["team"] ) && !scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() || scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0 ) )
            var_0 arenatournament_enter_spectate_overview();
    }
}

_id_1AAC( var_0, var_1, var_2 )
{
    var_3 = gettime();

    if ( !isdefined( var_2 ) )
        var_2 = 1;

    if ( var_2 )
    {
        if ( isdefined( var_0._id_2FD1 ) )
            var_0._id_2FD1 delete();

        if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0.pers["team"] ) )
            return;
    }

    if ( _id_1AB0() )
        return;

    if ( istrue( var_0._id_C6B3 ) )
    {
        var_0._id_C6B3 = undefined;
        return;
    }

    if ( isdefined( var_1 ) && istrue( var_1._id_1A3B ) )
        var_1 thread scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_D329();

    if ( istrue( var_0._id_1A79 ) )
        return;

    var_4 = var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_6642();
    var_5 = var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_6345();
    var_6 = var_5["opponents"];

    if ( isdefined( var_1 ) && isdefined( var_1.pers ) )
        var_7 = var_1.pers["team"];
    else
        var_7 = undefined;

    if ( !var_2 && isdefined( var_7 ) )
        var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_E1BD( 0, var_1 );

    var_8 = var_5["teammates"];
    var_9 = var_0.pers["team"];
    thread _id_081F::_id_DEF5( scripts\mp\gametypes\arena_evo_tourney_util::_id_668A( var_9 ) );

    if ( var_2 )
    {
        var_10 = scripts\engine\utility::array_remove( var_8, var_0 );

        foreach ( var_12 in var_10 )
        {
            if ( scripts\engine\utility::is_equal( var_0, var_12 ) )
                continue;

            var_13 = var_0 scripts\mp\gametypes\arena_evo_tourney_loot::_id_1AA7();
            var_13 = int( 1 / var_10.size ) scripts\mp\gametypes\arena_evo_tourney_loot::_id_1A9E( var_0, var_13, "arena_evo_teammate_left" );
        }
    }

    var_15 = _id_64BD( var_0.pers["team"] );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_DA9F( var_0.pers["team"], var_2 ) )
    {
        var_16 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_0.pers["team"] );
        scripts\mp\gametypes\arena_evo_tourney_util::_id_C433( var_0.pers["team"], var_16, 1 );
    }
    else
    {
        var_17 = var_15 == 9999;
        var_18 = var_0.pers["team"];
        var_19 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_18 );
        scripts\mp\gametypes\arena_evo_tourney_util::_id_C433( var_18, var_15, var_17 );
        var_20 = var_19 > 0;
        var_0 scripts\mp\gametypes\arena_evo_tourney_util::set_player_respawn( var_20 );
    }

    if ( isdefined( var_7 ) )
    {
        if ( scripts\engine\utility::is_equal( var_9, var_7 ) )
            var_21 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67A2( var_7 );
        else
            var_21 = var_7;

        var_22 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67A0( var_21 ) + 1;
        var_23 = _func_00BE( "ui_arena_match_score_team" + var_22 );
        var_23 = var_23 + 1;
        setomnvar( "ui_arena_match_score_team" + var_22, var_23 );
    }

    if ( !scripts\engine\utility::is_equal( var_9, var_7 ) )
    {
        if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_1A6F( var_4 ) )
        {
            scripts\mp\gametypes\arena_evo_tourney_loot::_id_1A9E( var_1, getdvarint( "scr_arena_evo_first_blood_amount", 500 ), "firstblood" );

            if ( isdefined( var_4 ) )
                var_4._id_5BB4 = var_1;
        }
        else
            scripts\mp\gametypes\arena_evo_tourney_loot::_id_1A9E( var_1 );
    }

    if ( isdefined( var_1 ) && isplayer( var_1 ) && !scripts\engine\utility::is_equal( var_9, var_7 ) )
    {
        if ( !isdefined( var_1._id_E770 ) )
            var_1._id_E770 = 1;
        else
            var_1._id_E770 = var_1._id_E770 + 1;

        var_1 setclientomnvar( "ui_arena_evo_stat_kills", var_1._id_E770 );
    }

    _id_F725( var_9, var_0 );
    scripts\mp\gametypes\arena_evo_tourney_util::_id_FB83( var_9 );
}

_id_F726( var_0, var_1 )
{
    if ( istrue( var_1 ) || _id_1AD0() )
    {
        scripts\mp\gametypes\arena_evo_tourney_util::arenatournament_dlog_record_end_of_game();
        _id_1AA3( var_0 );
        return 1;
    }
    else
        return 0;
}

_id_F725( var_0, var_1 )
{
    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0 ) )
        return;

    if ( isdefined( var_1 ) )
    {
        var_2 = var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_6642();
        var_3 = var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_6345();
    }
    else
    {
        var_2 = scripts\mp\gametypes\arena_evo_tourney_util::_id_679A( var_0 );
        var_3 = undefined;
    }

    var_4 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67A2( var_0 );
    var_5 = scripts\mp\gametypes\arena_evo_tourney_util::_id_668A( var_0 );
    var_6 = scripts\mp\gametypes\arena_evo_tourney_util::_id_668A( var_4 );
    var_7 = scripts\mp\gametypes\arena_evo_tourney_util::_id_66F5( var_0 );

    if ( var_7 == 0 || var_7 == -1 )
    {
        var_8 = 1;

        if ( var_7 == 0 && getdvarint( "scr_arena_evo_team_eliminations_enabled", 1 ) )
        {
            if ( isdefined( var_1 ) )
            {
                if ( !istrue( var_1._id_9CB6 ) )
                    var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_4A15();

                if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_65E6( var_1.pers["team"] ) > 0 )
                {
                    var_8 = 0;

                    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_65E6( var_1.pers["team"] ) == 1 )
                    {
                        foreach ( var_10 in var_5 )
                        {
                            if ( var_10 scripts\mp\gametypes\arena_evo_tourney_util::_id_865B() )
                                var_10 thread _id_0A64::_id_9120( "last_man_standing" );
                        }
                    }
                }
            }
        }

        if ( var_8 )
        {
            scripts\mp\gametypes\arena_evo_tourney_util::_id_D3D2( [ var_0 ], 0, var_4 );
            var_12 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67A0( var_0 ) + 1;
            level thread _id_0A64::_id_9122( "eliminated_team_" + var_12, var_6 );
            level thread _id_0A64::_id_9122( "buy_round_reminder", var_6 );
            var_13 = level._id_EF86.size - level._id_1A45.size;

            if ( var_13 < 3 )
            {
                if ( !isdefined( level._id_1A7D ) )
                    level._id_1A7D = [];

                level._id_1A7D[level._id_1A7D.size] = var_0;
            }

            foreach ( var_10 in var_5 )
            {
                var_10._id_DC98 = 1;
                var_10 _meth_82F4( "ui_opensummary", 1 );
            }

            if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_67AB().size == 2 )
            {
                var_16 = scripts\mp\gametypes\arena_evo_tourney_util::_id_649A() - 10;

                if ( level._id_1A5F < var_16 )
                    level._id_1A5F = var_16;
            }

            foreach ( var_18 in var_6 )
            {
                var_19 = getdvarint( "scr_arena_evo_cash_elimination_reward", 500 );
                scripts\mp\gametypes\arena_evo_tourney_loot::_id_1A9E( var_18, var_19, "arena_evo_team_eliminated" );

                if ( isdefined( var_18 ) && isplayer( var_18 ) )
                {
                    if ( !isdefined( var_18._id_E758 ) )
                        var_18._id_E758 = 1;
                    else
                        var_18._id_E758 = var_18._id_E758 + 1;

                    var_18 setclientomnvar( "ui_arena_evo_stat_eliminations", var_18._id_E758 );
                }
            }

            thread _id_081F::_id_DEF4( var_1 );
            var_1 scripts\mp\gametypes\arena_evo_tourney_loot::_id_E1BD( 1 );

            if ( isdefined( var_1._id_0251 ) )
                var_1._id_0251 thread _id_0A64::_id_9120( "finished_off" );

            var_2 = var_1 scripts\mp\gametypes\arena_evo_tourney_util::_id_6642();
            scripts\mp\gametypes\arena_evo_tourney_util::_id_B21C( var_2 );
        }
    }

    var_21 = _id_F726( var_4 );

    if ( var_21 )
        return;

    if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0 ) )
    {
        if ( !isdefined( var_1 ) )
            return;

        if ( getdvarint( "scr_arena_evo_respawn_mode", 1 ) )
        {
            var_1._id_1A7A = 1;
            return;
        }

        if ( isdefined( var_3 ) && !scripts\mp\gametypes\arena_evo_tourney_util::_id_1A6D( var_3 ) )
            return;
    }
}

_id_1ACB( var_0, var_1 )
{
    scripts\mp\gametypes\arena_evo_tourney_util::_id_BFF4( var_1 );

    foreach ( var_3 in var_0 )
    {
        var_3._id_C698 = 1;
        var_3 _id_1ACA();
    }
}

_id_1AD0()
{
    var_0 = scripts\mp\gametypes\arena_evo_tourney_util::_id_67AB();
    var_1 = 1;
    var_2 = 0;

    foreach ( var_4 in var_0 )
    {
        if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_4 ) )
            var_2++;
    }

    return var_2 <= 1;
}

_id_1AA3( var_0 )
{
    level._id_1A49 = 1;
    scripts\mp\gametypes\arena_evo_tourney_gameplay_modifiers::_id_1AA0();
    level thread scripts\mp\gametypes\arena_evo::_id_1A47( var_0 );
}

_id_1AB0()
{
    return istrue( level._id_1A49 );
}

_id_64BD( var_0 )
{
    if ( getdvarint( "scr_insta_kill_other_team", 0 ) && scripts\engine\utility::array_contains( scripts\mp\gametypes\arena_evo_tourney_util::_id_6309(), var_0 ) )
        return 9999;

    if ( getdvarint( "scr_insta_kill_my_team", 0 ) && !scripts\engine\utility::array_contains( scripts\mp\gametypes\arena_evo_tourney_util::_id_6309(), var_0 ) )
        return 9999;

    return getdvarint( "scr_arena_evo_team_health_penalty", 1 );
}

_id_1ACA()
{
    if ( self _meth_876B( "post_game_state" ) == 2 )
        return;

    thread _id_1AA5();
}

arenatournament_enter_eliminated_screen( var_0 )
{
    var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_FD41();
    var_0 setclientomnvar( "post_game_state", 2 );
    var_1 = game["round_end"]["round_win"];
    var_2 = game["round_end"]["defeat"];
    var_0 thread scripts\mp\hud_message::_id_EF88( "", 0, var_1, var_2 );
    var_0._id_C934 = "";
    wait( level._id_C931 );
    level thread arenatournament_listen_eliminated_choice( var_0 );
}

arenatournament_listen_eliminated_choice( var_0 )
{
    var_0 notify( "exit_eliminated_listener" );
    var_0 endon( "disconnect" );
    var_0 endon( "exit_eliminated_listener" );

    if ( isbot( var_0 ) )
        return;

    level endon( "game_ended" );

    for (;;)
    {
        var_0 waittill( "luinotifyserver", var_1, var_2 );

        if ( scripts\engine\utility::is_equal( var_1, "arena_evo_eliminated_enter_spectate" ) )
            var_0 arenatournament_enter_octagon();
    }
}

arenatournament_enter_octagon()
{
    var_0 = self;
    var_0 setclientomnvar( "post_game_state", 0 );
}

_startcameraspectateoverview()
{
    var_0 = self;
    var_0 endon( "disconnect" );
    var_0 endon( "force_stop_camera_spectate" );
    level endon( "game_ended" );

    for (;;)
    {
        var_0 cameralinkto();
        var_0 _meth_805E( level._id_1A52, "tag_origin", 1, 1 );

        if ( 0 )
        {
            foreach ( var_2 in level.players )
                var_2 _meth_81B1( var_0, "outline_nodepth_orange" );
        }

        waitframe();
    }
}

_endcameraspectateoverview()
{
    var_0 = self;
    var_0 notify( "force_stop_camera_spectate" );
    var_0 cameralinkto();
    var_0.isspectatingoverview = 0;
    var_0 setclientomnvar( "ui_options_menu", 0 );

    if ( 0 )
    {
        foreach ( var_2 in level.players )
            var_2 _meth_81AE( var_0 );
    }

    var_0 setorigin( var_0 get_spectate_ended_origin() );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_0 ) )
        var_0 scripts\mp\gametypes\arena_evo_tourney_util::_id_D34B();
}

_endspectatearena()
{
    var_0 = self;
    var_0.spectatingarenaindex = undefined;
    var_0 _id_07F1::_id_D6D7();
    var_0 setclientomnvar( "ui_arena_evo_spectating_arena", 0 );
    var_0 scripts\mp\utility\player::_id_FD24( "playing" );
    var_0 setorigin( var_0 get_spectate_ended_origin() );
}

get_spectate_ended_origin()
{
    var_0 = 5;
    var_1 = undefined;

    for ( var_2 = 0; var_2 < var_0; var_2++ )
    {
        var_1 = _id_6B5E( "mp_arena_spawn" ).origin;

        foreach ( var_4 in level.players )
        {
            if ( !scripts\engine\utility::is_equal( var_4, self ) )
                continue;

            if ( !scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( var_4 ) && !scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( var_4 ) )
                continue;

            if ( distance( var_4.origin, self.origin ) < 80 )
                continue;

            return var_1;
        }
    }

    return var_1;
}

arenatournament_enter_spectate_overview()
{
    var_0 = self;

    if ( istrue( var_0.isspectating ) && istrue( var_0.isspectatingarena ) )
    {
        var_0 _endspectatearena();
        var_0.isspectatingarena = 0;
        var_0.isspectating = 0;
    }

    if ( !istrue( var_0.isspectating ) )
    {
        var_0.isspectating = 1;
        var_0.isspectatingoverview = 1;
        var_0 setclientomnvar( "ui_options_menu", 4 );
        var_0 thread _startcameraspectateoverview();
    }
}

arenatournament_enter_spectate_arena( var_0 )
{
    var_1 = self;

    if ( !istrue( var_1.isspectating ) )
        var_1.isspectating = 1;
    else if ( istrue( var_1.isspectatingoverview ) )
    {
        var_1 _endcameraspectateoverview();
        var_1.isspectatingoverview = 0;
    }

    if ( !istrue( var_1.isspectatingarena ) || var_1.spectatingarenaindex != var_0 )
    {
        var_1.isspectatingarena = 1;
        var_1.spectatingarenaindex = var_0;
        var_2 = 0;
        var_1 _meth_8012( "freelook", 0 );
        var_1 _meth_8012( "none", 0 );

        foreach ( var_4 in scripts\mp\gametypes\arena_evo_tourney_util::_id_631B() )
        {
            var_5 = scripts\mp\gametypes\arena_evo_tourney_util::_id_679A( var_4 );
            var_6 = isdefined( var_5 ) && scripts\engine\utility::is_equal( var_5.arena_index, var_0 );
            var_1 _meth_8012( var_4, var_6 );
            var_2 = var_2 || var_6;
        }

        if ( !var_2 )
            var_1 _id_1AA6();
        else
        {
            var_1 setclientomnvar( "ui_arena_evo_spectating_arena", 1 );
            var_1 scripts\mp\utility\player::_id_FD24( "spectator" );
        }
    }
}

_id_1AA6()
{
    var_0 = self;

    if ( istrue( var_0.isspectating ) )
    {
        if ( istrue( var_0.isspectatingoverview ) )
        {
            var_0 _endcameraspectateoverview();
            var_0.isspectating = 0;
            var_0.isspectatingoverview = 0;
        }
        else if ( istrue( var_0.isspectatingarena ) )
        {
            var_0 _endspectatearena();
            var_0.isspectating = 0;
            var_0.isspectatingarena = 0;
        }
    }
}

_id_1AA8()
{
    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_88B5() || scripts\mp\gametypes\arena_evo_tourney_util::_id_DBC6() )
        return _id_6B5E( "mp_dom_spawn" );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_85E8( self.pers["team"] ) )
        return _id_6B5E( "mp_arena_spawn" );

    if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_86C8( self ) )
        return _id_6B5E( "mp_arena_spawn" );

    var_0 = scripts\mp\gametypes\arena_evo_tourney_util::_id_65BA( self.pers["team"] );
    var_1 = var_0._id_03C2;
    var_2 = var_0._id_1A34;
    scripts\mp\gametypes\arena_evo_tourney_util::_id_D323( var_2 );

    if ( !scripts\engine\utility::array_contains( var_2.players, self ) )
        var_2.players[var_2.players.size] = self;

    return var_1;
}

_id_6B5E( var_0 )
{
    if ( !isdefined( level._id_1A64 ) )
        level._id_1A64 = [];

    if ( !isdefined( level._id_1A64[var_0] ) )
        level._id_1A64[var_0] = 0;

    if ( !isdefined( level._id_1A3F ) )
        level._id_1A3F = [];

    if ( !isdefined( level._id_1A3F[var_0] ) )
        level._id_1A3F[var_0] = scripts\engine\utility::_id_1B99( scripts\engine\utility::_id_1B94( _func_00CB( var_0 ) ) );

    var_1 = level._id_1A3F[var_0][level._id_1A64[var_0]];
    level._id_1A64[var_0]++;

    if ( level._id_1A64[var_0] >= level._id_1A3F[var_0].size )
        level._id_1A64[var_0] = 0;

    return var_1;
}

_id_1AAF()
{
    level endon( "game_ended" );

    for (;;)
    {
        level waittill( "run_intermission" );

        if ( level._id_CA36 )
        {
            _func_01E5( "ui_arena_ui_state", 4 );
            setomnvar( "ui_match_start_text", "waiting_for_players" );
            level thread scripts\mp\gametypes\arena_evo_tourney_util::_id_10A40();

            while ( !istrue( level._id_1A48 ) )
                waitframe();

            scripts\mp\gametypes\arena_evo_tourney_util::_id_D3DF();
            level._id_E700 = gettime();

            if ( scripts\mp\gametypes\arena_evo_tourney_util::_id_DBC6() )
                scripts\mp\gametypes\arena_evo_tourney_util::_id_C9E3();

            if ( isdefined( game["flags"]["ch_tutorial_done"] ) )
                _id_07A8::_id_60A2( "ch_tutorial_done" );

            scripts\mp\gametypes\arena_evo_tourney_util::_id_10751();
            level._id_CA36 = 0;
        }
    }
}
