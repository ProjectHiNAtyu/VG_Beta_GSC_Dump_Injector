// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._id_ACD6 = 0;
    level._id_ACC4 = [];
    level._id_ACD7 = [];
    _id_0A65::_id_C277( ::_id_ACDE );
    _id_0A6E::_id_C27C( ::_id_ACE1 );
    scripts\mp\perks\perks::_id_C27B( ::_id_ACDF );
    level thread _id_ACD8();
}

_id_ACC0( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    if ( !isdefined( var_0._id_ACEB ) )
        var_0._id_ACEB = [];

    var_7 = spawnstruct();
    var_7._id_87E6 = 0;
    var_7._id_BD19 = var_3;
    var_7._id_B7D8 = var_1;
    var_7._id_B7D9 = [];
    var_7._id_7B6F = var_2;
    var_7._id_048F = var_4;
    var_7.team = var_5;
    var_7._id_E493 = var_6;
    var_8 = _id_ACC9();
    var_0._id_ACEB[var_8] = var_7;
    _id_ACAF( var_0 );
    var_9 = [];

    foreach ( var_11 in var_7._id_B7D8 )
    {
        if ( !_id_3180( var_11 ) )
        {
            var_7._id_B7D9[var_7._id_B7D9.size] = var_11;
            level._id_ACD7[var_8] = var_0;
            continue;
        }

        var_12 = _id_ACCA( var_0, var_11 );

        if ( !isdefined( var_12 ) || var_12 == var_7 || var_12._id_BD19 == var_7._id_BD19 )
            var_9[var_9.size] = var_11;
    }

    if ( var_9.size > 0 )
        var_0 _id_0C03( var_9, var_7._id_7B6F );

    return var_8;
}

_id_ACB8( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
    {
        level._id_ACC4 = scripts\engine\utility::_id_1BA9( level._id_ACC4 );
        return;
    }
    else if ( !isdefined( var_1._id_ACEB ) )
    {
        _id_ACE9( var_1 );
        return;
    }

    var_2 = var_1._id_ACEB[var_0];

    if ( !isdefined( var_2 ) || var_2._id_87E6 )
        return;

    var_2._id_87E6 = 1;

    foreach ( var_4 in var_2._id_B7D8 )
    {
        if ( !isdefined( var_4 ) )
            continue;

        if ( !_id_3180( var_4 ) )
        {
            var_2._id_B7D9[var_2._id_B7D9.size] = var_4;
            level._id_ACD7[var_0] = var_1;
            continue;
        }

        var_5 = _id_ACCA( var_1, var_4 );

        if ( isdefined( var_5 ) )
        {
            if ( var_5._id_BD19 <= var_2._id_BD19 )
                var_1 _id_0C02( var_4, var_5._id_7B6F );

            continue;
        }

        var_1 _meth_81AE( var_4 );
    }

    if ( var_2._id_B7D9.size == 0 )
    {
        var_1._id_ACEB[var_0] = undefined;

        if ( var_1._id_ACEB.size == 0 )
            _id_ACE9( var_1 );
    }
}

_id_ACE7( var_0 )
{
    if ( !isdefined( var_0._id_ACEB ) || var_0._id_ACEB.size == 0 )
        return;

    foreach ( var_7, var_2 in var_0._id_ACEB )
    {
        if ( !isdefined( var_2 ) || var_2._id_87E6 )
            continue;

        foreach ( var_4 in var_2._id_B7D8 )
        {
            if ( !isdefined( var_4 ) )
                continue;

            var_5 = _id_ACCA( var_0, var_4 );

            if ( isdefined( var_5 ) )
                var_0 _id_0C02( var_4, var_5._id_7B6F );
        }
    }
}

_id_ACDE( var_0 )
{
    _id_ACEA( var_0 );
    _id_ACB9( var_0 );
}

_id_ACE1( var_0 )
{
    if ( !isdefined( var_0.team ) || var_0.team == "spectator" || var_0.team == "follower" )
        return;

    thread _id_ACE2( var_0 );
}

_id_ACE2( var_0 )
{
    var_0 notify( "outlineOnPlayerJoinedTeam_onFirstSpawn" );
    var_0 endon( "outlineOnPlayerJoinedTeam_onFirstSpawn" );
    var_0 endon( "disconnect" );
    var_0 waittill( "spawned_player" );
    _id_ACEA( var_0 );
    _id_ACB9( var_0 );
    _id_ACAC( var_0 );
}

_id_ACDF( var_0 )
{
    thread _id_ACE0( var_0 );
}

_id_ACE0( var_0 )
{
    var_0 notify( "outlineOnPlayerJoinedSquad_onFirstSpawn" );
    var_0 endon( "outlineOnPlayerJoinedSquad_onFirstSpawn" );
    var_0 endon( "disconnect" );
    var_0 waittill( "spawned_player" );
    _id_ACEA( var_0, 1 );
    _id_ACAD( var_0 );
}

_id_ACEA( var_0, var_1 )
{
    level._id_ACC4 = scripts\engine\utility::_id_1BA9( level._id_ACC4 );

    foreach ( var_3 in level._id_ACC4 )
    {
        var_4 = 0;

        foreach ( var_6 in var_3._id_ACEB )
        {
            if ( istrue( var_1 ) )
            {
                if ( var_6._id_048F != "SQUAD" )
                    continue;
            }

            var_6._id_B7D8 = scripts\engine\utility::_id_1BA9( var_6._id_B7D8 );

            if ( isdefined( var_0 ) && scripts\engine\utility::array_contains( var_6._id_B7D8, var_0 ) )
            {
                var_6._id_B7D8 = scripts\engine\utility::array_remove( var_6._id_B7D8, var_0 );
                var_4 = 1;
            }
        }

        if ( var_4 && isdefined( var_3 ) && isdefined( var_0 ) )
            var_3 _meth_81AE( var_0 );
    }
}

_id_ACAC( var_0 )
{
    foreach ( var_2 in level._id_ACC4 )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_3 = undefined;

        foreach ( var_5 in var_2._id_ACEB )
        {
            if ( var_5._id_048F == "ALL" || var_5._id_048F == "TEAM" && var_5.team == var_0.team )
            {
                if ( !scripts\engine\utility::array_contains( var_5._id_B7D8, var_0 ) )
                    var_5._id_B7D8[var_5._id_B7D8.size] = var_0;
                else
                {

                }

                if ( !isdefined( var_3 ) || var_5._id_BD19 > var_3._id_BD19 )
                    var_3 = var_5;
            }
        }

        if ( isdefined( var_3 ) )
            var_2 _id_0C02( var_0, var_3._id_7B6F );
    }
}

_id_ACAD( var_0 )
{
    if ( !isdefined( var_0._id_E493 ) )
    {

    }

    foreach ( var_2 in level._id_ACC4 )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_3 = undefined;

        foreach ( var_5 in var_2._id_ACEB )
        {
            if ( var_5._id_048F == "SQUAD" && var_5.team == var_0.team && isdefined( var_5._id_E493 ) && var_5._id_E493 == var_0._id_E493 )
            {
                if ( !scripts\engine\utility::array_contains( var_5._id_B7D8, var_0 ) )
                    var_5._id_B7D8[var_5._id_B7D8.size] = var_0;
                else
                {

                }

                if ( !isdefined( var_3 ) || var_5._id_BD19 > var_3._id_BD19 )
                    var_3 = var_5;
            }
        }

        if ( isdefined( var_3 ) )
            var_2 _id_0C02( var_0, var_3._id_7B6F );
    }
}

_id_ACB9( var_0 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_0._id_ACEB ) || var_0._id_ACEB.size == 0 )
        return;

    foreach ( var_3, var_2 in var_0._id_ACEB )
        _id_ACB8( var_3, var_0 );
}

_id_ACAF( var_0 )
{
    if ( !scripts\engine\utility::array_contains( level._id_ACC4, var_0 ) )
        level._id_ACC4[level._id_ACC4.size] = var_0;
}

_id_ACE9( var_0 )
{
    level._id_ACC4 = scripts\engine\utility::array_remove( level._id_ACC4, var_0 );
}

_id_ACCB( var_0 )
{
    var_1 = -1;

    if ( !isdefined( var_0._id_ACEB ) || var_0.size == 0 )
        return var_1;

    var_2 = undefined;

    foreach ( var_5, var_4 in var_0._id_ACEB )
    {
        if ( !isdefined( var_4 ) || var_4._id_87E6 )
            continue;

        if ( !isdefined( var_2 ) || var_4._id_BD19 > var_2._id_BD19 )
        {
            var_2 = var_4;
            var_1 = var_5;
        }
    }

    return var_1;
}

_id_ACCA( var_0, var_1 )
{
    var_2 = undefined;

    if ( !isdefined( var_0._id_ACEB ) || var_0.size == 0 )
        return var_2;

    foreach ( var_5, var_4 in var_0._id_ACEB )
    {
        if ( !isdefined( var_4 ) || var_4._id_87E6 )
            continue;

        if ( scripts\engine\utility::array_contains( var_4._id_B7D8, var_1 ) && ( !isdefined( var_2 ) || var_4._id_BD19 > var_2._id_BD19 ) )
            var_2 = var_4;
    }

    return var_2;
}

_id_ACC9()
{
    level._id_ACD6++;
    return level._id_ACD6;
}

_id_ACE5( var_0 )
{
    var_0 = tolower( var_0 );
    var_1 = undefined;

    switch ( var_0 )
    {
        case "lowest":
            var_1 = 0;
            break;
        case "level_script":
            var_1 = 1;
            break;
        case "equipment":
            var_1 = 2;
            break;
        case "perk":
            var_1 = 3;
            break;
        case "perk_superior":
            var_1 = 4;
            break;
        case "killstreak":
            var_1 = 5;
            break;
        case "killstreak_personal":
            var_1 = 6;
            break;
        case "laststand":
            var_1 = 7;
            break;
        case "top":
            var_1 = 8;
            break;
        default:
            var_1 = 0;
            break;
    }

    return var_1;
}

_id_ACD3()
{
    foreach ( var_3, var_1 in level._id_ACD7 )
    {
        if ( !isdefined( var_1 ) )
            continue;

        if ( !isdefined( var_1._id_ACEB ) )
            continue;

        var_2 = var_1._id_ACEB[var_3];

        if ( !isdefined( var_2 ) )
            continue;

        if ( var_2._id_B7D9.size > 0 )
        {
            if ( _id_ACE8( var_1, var_3 ) )
                level._id_ACD7[var_3] = undefined;
        }
    }
}

_id_ACD8()
{
    for (;;)
    {
        waittillframeend;
        _id_ACD3();
        waitframe();
    }
}

_id_ACE8( var_0, var_1 )
{
    var_2 = var_0._id_ACEB[var_1];

    foreach ( var_6, var_4 in var_2._id_B7D9 )
    {
        if ( !isdefined( var_4 ) )
            continue;

        if ( _id_3180( var_4 ) )
        {
            var_5 = _id_ACCA( var_0, var_4 );

            if ( isdefined( var_5 ) && var_5._id_7B6F != "invisible" )
                var_0 _meth_81B1( var_4, var_5._id_7B6F );
            else
                var_0 _meth_81AE( var_4 );

            var_2._id_B7D9[var_6] = undefined;
        }
    }

    var_2._id_B7D9 = scripts\engine\utility::_id_1BA9( var_2._id_B7D9 );

    if ( var_2._id_B7D9.size == 0 )
    {
        if ( var_2._id_87E6 )
            var_0._id_ACEB[var_1] = undefined;

        if ( var_0._id_ACEB.size == 0 )
            _id_ACE9( var_0 );

        return 1;
    }

    return 0;
}

_id_3180( var_0 )
{
    return var_0.sessionstate != "spectator";
}

_id_0C02( var_0, var_1 )
{
    if ( var_1 == "invisible" )
        self _meth_81AE( var_0 );
    else
        self _meth_81B1( var_0, var_1 );
}

_id_0C03( var_0, var_1 )
{
    if ( var_1 == "invisible" )
        self _meth_81AF( var_0 );
    else
        self _meth_81B2( var_0, var_1 );
}
