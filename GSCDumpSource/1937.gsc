// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._id_2F56 = spawnstruct();
    level._id_2F56._id_2FA7 = "mp/map_callouts/" + level.mapname + "_callouts.csv";
    _id_3F7F();

    if ( scripts\mp\utility\game::getgametype() == "br" )
        return;

    level._id_2F56._id_1A2B = getentarray( "callout_area", "targetname" );

    foreach ( var_1 in level._id_2F56._id_1A2B )
        var_1 thread _id_2F54();

    thread _id_A122();
}

_id_3F7F()
{
    var_0 = level._id_2F56;
    var_0._id_1A29 = [];
    var_0._id_1A29["none"] = -1;

    if ( !_func_021C( level._id_2F56._id_2FA7 ) )
        return;

    var_1 = 0;

    for (;;)
    {
        var_2 = tablelookupbyrow( level._id_2F56._id_2FA7, var_1, 0 );

        if ( !isdefined( var_2 ) || var_2 == "" )
            break;

        var_2 = int( var_2 );
        var_3 = tablelookupbyrow( level._id_2F56._id_2FA7, var_1, 3 );

        if ( var_3 != "area" )
        {

        }
        else
        {
            var_4 = tablelookupbyrow( level._id_2F56._id_2FA7, var_1, 1 );
            var_0._id_1A29[var_4] = var_2;
        }

        var_1++;
    }
}

_id_A122()
{
    level endon( "game_ended" );

    for (;;)
    {
        level waittill( "connected", var_0 );
        var_0 thread _id_3905();
        var_0 _id_D650( "none" );
    }
}

_id_2F54()
{
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "trigger", var_0 );

        if ( !isplayer( var_0 ) )
            continue;

        var_0 _id_D650( self._id_0375, self );
    }
}

_id_D650( var_0, var_1 )
{
    if ( isdefined( self._id_2F53 ) && self._id_2F53 == var_0 )
        return;

    if ( scripts\mp\utility\game::getgametype() != "br" )
    {
        if ( isdefined( self._id_2F53 ) && var_0 != "none" && self._id_2F53 != "none" )
            return;
    }

    self._id_2F53 = var_0;

    if ( isdefined( var_1 ) )
        thread _id_10BDF( var_1, var_1._id_0375 );

    var_2 = level._id_2F56._id_1A29[var_0];

    if ( isdefined( var_2 ) )
    {
        self setclientomnvar( "ui_callout_area_id", var_2 );
        var_3 = scripts\mp\utility\player::_id_668B( 1, 0 );

        foreach ( var_5 in var_3 )
        {
            if ( var_5 _meth_81D2() )
                var_5 setclientomnvar( "ui_callout_area_id", var_2 );
        }
    }
    else if ( var_0 != "none" )
        return;
}

_id_10BDF( var_0, var_1 )
{
    self endon( "death_or_disconnect" );

    for (;;)
    {
        if ( self._id_2F53 != var_1 )
            return;

        if ( !self _meth_81EF( var_0 ) )
        {
            _id_D650( "none" );
            return;
        }

        wait 0.5;
    }
}

_id_3905()
{
    self endon( "disconnect" );

    for (;;)
    {
        self waittill( "death" );
        _id_D650( "none" );
    }
}
