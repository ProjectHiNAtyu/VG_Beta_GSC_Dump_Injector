// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !isdefined( level._id_B01A ) && !scripts\common\utility::_id_87BA() )
        level thread _id_1EFE();

    level._id_B01A = [];
    var_0 = 0;

    for (;;)
    {
        var_1 = tablelookupbyrow( "mp/petWatchTable.csv", var_0, 1 );

        if ( !isdefined( var_1 ) || var_1 == "" )
            break;

        var_1 = int( var_1 );
        var_2 = spawnstruct();
        var_2._id_B023 = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 2 ) );
        var_2._id_2685 = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 3 ) );
        var_2._id_269B = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 4 ) );
        var_2._id_49AE = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 5 ) );
        var_2._id_F9AD = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 6 ) );
        var_2._id_7B82 = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 7 ) );
        var_2._id_2686 = tablelookupbyrow( "mp/petWatchTable.csv", var_0, 8 );
        var_2._id_269C = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 9 ) );
        var_2._id_49AF = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 10 ) );
        var_2._id_F9AE = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 11 ) );
        var_2._id_7B83 = int( tablelookupbyrow( "mp/petWatchTable.csv", var_0, 12 ) );
        level._id_B01A[var_1] = var_2;
        var_0++;
    }

    level._id_B01C = [];
    level._id_B01C["assist"] = 1;
    level._id_B01C["longshot"] = 1;
    level._id_B01C["pointblank"] = 1;
    level._id_B01C["headshot"] = 1;
    level._id_B01C["avenger"] = 1;
    level._id_B01C["save_teammate"] = 1;
    level._id_B01C["posthumous"] = 1;
    level._id_B01C["revenge"] = 1;
    level._id_B01C["firstblood"] = 1;
    level._id_B01C["comeback"] = 1;
    level._id_B01C["backfire"] = 1;
    level._id_B01C["quad_feed"] = 1;
    level._id_B01C["first_place_kill"] = 1;
    level._id_B01C["gun_butt"] = 1;
    level._id_B01C["mode_x_wipeout"] = 1;
    level._id_B01C["grenade_double"] = 1;
}

_id_1EFE()
{
    level endon( "game_ended" );

    for (;;)
    {
        foreach ( var_1 in level.players )
        {
            if ( isdefined( var_1._id_B01D ) )
                var_1 _id_59D6();
        }

        wait 1;
    }
}

_id_D6E0( var_0, var_1 )
{
    self setclientomnvar( "ui_pet_watch_action", var_0 * -1 );
    self._id_B01D._id_B01F = var_0;
    _id_FD76();
}

_id_4C13( var_0 )
{
    switch ( var_0 )
    {
        case 1:
            _id_7216();
            break;
        case 2:
            _id_59D6();
            break;
        case 3:
            thread _id_FCED();
            break;
        case 4:
            _id_823E( 1 );
            break;
    }
}

_id_7216()
{
    var_0 = level._id_B01A[self._id_B01D._id_B01F]._id_B023;
    self._id_B01D._id_7217 = var_0;
    _id_44D8( var_0 );
}

_id_AAF3()
{
    self._id_B01D = undefined;
}

_id_823E( var_0, var_1 )
{
    if ( !isdefined( self._id_B01D ) )
    {
        self setclientomnvar( "ui_pet_watch_state", 0 );
        self._id_B01D = spawnstruct();
        self._id_B01D._id_B01E = var_1;

        if ( var_1 == "pet_black" )
            self._id_B01D._id_B678 = "petWatchDataBlack";
        else
            self._id_B01D._id_B678 = "petWatchData";

        if ( var_0 )
        {
            self setclientomnvar( "ui_pet_watch_action", -1 );
            _id_D63C( 0 );
        }
        else
            _id_D63C( self getplayerdata( "common", self._id_B01D._id_B678, "phase" ) );
    }
    else
    {
        if ( var_0 )
        {
            self setclientomnvar( "ui_pet_watch_action", -1 );
            _id_D63C( 0 );
        }

        if ( self._id_B01D._id_B01F == 0 )
            _id_C620( 1 );

        if ( !istrue( var_0 ) )
            return;
    }

    self._id_B01D._id_44E3 = 0;

    if ( self._id_B01D._id_B01F == 0 )
        _id_C620( 1 );
    else
    {
        self._id_B01D._id_2683 = 0;
        self._id_B01D._id_2684 = 0;
        self._id_B01D._id_909C = self getplayerdata( "common", self._id_B01D._id_B678, "lastUpdateTime" );
        self._id_B01D._id_2699 = self getplayerdata( "common", self._id_B01D._id_B678, "boredDmg" );
        self._id_B01D._id_49AD = self getplayerdata( "common", self._id_B01D._id_B678, "dirtyDmg" );
        self._id_B01D._id_F9AC = self getplayerdata( "common", self._id_B01D._id_B678, "unrulyDmg" );
        self._id_B01D._id_7B81 = self getplayerdata( "common", self._id_B01D._id_B678, "hungryDmg" );
        self._id_B01D._id_2684 = self getplayerdata( "common", self._id_B01D._id_B678, "bonusTime" );
        self._id_B01D._id_33E9 = self getplayerdata( "common", self._id_B01D._id_B678, "charged" );
        self._id_B01D._id_7217 = self getplayerdata( "common", self._id_B01D._id_B678, "growthTime" );
        self._id_B01D._id_C555 = self getplayerdata( "common", self._id_B01D._id_B678, "reproductionStreak" );
        self._id_B01D.damage = self getplayerdata( "common", self._id_B01D._id_B678, "damage" );
        self._id_B01D._id_8F83 = self._id_B01D._id_2699;
        self._id_B01D._id_8FA7 = self._id_B01D._id_49AD;
        self._id_B01D._id_909A = self._id_B01D._id_F9AC;
        self._id_B01D._id_8FDB = self._id_B01D._id_7B81;
        var_2 = self._id_B01D._id_C555 % 10;
        var_3 = var_2 / 10;
        self._id_B01D._id_7217 = self._id_B01D._id_7217 + var_3;
        self._id_B01D._id_2684 = self._id_B01D._id_2684 + var_3;
        self._id_B01D._id_C555 = int( self._id_B01D._id_C555 / 10 );
        self._id_B01D._id_F946 = self getplayerdata( "common", self._id_B01D._id_B678, "orcaPoints" );
        self._id_B01D._id_FF6E = self getplayerdata( "common", self._id_B01D._id_B678, "apachePoints" );
        self._id_B01D._id_4EB9 = self getplayerdata( "common", self._id_B01D._id_B678, "dragonPoints" );
        self._id_B01D._id_267F = self getplayerdata( "common", self._id_B01D._id_B678, "killstreakCharge" );
        self._id_B01D._id_2687 = self getplayerdata( "common", self._id_B01D._id_B678, "winGamesCharge" );
        self._id_B01D._id_2680 = self getplayerdata( "common", self._id_B01D._id_B678, "objectiveScoreCharge" );
        self._id_B01D._id_267E = self getplayerdata( "common", self._id_B01D._id_B678, "killsCharge" );
        self._id_B01D._id_F341 = self getplayerdata( "common", self._id_B01D._id_B678, "topKillstreakCharge" );
        self._id_B01D._id_A718 = self getplayerdata( "common", self._id_B01D._id_B678, "nukeCharge" );
        self._id_B01D._id_10E4B = self getplayerdata( "common", self._id_B01D._id_B678, "winGamesTop3" );
        self._id_B01D._id_B1C6 = self getplayerdata( "common", self._id_B01D._id_B678, "plantsCharge" );
        self._id_B01D._id_56E6 = self getplayerdata( "common", self._id_B01D._id_B678, "executionsCharge" );
        self._id_B01D._id_A8DA = 0;
        self._id_B01D._id_8DAF = 0;
        self._id_B01D._id_10E4A = 0;
        self._id_B01D._id_8D80 = 0;
        self._id_B01D._id_8FDC = 0;
        self._id_B01D._id_8F84 = 0;
        self._id_B01D._id_909B = 0;
        self._id_B01D._id_8FA8 = 0;
    }

    _id_FD76();
}

_id_6A89( var_0 )
{
    var_1 = 3600;
    return int( var_0 / var_1 );
}

_id_6A8A( var_0 )
{
    var_1 = 3600;
    var_2 = 24 * var_1;
    var_3 = var_2 * 365.25;
    var_4 = var_0 / int( var_3 );
    var_5 = int( var_0 % var_3 ) / int( var_2 );
    var_6 = int( var_0 % var_2 ) / int( var_1 );
    return int( var_6 );
}

_id_F0E2()
{
    var_0 = _func_00D7();
    var_1 = var_0 - 300;
    var_2 = var_0 - 7200;
    var_3 = var_0 - 3480;
    var_4 = var_0 - 3720;
    var_5 = var_0 - 43200;
    var_6 = var_0 - 86400;
    var_7 = var_6 - 43200;
    var_8 = var_0 - 604800;
    var_9 = _id_7AA2( var_0, var_1 )._id_7AA1;
    var_10 = _id_7AA2( var_0, var_3 )._id_7AA1;
    var_11 = _id_7AA2( var_0, var_4 )._id_7AA1;
    var_12 = _id_7AA2( var_0, var_2 )._id_7AA1;
    var_13 = _id_7AA2( var_0, var_5 )._id_7AA1;
    var_14 = _id_7AA2( var_0, var_6 )._id_7AA1;
    var_15 = _id_7AA2( var_0, var_7 )._id_7AA1;
    var_16 = _id_7AA2( var_0, var_8 )._id_7AA1;
    var_17 = 1;
}

_id_BD0F()
{
    var_0 = self getplayerdata( "common", self._id_B01D._id_B678, "phase" );
    var_1 = self getplayerdata( "common", self._id_B01D._id_B678, "lastUpdateTime" );
    var_2 = self getplayerdata( "common", self._id_B01D._id_B678, "boredDmg" );
    var_3 = self getplayerdata( "common", self._id_B01D._id_B678, "dirtyDmg" );
    var_4 = self getplayerdata( "common", self._id_B01D._id_B678, "unrulyDmg" );
    var_5 = self getplayerdata( "common", self._id_B01D._id_B678, "hungryDmg" );
    var_6 = self getplayerdata( "common", self._id_B01D._id_B678, "bonusTime" );
    var_7 = self getplayerdata( "common", self._id_B01D._id_B678, "charged" );
    var_8 = self getplayerdata( "common", self._id_B01D._id_B678, "growthTime" );
    var_9 = self getplayerdata( "common", self._id_B01D._id_B678, "reproductionStreak" );
    var_10 = self getplayerdata( "common", self._id_B01D._id_B678, "damage" );
    var_11 = self getplayerdata( "common", self._id_B01D._id_B678, "orcaPoints" );
    var_12 = self getplayerdata( "common", self._id_B01D._id_B678, "apachePoints" );
    var_13 = self getplayerdata( "common", self._id_B01D._id_B678, "dragonPoints" );
    var_14 = self getplayerdata( "common", self._id_B01D._id_B678, "killstreakCharge" );
    var_15 = self getplayerdata( "common", self._id_B01D._id_B678, "winGamesCharge" );
    var_16 = self getplayerdata( "common", self._id_B01D._id_B678, "objectiveScoreCharge" );
    var_17 = self getplayerdata( "common", self._id_B01D._id_B678, "killsCharge" );
    var_18 = self getplayerdata( "common", self._id_B01D._id_B678, "topKillstreakCharge" );
    var_19 = self getplayerdata( "common", self._id_B01D._id_B678, "nukeCharge" );
    var_20 = self getplayerdata( "common", self._id_B01D._id_B678, "winGamesTop3" );
    var_21 = self getplayerdata( "common", self._id_B01D._id_B678, "plantsCharge" );
    var_22 = self getplayerdata( "common", self._id_B01D._id_B678, "executionsCharge" );
}

_id_F0DC( var_0 )
{
    if ( !isdefined( self._id_B01D ) )
        return;

    switch ( var_0 )
    {
        case 1:
            _id_F0E2();
            break;
        case 2:
            _id_BD0F();
            break;
        case 3:
            _id_10B1();
            break;
        case 4:
            _id_111C();
            break;
        case 5:
            _id_10D9( "debug", 1 );
            break;
        case 6:
            _id_10D9( "debug", 10 );
            break;
        case 7:
            _id_115D();
            break;
        case 8:
            _id_10E5();
            break;
        case 9:
            _id_1084();
            break;
        case 10:
            _id_115E();
            break;
        case 11:
            _id_113F();
            break;
        case 12:
            _id_10D8();
            break;
        case 13:
            self._id_B01D.damage = 0;
            _id_FD76();
            break;
        case 14:
            self._id_B01D.damage = 900;
            _id_FD76();
            break;
        case 15:
            self._id_B01D.damage = 500;
            _id_FD76();
            break;
        case 16:
            _id_10B2();
            break;
    }
}

_id_7AA2( var_0, var_1, var_2 )
{
    var_3 = _id_6A8A( var_0 );
    var_4 = _id_6A89( var_0 - var_1 );
    var_5 = max( 0, var_4 );
    var_6 = spawnstruct();
    var_6._id_7AA1 = var_5;
    return var_6;
}

_id_FCED( var_0 )
{
    self endon( "disconnect" );
    return;
}

_id_10D8()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_A718++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_4", 10000 + self._id_B01D._id_A718 );
    }
}

_id_113F()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_F341++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_2", 20000 + self._id_B01D._id_F341 );
    }
}

_id_10B2()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_267F++;
        self._id_B01D._id_8DAF++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_1", 30000 + self._id_B01D._id_8DAF );
    }
}

_id_10E5()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_B1C6++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_0", 40000 + self._id_B01D._id_B1C6 );
    }
}

_id_10D9( var_0, var_1 )
{
    if ( isdefined( self._id_B01D ) && ( !istrue( level._id_B01C[var_0] ) && !issubstr( var_0, "kill" ) ) )
    {
        self._id_B01D._id_2680 = self._id_B01D._id_2680 + var_1;
        self._id_B01D._id_A8DA = self._id_B01D._id_A8DA + var_1;
        self setclientomnvar( "ui_pet_watch_bonus_earned_3", 50000 + self._id_B01D._id_A8DA );
    }
}

_id_111C()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_8D80 = self._id_B01D._id_8D80 + 10;
        self._id_B01D._id_267E = self._id_B01D._id_267E + 10;
        self setclientomnvar( "ui_pet_watch_bonus_earned_0", 60000 + self._id_B01D._id_8D80 );
    }
}

_id_10B1()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_8D80++;
        self._id_B01D._id_267E++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_0", 60000 + self._id_B01D._id_8D80 );
    }
}

_id_1084()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_56E6++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_1", 70000 + self._id_B01D._id_56E6 );
    }
}

_id_115D()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_2687++;
        self._id_B01D._id_10E4A++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_0", 80000 + self._id_B01D._id_10E4A );
        _id_59D6();
    }
}

_id_115E()
{
    if ( isdefined( self._id_B01D ) )
    {
        self._id_B01D._id_10E4B++;
        self setclientomnvar( "ui_pet_watch_bonus_earned_1", 90000 + self._id_B01D._id_10E4B );
    }
}

_id_D63C( var_0 )
{
    self._id_B01D._id_B01F = var_0;
    self.pers["petWatchData_phase"] = var_0;
}

_id_FD76()
{
    var_0 = 0;

    if ( self._id_B01D._id_2699 < 0 )
        var_0 = var_0 + 20;

    if ( self._id_B01D._id_49AD < 0 )
        var_0 = var_0 + 100;

    if ( self._id_B01D._id_F9AC < 0 )
        var_0 = var_0 + 1000;

    if ( self._id_B01D._id_7B81 < 0 )
        var_0 = var_0 + 10000;

    var_1 = int( self._id_B01D.damage / 100 ) - 1;
    var_1 = int( max( 0, min( var_1, 9 ) ) );
    var_0 = var_0 + 100000 * var_1;
    var_2 = var_0 + self._id_B01D._id_B01F;
    self setclientomnvar( "ui_pet_watch_state", var_2 );
}

_id_C621()
{
    self._id_B01D._id_2699 = level._id_B01A[self._id_B01D._id_B01F]._id_269C;
    self._id_B01D._id_49AD = level._id_B01A[self._id_B01D._id_B01F]._id_49AF;
    self._id_B01D._id_F9AC = level._id_B01A[self._id_B01D._id_B01F]._id_F9AE;
    self._id_B01D._id_7B81 = level._id_B01A[self._id_B01D._id_B01F]._id_7B83;
    self._id_B01D._id_8FDC = 0;
    self._id_B01D._id_8F84 = 0;
    self._id_B01D._id_909B = 0;
    self._id_B01D._id_8FA8 = 0;
    self._id_B01D._id_33E9 = 0;
    self._id_B01D._id_7217 = 0;
    self._id_B01D._id_2684 = 0;
    self._id_B01D._id_2683 = 0;
    self._id_B01D.damage = 0;
    self._id_B01D._id_F946 = 0;
    self._id_B01D._id_FF6E = 0;
    self._id_B01D._id_4EB9 = 0;
    self._id_B01D._id_267F = 0;
    self._id_B01D._id_8DAF = 0;
    self._id_B01D._id_2687 = 0;
    self._id_B01D._id_10E4A = 0;
    self._id_B01D._id_2680 = 0;
    self._id_B01D._id_A8DA = 0;
    self._id_B01D._id_267E = 0;
    self._id_B01D._id_8D80 = 0;
    self._id_B01D._id_F341 = 0;
    self._id_B01D._id_A718 = 0;
    self._id_B01D._id_10E4B = 0;
    self._id_B01D._id_B1C6 = 0;
    self._id_B01D._id_56E6 = 0;
}

_id_C620( var_0, var_1 )
{
    if ( isdefined( var_1 ) )
        _id_D63C( var_1 );
    else
        _id_D63C( 1 );

    self._id_B01D._id_909C = _func_00D7();
    _id_C621();
}

_id_44D8( var_0 )
{
    self setclientomnvar( "ui_pet_watch_action", var_0 );
}

_id_59D6()
{
    if ( !isdefined( self._id_B01D ) )
        return;

    if ( self._id_B01D._id_B01F == 15 )
        return;

    var_0 = self._id_B01D._id_8DAF * 20;
    var_1 = self._id_B01D._id_10E4A * 20;
    var_2 = self._id_B01D._id_A8DA * 0.5;
    var_3 = self._id_B01D._id_8D80 * 1;
    var_4 = self._id_B01D._id_8FDC < var_3;
    var_5 = self._id_B01D._id_8FA8 < var_1;
    var_6 = self._id_B01D._id_8F84 < var_0;
    var_7 = self._id_B01D._id_909B < var_2;

    if ( !var_4 && !var_5 && !var_6 && !var_7 )
        return;

    var_0 = max( -240, min( var_0, 240 ) );
    var_1 = max( -240, min( var_1, 240 ) );
    var_2 = max( -240, min( var_2, 240 ) );
    var_3 = max( -240, min( var_3, 240 ) );

    if ( var_5 )
    {
        var_1 = int( var_1 );

        if ( var_1 == 0 )
            var_1 = 1;

        self setclientomnvar( "ui_pet_watch_health_dirty", var_1 );
    }

    if ( var_7 )
    {
        var_2 = int( var_2 );

        if ( var_2 == 0 )
            var_2 = 1;

        self setclientomnvar( "ui_pet_watch_health_unruly", int( var_2 ) );
    }

    if ( var_4 )
    {
        var_3 = int( var_3 );

        if ( var_3 == 0 )
            var_3 = 1;

        self setclientomnvar( "ui_pet_watch_health_hungry", int( var_3 ) );
    }

    if ( var_6 )
    {
        var_0 = int( var_0 );

        if ( var_0 == 0 )
            var_0 = 1;

        self setclientomnvar( "ui_pet_watch_health_bored", int( var_0 ) );
    }

    self._id_B01D._id_8FDC = var_3;
    self._id_B01D._id_8FA8 = var_1;
    self._id_B01D._id_8F84 = var_0;
    self._id_B01D._id_909B = var_2;
    self._id_B01D._id_F341 = 0;
    self._id_B01D._id_A718 = 0;
    self._id_B01D._id_10E4B = 0;
    self._id_B01D._id_B1C6 = 0;
    self._id_B01D._id_56E6 = 0;
    self._id_B01D._id_2699 = var_0;
    self._id_B01D._id_49AD = var_1;
    self._id_B01D._id_F9AC = var_2;
    self._id_B01D._id_7B81 = var_3;
}
