// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !level._id_C016 )
        return;

    level._id_9BE0 = spawnstruct();
    level._id_9BE0._id_4341 = 0;
    _id_95FF();
    thread _id_10BD2();
    thread _id_10B62();
    level._id_9BE0._id_521F = 1;
}

_id_95FF()
{
    var_0 = _func_0225( "mp/gameModeMatchStats.csv", 0, level.gametype );
    var_1 = level._id_9BE0;

    if ( !isdefined( var_0 ) || var_0 < 0 )
    {
        var_1._id_9FE0 = 0;
        return;
    }

    var_1._id_9FE0 = 1;
    var_1._id_9FDF = [];

    for ( var_2 = 1; var_2 < 7; var_2++ )
    {
        var_3 = tablelookupbyrow( "mp/gameModeMatchStats.csv", var_0, var_2 );

        if ( !isdefined( var_3 ) || var_3 == "" )
            continue;

        var_1._id_9FDF[var_3] = var_2 - 1;
    }
}

_id_10BD2()
{
    for (;;)
    {
        level waittill( "connected", var_0 );

        if ( isai( var_0 ) )
            continue;

        var_0 thread _id_8241();
    }
}

_id_8241()
{
    if ( isdefined( self.pers["matchstats"] ) )
        self._id_9BE0 = self.pers["matchstats"];
    else
    {
        self._id_9BE0 = spawnstruct();
        var_0 = self._id_9BE0;
        self._id_9BE0._id_FF6C = [];
        self._id_9BE0._id_AED1 = [];
    }
}

_id_10B62()
{
    _id_07A8::_id_933F( "game_over" );
    var_0 = level.players;

    foreach ( var_2 in var_0 )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_2 _id_10FC5();
        waitframe();
    }

    level._id_9BE0._id_4341 = 1;
}

_id_10FC5()
{
    var_0 = self._id_9BE0;

    if ( !isdefined( var_0 ) )
        return;

    foreach ( var_4, var_2 in var_0._id_FF6C )
    {
        var_3 = var_0._id_AED1[var_4];

        switch ( var_3.size )
        {
            case 1:
                self _meth_8364( "mp", "matchStats", var_3[0], var_2 );
                break;
            case 2:
                self _meth_8364( "mp", "matchStats", var_3[0], var_3[1], var_2 );
                break;
            case 3:
                self _meth_8364( "mp", "matchStats", var_3[0], var_3[1], var_3[2], var_2 );
                break;
            case 4:
                self _meth_8364( "mp", "matchStats", var_3[0], var_3[1], var_3[2], var_3[3], var_2 );
                break;
            case 5:
                self _meth_8364( "mp", "matchStats", var_3[0], var_3[1], var_3[2], var_3[3], var_3[4], var_2 );
                break;
        }
    }
}

_id_6B18( var_0 )
{
    var_1 = "";

    for ( var_2 = 0; var_2 < var_0.size; var_2++ )
    {
        if ( isdefined( var_0[var_2] ) )
            var_1 = var_1 + ( var_0[var_2] + "." );
    }

    return var_1;
}

_id_D5E8( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( !_id_1A33() )
        return;

    var_6 = [ var_1 ];

    if ( isdefined( var_2 ) )
        var_6[var_6.size] = var_2;

    if ( isdefined( var_3 ) )
        var_6[var_6.size] = var_3;

    if ( isdefined( var_4 ) )
        var_6[var_6.size] = var_4;

    if ( isdefined( var_5 ) )
        var_6[var_6.size] = var_5;

    var_7 = _id_6B18( var_6 );
    self._id_9BE0._id_FF6C[var_7] = var_0;
    self._id_9BE0._id_AED1[var_7] = var_6;
}

_id_113B( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( !_id_1A33() )
        return;

    if ( !isdefined( var_0 ) )
        var_0 = 1;

    var_6 = [ var_1 ];

    if ( isdefined( var_2 ) )
        var_6[var_6.size] = var_2;

    if ( isdefined( var_3 ) )
        var_6[var_6.size] = var_3;

    if ( isdefined( var_4 ) )
        var_6[var_6.size] = var_4;

    if ( isdefined( var_5 ) )
        var_6[var_6.size] = var_5;

    var_7 = _id_6B18( var_6 );

    if ( !isdefined( self._id_9BE0._id_AED1[var_7] ) )
    {
        self._id_9BE0._id_FF6C[var_7] = var_0;
        self._id_9BE0._id_AED1[var_7] = var_6;
    }
    else
        self._id_9BE0._id_FF6C[var_7] = self._id_9BE0._id_FF6C[var_7] + var_0;
}

_id_6B17( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !_id_1A33() )
        return undefined;

    var_5 = [ var_0, var_1, var_2, var_3, var_4 ];
    var_6 = _id_6B18( var_5 );

    if ( !isdefined( self._id_9BE0._id_FF6C[var_6] ) )
        return 0;

    return self._id_9BE0._id_FF6C[var_6];
}

_id_6B46( var_0 )
{
    var_1 = level._id_9BE0;

    if ( !isdefined( var_1._id_9FE0 ) )
        return undefined;

    return var_1._id_9FDF[var_0];
}

_id_D566( var_0, var_1 )
{
    if ( !_id_1A33() )
        return;

    var_2 = _id_6B46( var_0 );

    if ( !isdefined( var_2 ) )
        return;

    _id_D5E8( var_1, "modeStats", var_2 );
}

_id_1133( var_0, var_1 )
{
    if ( !_id_1A33() )
        return;

    var_2 = _id_6B46( var_0 );

    if ( !isdefined( var_2 ) )
        return;

    _id_113B( var_1, "modeStats", var_2 );
}

_id_6A41( var_0 )
{
    if ( !_id_1A33() )
        return;

    var_1 = _id_6B46( var_0 );

    if ( !isdefined( var_1 ) )
        return;

    return _id_6B17( "modeStats", var_1 );
}

_id_1A33()
{
    return isdefined( level._id_9BE0 ) && istrue( level._id_9BE0._id_521F );
}
