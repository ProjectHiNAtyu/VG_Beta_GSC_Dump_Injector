// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    _id_D859();

    if ( self._id_4CCD == "guard_dog" )
    {
        _id_D86E();
        thread _id_10A84();
        thread _id_10AD7();
    }
    else if ( self._id_4CCD == "attack_dog" )
        _id_D83F();

    thread _id_F105();
    thread _id_10BC0();
    thread _id_10BC1();
    thread _id_10BC4();
    thread _id_107F5();
    thread _id_10817();
}

_id_D859()
{
    self._id_2570 = 0;
    self._id_AD98 = 20736;
    self._id_9D80 = 16384;
    self._id_1DCD = 25 + self._id_0333;
    self._id_1DCF = 202500;
    self._id_109F2 = 302500;
    self._id_109F9 = 96.0;
    self._id_1DD4 = 54;
    self._id_1DD5 = -64;
    self._id_AD8C = 2250000;
    self._id_4CA6 = 2250000;
    self._id_8CB0 = 1000000;
    self._id_BB7F = 60;
    self._id_9F17 = 50;
    self._id_5E5A = 0;
    self._id_0210 = 1;
    self._id_014A = "walk";
    self._id_A233 = 1.0;
    self._id_5755 = 1.0;
    self._id_5233 = 1;
    self._id_1DD2 = "idle";
    self._id_A24F = "idle";
    self._id_24CC = 0;
    self._id_F21D = 0;
    self._id_91C0 = 0;
    self._id_003E = 1;
    self._id_01E8 = 24;
    self._id_0263 = 1;
}

_id_D86E()
{
    self._id_1DCF = 261121;
    self._id_1411 = 501264;
    self._id_109F2 = 819025;
    self._id_BDB4 = 20736;
    self._id_9F18 = self._id_0333;
    self._id_1328 = "escort";
    self._id_BDB5 = undefined;
    self._id_BDB3 = undefined;
    self._id_5E5C = 0;
    self._id_020F = 1;
    _id_0015::_id_D125( 500 );
}

_id_D83F()
{
    self._id_1328 = "attack";
    self._id_5E5C = 0;
}

init()
{
    self._id_1877 = spawnstruct();
    self._id_1877._id_AAB1 = [];
    self._id_1877._id_AAB1["idle"] = _id_0AD4::main;
    self._id_1877._id_AAB1["move"] = _id_0AD6::main;
    self._id_1877._id_AAB1["traverse"] = _id_0AD8::main;
    self._id_1877._id_AAB1["melee"] = _id_0AD5::main;
    self._id_1877._id_AAC9 = [];
    self._id_1877._id_AAC9["idle"] = _id_0AD4::_id_017C;
    self._id_1877._id_AAC9["move"] = _id_0AD6::_id_017C;
    self._id_1877._id_AAC9["melee"] = _id_0AD5::_id_017C;
    self._id_1877._id_AAC9["traverse"] = _id_0AD8::_id_017C;
    self._id_10A91 = ::_id_10A90;
    self._id_13BF = "idle";
    self._id_0333 = 15;
    self.height = 40;
}

_id_AAB2( var_0, var_1 )
{
    self notify( "killanimscript" );

    if ( !isdefined( self._id_1877._id_AAB1[var_1] ) )
        return;

    if ( var_0 == var_1 && var_1 != "traverse" )
        return;

    if ( isdefined( self._id_1877._id_AAC9[var_0] ) )
        self [[ self._id_1877._id_AAC9[var_0] ]]();

    _id_5751( self._id_13BF );
    self._id_13BF = var_1;
    _id_54AC( var_1 );
    self [[ self._id_1877._id_AAB1[var_1] ]]();
}

_id_F105()
{
    self endon( "death" );
    level endon( "game_ended" );

    if ( isdefined( self.owner ) )
    {
        self endon( "owner_disconnect" );
        thread _id_483D( self.owner );
    }

    self thread [[ self._id_10A91 ]]();
    thread _id_A0FC();

    for (;;)
    {
        if ( self._id_0263 )
        {
            var_0 = self _meth_8419();
            _id_08C8::setdoortoopen( var_0 );
        }

        switch ( self._id_13BF )
        {
            case "idle":
                _id_FC88();
                break;
            case "move":
                _id_FCC8();
                break;
            case "melee":
                _id_FCC3();
                break;
        }

        wait 0.05;
    }
}

_id_4957( var_0 )
{
    if ( isdefined( self._id_411B ) && var_0 != self._id_411B )
        return 0;

    if ( !isdefined( self._id_901A ) || !isdefined( self._id_9019 ) )
        return 0;

    if ( distance2dsquared( var_0.origin, self._id_901A ) > 4 )
        return 0;

    if ( self._id_251B )
        return 1;

    if ( distancesquared( self.origin, self._id_9019 ) > 4096 && gettime() - self._id_901B > 2000 )
        return 0;

    return 1;
}

_id_4956()
{
    if ( isdefined( self._id_8FFB ) && isdefined( self._id_8FFA ) && distance2dsquared( self._id_411B.origin, self._id_8FFB ) < 4 && distancesquared( self.origin, self._id_8FFA ) < 2500 )
        return 1;

    if ( _id_109CF( 0 ) )
        return 1;

    return 0;
}

_id_54AC( var_0 )
{
    _id_5751( self._id_13BF );
    self._id_13BF = var_0;

    switch ( var_0 )
    {
        case "idle":
            self._id_A24F = "idle";
            self._id_24CC = 0;
            break;
        case "move":
            self._id_A24F = "follow";
            break;
        case "melee":
            break;
        default:
            break;
    }
}

_id_5751( var_0 )
{
    switch ( var_0 )
    {
        case "move":
            self._id_AD97 = undefined;
            break;
        default:
            break;
    }
}

_id_FC88()
{
    _id_FCCB();
}

_id_FCC8()
{
    _id_FCCB();
}

_id_FCC3()
{
    self _meth_8325( self.origin );
}

_id_FCCB()
{
    if ( self._id_2570 )
        return;

    self._id_BC41 = self._id_A24F;
    var_0 = undefined;
    var_1 = 0;
    var_2 = 0;
    var_3 = 500;

    if ( self._id_24CC && gettime() - self._id_8F7E < var_3 )
    {
        self._id_A24F = "follow";
        var_1 = 1;
    }
    else
        self._id_A24F = _id_6B4B();

    if ( self._id_A24F == "pursuit" )
    {
        self._id_020F = 0;
        var_0 = _id_06B7::_id_68C8( self._id_017D );
        var_4 = 0;

        if ( isdefined( self._id_8F7E ) && gettime() - self._id_8F7E < 1000 )
        {
            if ( distance2dsquared( var_0, self._id_8F7C ) < 16 )
                var_4 = 1;
            else if ( isdefined( self._id_8F7D ) && self._id_8F7D == "pursuit" && distance2dsquared( self._id_8F7F, self._id_017D.origin ) < 16 )
                var_4 = 1;
        }

        if ( var_4 )
        {
            self._id_A24F = "follow";
            var_2 = 1;
        }
        else if ( _id_109CF( 1 ) )
        {
            self._id_A24F = "follow";
            var_2 = 1;
        }
        else if ( _id_4957( self._id_017D ) )
        {
            self._id_A24F = "follow";
            var_2 = 1;
        }
    }

    _id_D637( var_2 );

    if ( self._id_A24F == "follow" )
    {
        if ( self.owner.sessionstate == "spectator" )
            return;

        if ( gettime() - self._id_F21D < 500 )
            var_1 = 1;

        if ( self._id_1328 == "escort" || self._id_1328 == "attack" )
        {
            var_5 = self.owner getstance();

            if ( !isdefined( self.owner._id_BC55 ) && isdefined( self.owner ) )
                self.owner._id_BC55 = var_5;

            var_6 = !isdefined( self._id_AD97 ) || distance2dsquared( self._id_AD97, self.owner.origin ) > 20736;

            if ( var_6 )
                self._id_AD97 = self.owner.origin;

            var_7 = distance2dsquared( self.origin, self.owner.origin );
            var_8 = var_7 < self._id_AD98;

            if ( var_1 || !var_8 || var_6 || self._id_BC41 != "idle" && self._id_BC41 != self._id_A24F )
            {
                self _meth_8325( _id_5AE3() );
                self.owner._id_BC55 = var_5;
            }
        }
        else if ( self._id_1328 == "protect" )
        {
            var_9 = !isdefined( self._id_BDB5 ) && isdefined( self._id_BDB3 ) || distance2dsquared( self._id_BDB5, self._id_BDB3 ) > 2500;

            if ( var_9 )
                self._id_BDB5 = self._id_BDB3;

            var_10 = distance2dsquared( self.origin, self._id_BDB3 );

            if ( var_1 || var_10 > self._id_BDB4 || var_9 || self._id_BC41 != "idle" && self._id_BC41 != self._id_A24F )
                self _meth_8325( self._id_BDB3 );
        }

        self._id_411B = undefined;
        self._id_014A = _id_6A32( self._id_014A );
        self._id_226F = 1;
    }
    else if ( self._id_A24F == "pursuit" )
    {
        self._id_411B = self._id_017D;
        self._id_014A = "sprint";
        self._id_226F = 0;
    }

    _id_D503( self._id_014A );
}

_id_6B4B( var_0 )
{
    if ( isdefined( self._id_017D ) )
    {
        if ( isdefined( self._id_01A8 ) && self._id_017D == self._id_01A8 )
            return "pursuit";

        if ( abs( self.origin[2] - self._id_017D.origin[2] ) < self._id_109F9 && distance2dsquared( self._id_017D.origin, self.origin ) < self._id_1DCF )
            return "pursuit";

        if ( isdefined( self._id_411B ) && self._id_411B == self._id_017D )
        {
            if ( distance2dsquared( self._id_411B.origin, self.origin ) < self._id_8CB0 )
                return "pursuit";
        }
    }

    return "follow";
}

_id_D637( var_0 )
{
    if ( var_0 )
    {
        if ( !isdefined( self._id_901A ) )
        {
            self._id_901A = self._id_017D.origin;
            self._id_9019 = self.origin;
            var_1 = _id_06B7::_id_5036( self._id_017D.origin );
            self._id_251B = !isdefined( var_1 );
            self._id_901B = gettime();
        }
    }
    else
    {
        self._id_901A = undefined;
        self._id_9019 = undefined;
        self._id_251B = undefined;
        self._id_901B = undefined;
    }
}

_id_107F5()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "bad_path", var_0 );
        self._id_24CC = 1;
        self._id_8F7E = gettime();
        self._id_8F7C = var_0;
        self._id_8F7D = self._id_A24F;

        if ( self._id_A24F == "follow" && isdefined( self.owner ) )
        {
            self._id_8F7F = self.owner.origin;
            continue;
        }

        if ( self._id_A24F == "pursuit" && isdefined( self._id_017D ) )
            self._id_8F7F = self._id_017D.origin;
    }
}

_id_10817()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "path_set" );
        self._id_24CC = 0;
    }
}

_id_6A33( var_0 )
{
    return var_0;
}

_id_6A32( var_0 )
{
    if ( !isdefined( var_0 ) )
        return "walk";

    var_1 = self _meth_87DF();
    var_2 = distancesquared( var_1, self.origin );

    switch ( var_0 )
    {
        case "sprint":
            return scripts\engine\utility::ter_op( var_2 < 160000, "run", "sprint" );
        case "run":
            if ( var_2 < 40000 )
                return "trot";
            else if ( var_2 > 160000 )
                return "sprint";
            else
                return "run";
        case "trot":
            if ( var_2 < 2500 )
                return "walk";
            else if ( var_2 > 40000 )
                return "sprint";
            else
                return "trot";
        case "walk":
            return scripts\engine\utility::ter_op( var_2 > 2500, "trot", "walk" );
        default:
            return "walk";
    }

    return var_0;
}

_id_D503( var_0 )
{
    if ( istrue( self._id_91C0 ) )
        return;

    var_1 = self _meth_8642();
    var_2 = var_1;
    var_3 = distancesquared( self _meth_87DF(), self.origin );

    switch ( var_0 )
    {
        case "sprint":
            if ( self._id_A24F == "pursuit" || var_3 > 250000 )
                var_2 = 300;
            else
            {
                var_4 = ( var_3 - 160000 ) / 90000;
                var_2 = scripts\engine\math::_id_9192( 241, 300, var_4 );
            }

            break;
        case "run":
            var_4 = ( var_3 - 40000 ) / 120000;
            var_2 = scripts\engine\math::_id_9192( 107, 240, var_4 );
            break;
        case "trot":
            var_4 = ( var_3 - 2500 ) / 37500;
            var_2 = scripts\engine\math::_id_9192( 56, 106, var_4 );
            break;
        case "walk":
            var_4 = var_3 / 2500;
            var_2 = scripts\engine\math::_id_9192( 0, 55, var_4 );
            break;
        default:
            break;
    }

    var_2 = clamp( var_2, 0, 300 );
    thread _id_91BD( var_1, var_2 );
}

_id_91BD( var_0, var_1 )
{
    self._id_91C0 = 1;
    var_2 = 0;

    while ( var_2 <= 0.5 )
    {
        var_2 = var_2 + 0.05;
        var_3 = scripts\engine\math::_id_9192( var_0, var_1, min( 1, var_2 / 0.5 ) );
        self _meth_85E0( var_3 );
        wait 0.05;
    }

    self._id_91C0 = 0;
    return;
}

_id_10AD7()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        var_0 = 0;

        if ( isdefined( self._id_01A8 ) )
            var_0 = distancesquared( self.owner.origin, self._id_01A8.origin ) < self._id_AD8C || distancesquared( self.origin, self._id_01A8.origin ) < self._id_4CA6;
        else
        {
            foreach ( var_2 in level.players )
            {
                var_3 = isalive( var_2 );
                var_4 = var_2 == self.owner;
                var_5 = var_2.team == self.team;

                if ( !var_3 || var_4 || var_5 )
                    continue;

                var_6 = distancesquared( self.origin, var_2.origin );

                if ( var_6 < self._id_1DCF )
                {
                    self._id_5E5C = 0;
                    var_0 = 1;
                }
                else if ( var_6 < self._id_1411 )
                {
                    self._id_5E5C = _id_109C9();
                    var_0 = 1;
                }
                else if ( var_6 < self._id_109F2 )
                {
                    self._id_5E5C = 0;
                    var_0 = 1;
                }

                if ( var_0 )
                {
                    self._id_020F = 0;
                    break;
                }
            }
        }

        if ( !var_0 )
        {
            self._id_5E5C = 0;
            self._id_020F = 1;
        }

        wait 0.05;
    }
}

_id_8AFE( var_0 )
{
    var_1 = var_0[2] - self.origin[2];
    return var_1 <= self._id_1DD4 && var_1 >= self._id_1DD5;
}

_id_109CF( var_0 )
{
    if ( !isdefined( self._id_411B ) )
        return 0;

    return !_id_8AFE( self._id_411B.origin ) && distance2dsquared( self.origin, self._id_411B.origin ) < self._id_9D80 * 0.75 * 0.75 && ( !var_0 || self _meth_8006( self._id_411B ) );
}

_id_C0A1()
{
    if ( !isdefined( self._id_411B ) )
        return 0;

    if ( !scripts\mp\utility\player::isreallyalive( self._id_411B ) )
        return 0;

    if ( self._id_13BF == "traverse" )
        return 0;

    if ( distance2dsquared( self.origin, self._id_411B.origin ) > self._id_9D80 )
        return 0;

    if ( !_id_8AFE( self._id_411B.origin ) )
        return 0;

    return 1;
}

_id_109CB()
{
    if ( !isdefined( self._id_017D ) )
        return 0;

    if ( istrue( self._id_5E5C ) )
        return 0;

    if ( abs( self.origin[2] - self._id_017D.origin[2] ) <= self._id_109F9 || self _meth_8006( self._id_017D ) )
    {
        var_0 = distance2dsquared( self.origin, self._id_017D.origin );

        if ( var_0 < self._id_109F2 )
            return 1;
    }

    return 0;
}

_id_109C9()
{
    var_0 = distancesquared( self _meth_87DF(), self.origin ) < 576;
    var_1 = self._id_1328 == "escort";
    var_2 = distancesquared( self.owner.origin, self.origin ) > 160000;
    var_3 = var_1 && var_2;

    if ( var_0 && !var_3 )
    {
        self._id_2203 = undefined;
        return 1;
    }

    return 0;
}

_id_4072( var_0, var_1 )
{
    return var_0[0] * var_1[1] - var_1[0] * var_0[1];
}

_id_5AE3()
{
    var_0 = self.origin;
    var_1 = self.owner.origin;
    var_2 = distance2dsquared( var_0, var_1 );
    var_3 = var_2 < self._id_AD98;
    var_4 = length( self.owner getvelocity() );
    var_5 = vectornormalize( self.origin - self.owner.origin );

    if ( var_3 )
        return self _meth_87DF();
    else
    {
        if ( istrue( self._id_5E5C ) && _id_109C9() )
            return self _meth_87DF();

        if ( var_4 > 100 )
        {
            var_6 = var_1 + var_5 * 25;
            return var_6;
        }
    }

    var_7 = _func_0080( self.owner.origin );

    if ( !isdefined( var_7 ) )
        return self.origin;

    var_8 = _func_00A6( var_7 );
    var_9 = 5;
    var_10 = 15;
    var_11 = -15;
    var_12 = gettime() - self._id_F21D < 5000;
    var_13 = 0;
    var_14 = undefined;
    var_15 = anglestoforward( self.owner.angles );
    var_15 = ( var_15[0], var_15[1], 0 );
    var_15 = vectornormalize( var_15 );
    var_8[var_8.size] = var_7;

    foreach ( var_17 in var_8 )
    {
        var_18 = 0;
        var_19 = var_17.origin - self.owner.origin;
        var_20 = length( var_19 );

        if ( var_20 >= self._id_BB7F )
            var_18 = var_18 + var_9;
        else if ( var_20 < self._id_9F17 )
        {
            var_21 = 1 - ( self._id_9F17 - var_20 ) / self._id_9F17;
            var_18 = var_18 + var_9 * var_21 * var_21;
        }
        else
            var_18 = var_18 + var_9 * var_20 / self._id_BB7F;

        if ( var_20 == 0 )
            var_20 = 1;

        var_19 = var_19 / var_20;
        var_22 = _id_4072( var_19, var_15 );
        var_23 = _id_4072( var_5, var_15 );

        if ( var_22 * var_23 > 0 )
            var_18 = var_18 + var_10;

        if ( var_12 )
        {
            var_24 = vectordot( self._id_42D3, var_19 );
            var_18 = var_18 + var_24 * var_11;
        }

        if ( var_18 > var_13 )
        {
            var_13 = var_18;
            var_14 = var_17;
        }
    }

    if ( !isdefined( var_14 ) )
        return self.origin;

    var_26 = var_14.origin - self.owner.origin;
    var_27 = length( var_26 );

    if ( var_27 > self._id_BB7F )
    {
        var_28 = var_7.origin - self.owner.origin;

        if ( vectordot( var_28, var_26 / var_27 ) < 0 )
            var_6 = var_14.origin;
        else
        {
            var_29 = vectornormalize( var_14.origin - var_7.origin );
            var_6 = var_7.origin + var_29 * self._id_BB7F;
        }
    }
    else
        var_6 = var_14.origin;

    var_6 = _id_06B7::_id_5036( var_6 );

    if ( !isdefined( var_6 ) )
        return self.origin;

    if ( self._id_24CC && distance2dsquared( var_6, self._id_8F7C ) < 4 )
        return self.origin;

    return var_6;
}

_id_483D( var_0 )
{
    self endon( "death" );
    var_0 scripts\engine\utility::waittill_any_2( "disconnect", "joined_team" );
    self notify( "owner_disconnect" );

    if ( scripts\mp\hostmigration::_id_10956() )
        wait 0.05;

    self notify( "killanimscript" );

    if ( isdefined( self._id_1877._id_AAC9[self._id_13BF] ) )
        self [[ self._id_1877._id_AAC9[self._id_13BF] ]]();

    self suicide();
}

_id_10A90()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        if ( self._id_13BF == "melee" )
        {
            if ( self._id_1DD2 != "melee" )
            {
                self._id_1DD2 = "melee";
                _id_D6C8( undefined );
            }
        }
        else if ( self._id_A24F == "pursuit" )
        {
            if ( self._id_1DD2 != "attacking" )
            {
                self._id_1DD2 = "attacking";
                _id_D6C8( "bark", "attacking" );
            }
        }
        else if ( self._id_1DD2 != "warning" )
        {
            if ( istrue( self._id_5E5C ) )
            {
                self._id_1DD2 = "warning";
                _id_D6C8( "bark", "warning" );
            }
            else if ( _id_109CB() )
            {
                self._id_1DD2 = "warning";
                _id_D6C8( "growl", "warning" );
            }
            else
            {
                self._id_1DD2 = self._id_13BF;
                _id_D6C8( "pant" );
            }
        }
        else if ( istrue( self._id_5E5C ) )
        {
            if ( !isdefined( self._id_2203 ) )
                _id_D6C8( "bark", self._id_1DD2 );
        }
        else if ( !_id_109CB() )
        {
            self._id_1DD2 = self._id_13BF;
            _id_D6C8( "pant" );
        }

        wait 0.05;
    }
}

_id_D6C8( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
    {
        self._id_E067 = undefined;
        self notify( "end_dog_sound" );
        return;
    }

    if ( !isdefined( self._id_E067 ) || self._id_E067 != var_0 )
    {
        self notify( "end_dog_sound" );
        self._id_E067 = var_0;

        if ( var_0 == "bark" )
            thread _id_B353( var_1 );
        else if ( var_0 == "growl" )
            thread _id_B838( var_1 );
        else if ( var_0 == "pant" )
            thread _id_B8A2();
        else
        {

        }
    }
}

_id_B353( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    self endon( "end_dog_sound" );

    if ( !isdefined( self._id_2203 ) )
    {
        self _meth_827F( "kstreak_dog_bark", scripts\engine\utility::_id_6460( self.team ) );
        self _meth_827F( "kstreak_dog_pant_run", self.team );
        self._id_2203 = 1;
        thread _id_10A95( var_0 );
    }
}

_id_10A95( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    self endon( "end_dog_sound" );

    if ( var_0 == "warning" )
        wait 3;
    else
        wait( randomintrange( 4, 8 ) );

    _id_C5F6();
}

_id_C5F6()
{
    self._id_2203 = undefined;
    _id_D6C8( undefined );
}

_id_B838( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    self endon( "end_dog_sound" );

    if ( isdefined( self._id_8FCC ) && gettime() - self._id_8FCC < 3000 )
        wait 3;

    for (;;)
    {
        self._id_8FCC = gettime();
        self _meth_827F( "kstreak_dog_growl", scripts\engine\utility::_id_6460( self.team ) );
        self _meth_827F( "kstreak_dog_pant_run", self.team );
        wait( randomintrange( 3, 5 ) );
    }
}

_id_B8A2( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    self endon( "end_dog_sound" );

    if ( isdefined( self._id_900E ) && gettime() - self._id_900E < 3000 )
        wait 3;

    for (;;)
    {
        self._id_900E = gettime();

        if ( self._id_014A == "run" || self._id_014A == "sprint" )
        {
            self _meth_827D( "kstreak_dog_pant_run" );
            wait( randomintrange( 3, 5 ) );
            continue;
        }

        self _meth_827D( "kstreak_dog_pant_idle" );
        wait( randomintrange( 4, 6 ) );
    }
}

_id_10A85()
{
    self endon( "death" );
    level endon( "game_ended" );

    if ( isdefined( self.owner ) && isplayer( self.owner ) )
        var_0 = self.owner;
    else
        var_0 = level.players[0];

    if ( isai( var_0 ) )
        return;

    var_1 = &"KILLSTREAKS_HINTS/GUARD_DOG_PROTECT";

    if ( self._id_1328 == "protect" )
        var_1 = &"KILLSTREAKS_HINTS/GUARD_DOG_RETURN";

    self._id_FE8E = spawn( "script_model", self.origin );
    self._id_FE8E setmodel( "tag_origin" );
    self._id_FE8E _id_0A6F::_id_D5C5( var_0, var_1, 360, 360, 30000, 30000, 2 );
    self._id_FE8E linkto( self );
    self._id_FE8E waittill( "trigger", var_0 );
    self._id_FE8E disableplayeruse( var_0 );
    self._id_FE8E delete();
    return 1;
}

_id_10A84()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        var_0 = _id_10A85();

        if ( isdefined( var_0 ) && var_0 )
        {
            if ( !isdefined( self._id_1328 ) )
            {
                self._id_1328 = "escort";
                _id_394E();
            }
            else if ( self._id_1328 == "escort" )
            {
                _id_D67E();

                if ( self._id_BDB3 == self.origin )
                    _id_394E();
                else
                {
                    self._id_1328 = "protect";
                    level thread scripts\mp\battlechatter_mp::_id_F756( self.owner, "gdog_protect" );
                }
            }
            else
            {
                self._id_1328 = "escort";
                _id_394E();
                self _meth_8325( _id_5AE3() );
                level thread scripts\mp\battlechatter_mp::_id_F756( self.owner, "gdog_escort" );
            }

            self._id_5E5C = 0;
        }
    }
}

_id_10BC0()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        if ( !isdefined( self.owner ) )
            return;

        self.owner waittill( "damage", var_0, var_1 );

        if ( isplayer( var_1 ) && var_1 != self.owner )
        {
            if ( self._id_1DD2 == "attacking" )
                continue;

            if ( distancesquared( self.owner.origin, self.origin ) > self._id_AD8C )
                continue;

            if ( distancesquared( self.owner.origin, var_1.origin ) > self._id_AD8C )
                continue;

            _id_D550( var_1 );
        }
    }
}

_id_10BC1()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        if ( !isdefined( self.owner ) )
            return;

        self.owner waittill( "death" );

        switch ( level.gametype )
        {
            case "sd":
                _id_09C6::_id_8D58();
                return;
            case "sr":
                var_0 = level scripts\engine\utility::_id_10895( "sr_player_eliminated", "sr_player_respawned" );

                if ( isdefined( var_0 ) && var_0 == "sr_player_eliminated" )
                    _id_09C6::_id_8D58();

                return;
        }

        if ( self._id_4CCD == "guard_dog" && isdefined( self.owner._id_0251 ) && isalive( self.owner._id_0251 ) )
            _id_D550( self.owner._id_0251 );
    }
}

_id_10BC4()
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        if ( !isdefined( self.owner ) )
            return;

        var_0 = self.owner scripts\engine\utility::_id_1089D( "joined_team", "joined_spectators" );

        if ( isdefined( var_0 ) && ( var_0 == "joined_team" || var_0 == "joined_spectators" ) )
            _id_09C6::_id_8D58();
    }
}

_id_10AE4()
{
    self notify( "watchFavoriteEnemyDeath" );
    self endon( "watchFavoriteEnemyDeath" );
    self endon( "death" );
    self._id_01A8 scripts\engine\utility::_id_108A5( 10, "death_or_disconnect" );
    self._id_01A8 = undefined;
    self._id_020F = 1;
    self._id_5E5A = 0;
}

_id_AA87( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    self._id_F21D = gettime();

    if ( isdefined( self.owner ) )
        self._id_42D3 = vectornormalize( self.origin - self.owner.origin );
}

_id_DBA1( var_0, var_1, var_2 )
{
    if ( isdefined( var_1 ) && weaponclass( var_1 ) == "sniper" )
        return 1;

    if ( isdefined( var_2 ) && _func_010E( var_2 ) && var_0 >= 10 )
        return 1;

    if ( isdefined( var_2 ) && var_2 == "MOD_MELEE" )
        return 1;

    return 0;
}

_id_A0FC()
{
    self endon( "death" );

    for (;;)
    {
        self waittill( "flashbang", var_0, var_1, var_2, var_3, var_4, var_5 );

        if ( isdefined( var_3 ) && var_3 == self.owner )
            continue;

        switch ( self._id_13BF )
        {
            case "idle":
                _id_0AD4::_id_AADD();
                break;
            case "move":
                _id_0AD6::_id_AADD();
                break;
        }
    }
}

_id_D550( var_0 )
{
    self._id_01A8 = var_0;
    self._id_5E5A = 1;
    self._id_5E5C = 0;
    self._id_020F = 0;
    thread _id_10AE4();
}

_id_D67E()
{
    if ( isdefined( self.owner ) && isplayer( self.owner ) )
        var_0 = self.owner;
    else
        var_0 = level.players[0];

    if ( isai( var_0 ) )
        return;

    if ( isdefined( self._id_AD3D ) )
    {
        self._id_BDB3 = self._id_AD3D;
        self._id_AD3D = undefined;
        self notify( "enddebugdrawprotectpos" );
    }
    else
    {
        var_1 = var_0 getplayerangles();
        var_2 = var_0 geteye();
        var_3 = anglestoforward( var_1 );
        var_4 = var_2 + var_3 * 2048;
        var_5 = self _meth_8008( var_2, var_4, 1, 2, 1, 1 );

        if ( var_5["fraction"] < 1 )
        {
            var_6 = var_5["normal"];
            var_7 = var_5["position"];

            if ( var_6[2] > 0.707 )
            {
                var_8 = _id_06B7::_id_5036( var_7 );

                if ( isdefined( var_8 ) )
                {
                    var_9 = _func_0080( var_8 );

                    if ( isdefined( var_9 ) )
                    {
                        self._id_BDB3 = var_8;
                        var_7 = var_8;
                        return;
                    }

                    self._id_BDB3 = self.origin;
                    return;
                    return;
                }

                self._id_BDB3 = self.origin;
                return;
                return;
            }

            self._id_BDB3 = self.origin;
            return;
            return;
        }

        self._id_BDB3 = self.origin;
        self notify( "enddebugdrawprotectpos" );
    }
}

_id_394E()
{
    self._id_BDB5 = undefined;
    self._id_BDB3 = undefined;
}
