// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._id_8D46 = _id_07FB::_id_6DF7( "game", "allowkillcam" );
    level._id_8D51 = [];
    var_0 = 0;

    for (;;)
    {
        var_1 = tablelookupbyrow( "mp/miscKillcamItems.csv", var_0, 0 );

        if ( !isdefined( var_1 ) || var_1 == "" )
            break;

        var_1 = int( var_1 );
        var_2 = tablelookupbyrow( "mp/miscKillcamItems.csv", var_0, 1 );

        if ( !isdefined( var_2 ) || var_2 == "" )
            break;

        level._id_8D51[var_2] = var_1;
        var_0++;
    }
}

_id_D4B3( var_0, var_1, var_2 )
{
    self setclientomnvar( "cam_scene_name", var_0 );
    self setclientomnvar( "cam_scene_lead", var_1 );
    self setclientomnvar( "cam_scene_support", var_2 );
}

_id_6ABA( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_0 ) || !isdefined( var_1 ) || var_0 == var_1 && !isagent( var_0 ) )
        return undefined;

    if ( _id_FEC0( var_0, var_1, var_2, var_3 ) )
        return undefined;

    if ( _id_FED7( var_0, var_1, var_2, var_3 ) )
        return var_1.killcament;

    switch ( var_2.basename )
    {
        case "s4_glidebomb_fromeo_mp":
        case "hover_jet_turret_mp":
        case "chopper_support_turret_mp":
        case "bouncing_betty_mp":
        case "hover_jet_proj_mp":
        case "lighttank_mp":
        case "bomb_site_mp":
        case "player_trophy_system_mp":
        case "trophy_mp":
        case "trip_mine_mp":
            return scripts\engine\utility::ter_op( isdefined( var_1.killcament ), var_1.killcament, var_1 );
        case "white_phosphorus_proj_mp":
        case "s4_v2_mp":
        case "s4_ks_ord_ger_mp":
        case "artillery_mp":
        case "none":
            if ( _id_8932( var_1 ) || _id_8818( var_1 ) )
                return var_1.killcament;

            break;
    }

    if ( scripts\common\utility::_id_87E2( var_2.basename ) || scripts\mp\utility\weapon::_id_876D( var_2.basename ) )
    {
        if ( isdefined( var_1.killcament ) && !var_0 _id_0A6F::_id_1DB0() )
            return var_1.killcament;
        else
            return undefined;
    }

    return var_1;
}

_id_FEC0( var_0, var_1, var_2, var_3 )
{
    switch ( var_2.basename )
    {
        case "cruise_proj_mp":
        case "apache_turret_mp":
        case "apache_proj_mp":
        case "ac130_25mm_mp":
        case "ac130_40mm_mp":
        case "ac130_105mm_mp":
        case "lighttank_tur_mp":
        case "lighttank_tur_ks_mp":
        case "semtex_bolt_splash_mp":
        case "semtex_bolt_mp":
        case "thermite_bolt_radius_mp":
        case "thermite_bolt_mp":
        case "tur_apc_rus_mp":
        case "pac_sentry_turret_mp":
            return 1;
    }

    return 0;
}

_id_FED7( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_1 ) )
        return 0;

    if ( !var_1 scripts\cp_mp\vehicles\vehicle::_id_8ADC() )
        return 0;

    switch ( var_3 )
    {
        case "MOD_GRENADE_SPLASH":
        case "MOD_GRENADE":
        case "MOD_PROJECTILE_SPLASH":
        case "MOD_PROJECTILE":
            return 1;
        default:
            return 0;
    }
}

_id_D5BB( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    var_5._id_307A = "unknown";

    if ( isdefined( var_1 ) && isdefined( var_1._id_11E7 ) )
    {
        var_7 = "killcam_agent";

        switch ( var_1._id_11E7 )
        {
            case "actor_s4_mp_guard_dog":
            case "actor_s4_mp_attack_dog":
                var_7 = "killcam_dog";
                break;
        }

        _id_D4B3( var_7, var_0 getentitynumber(), var_3 getentitynumber() );
        var_5._id_307A = var_7;
        return 1;
    }
    else if ( isdefined( var_6 ) && isdefined( var_6.basename ) )
    {
        if ( var_6.basename == "manual_turret_mp" )
            return 1;
    }
    else if ( var_4 > 0 )
    {
        _id_D4B3( "unknown", -1, -1 );
        return 0;
    }
    else
    {
        _id_D4B3( "unknown", -1, -1 );
        return 0;
    }

    return 0;
}

_id_F63B( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_6 = var_2 + var_3;

    if ( isdefined( var_5 ) && var_6 > var_5 )
    {
        if ( var_5 < 2 )
            return;

        if ( var_5 - var_2 >= 1 )
            var_3 = var_5 - var_2;
        else
        {
            var_3 = 1;
            var_2 = var_5 - 1;
        }

        var_6 = var_2 + var_3;
    }

    var_7 = var_2 + var_4;

    if ( isdefined( var_0 ) && isdefined( var_0._id_9038 ) )
        var_8 = var_0._id_9038;
    else
    {
        var_8 = var_1._id_9038;

        if ( isdefined( var_1._id_43FE ) )
        {
            if ( gettime() - var_1._id_43FE < var_3 * 1000.0 )
            {
                var_3 = 1.0;
                var_3 = var_3 - level._id_5F1B;
                var_6 = var_2 + var_3;
            }
        }
    }

    var_9 = ( gettime() - var_8 ) / 1000.0;

    if ( var_7 > var_9 && var_9 > var_4 )
    {
        var_10 = var_9 - var_4;

        if ( var_2 > var_10 )
        {
            var_2 = var_10;
            var_6 = var_2 + var_3;
            var_7 = var_2 + var_4;
        }
    }

    var_11 = spawnstruct();
    var_11._id_308C = var_2;
    var_11._id_BA36 = var_3;
    var_11._id_8D4F = var_6;
    var_11._id_8D52 = var_7;
    return var_11;
}

_id_BB86( var_0 )
{
    if ( isdefined( var_0 ) && !isagent( var_0 ) )
    {
        var_1 = [];

        if ( isdefined( self.class ) && isdefined( self._id_37E4 ) )
        {
            var_2 = scripts\mp\playerlogic::_id_6C23( self._id_37E4 );
            var_1[var_1.size] = var_2;
        }

        if ( isdefined( var_0.class ) && isdefined( var_0._id_37E4 ) )
        {
            var_3 = scripts\mp\playerlogic::_id_6C23( var_0._id_37E4 );
            var_1[var_1.size] = var_3;
        }

        if ( var_1.size > 0 )
            scripts\mp\playerlogic::_id_968F( var_1, 1 );

        self _meth_8281( var_0 geteye(), 1 );
        self _meth_8214( var_0 );
    }
}

_id_99E0( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14, var_15 )
{
    var_16 = spawnstruct();
    var_16._id_50FD = var_0;
    var_16._id_7E79 = var_1;
    var_16._id_1DB3 = var_2;
    var_16._id_8D4A = var_3;
    var_16._id_8D4B = var_4;
    var_16._id_8D50 = var_5;
    var_16._id_8D4D = var_6;
    var_16.objweapon = var_7;
    var_16._id_A970 = var_8;
    var_16._id_9C9A = var_9;
    var_16.attacker = var_10;
    var_16._id_103C0 = var_11;
    var_16._id_DE28 = var_12;
    var_16._id_1DB2 = var_13;
    var_16._id_DDB4 = var_14;
    var_16._id_4E56 = var_15;

    if ( var_12 == "MOD_EXECUTION" )
        var_16._id_56E5 = _id_0767::_id_56DC( var_10 );

    return var_16;
}

_id_4CE3( var_0, var_1, var_2, var_3 )
{
    _id_8D46( var_0._id_50FD, var_0._id_7E79, var_0._id_1DB3, var_0._id_8D4A, var_0._id_8D4B, var_0._id_8D50, var_0._id_8D4D, var_0.objweapon, var_1, var_0._id_A970, var_2, var_0._id_9C9A, var_0.attacker, var_0._id_103C0, var_0._id_DE28, var_0._id_1DB2, var_0._id_DDB4, var_0._id_4E56, var_3 );
}

_id_2E97( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10 )
{
    if ( getdvar( "scr_killcam_time" ) == "" )
    {
        if ( level._id_DCB7 )
        {
            if ( var_10 == "MOD_EXECUTION" )
                var_11 = 4.0;
            else if ( scripts\mp\utility\game::_id_8744() )
            {
                if ( isdefined( var_2._id_C0E5 ) && var_2._id_C0E5 > 1 )
                    var_11 = 4.0 + level._id_9C67 - var_9;
                else
                    var_11 = 1.5 + level._id_9C67 - var_9;
            }
            else
                var_11 = 4.0 + level._id_9C67 - var_9;
        }
        else if ( var_7.basename == "artillery_mp" )
            var_11 = 2.25;
        else if ( var_7.basename == "hover_jet_proj_mp" )
            var_11 = 3.0;
        else if ( var_7.basename == "hover_jet_turret_mp" || var_7.basename == "chopper_support_turret_mp" )
            var_11 = 1.5;
        else if ( var_7.basename == "s4_ks_ord_ger_mp" )
            var_11 = 2.5;
        else if ( var_7.basename == "cruise_proj_mp" )
            var_11 = 3.0;
        else if ( var_7.basename == "javelin_mp" )
            var_11 = 8;
        else if ( issubstr( var_7.basename, "remotemissile_" ) )
            var_11 = 5;
        else if ( isdefined( var_0._id_D112 ) && var_0._id_D112 == "multiturret" )
            var_11 = 2.0;
        else if ( !var_8 || var_8 > 5.0 )
            var_11 = 5.0;
        else if ( var_7.basename == "s4_frag_usa_mk2_mp" || var_7.basename == "frag_grenade_short_mp" || var_7.basename == "s4_semtex_mp" || var_7.basename == "semtexproj_mp" || var_7.basename == "mortar_shell__mp" || var_7.basename == "cluster_grenade_mp" || var_7.basename == "s4_frag_gbr_n23_mp" || var_7.basename == "s4_frag_ger_m24_mp" || var_7.basename == "s4_frag_gbr_n82_mp" || var_7.basename == "s4_bundle_charge_mp" )
            var_11 = 4.25;
        else
            var_11 = 2.5;
    }
    else
        var_11 = getdvarfloat( "scr_killcam_time" );

    if ( isdefined( var_5 ) )
    {
        if ( var_11 > var_5 )
            var_11 = var_5;

        if ( var_11 < level._id_5F1B )
            var_11 = level._id_5F1B;
    }

    if ( scripts\mp\utility\game::_id_8744() )
    {
        var_12 = 1;

        if ( var_10 == "MOD_EXECUTION" )
            var_12 = 3.0;
    }
    else if ( getdvar( "scr_killcam_posttime" ) == "" )
        var_12 = 2;
    else
    {
        var_12 = getdvarfloat( "scr_killcam_posttime" );

        if ( var_12 < level._id_5F1B )
            var_12 = level._id_5F1B;
    }

    if ( var_3 < 0 || !isdefined( var_2 ) )
        return undefined;

    if ( isagent( var_2 ) || isagent( var_0 ) )
        var_3 = var_4 getentitynumber();

    var_13 = _id_F63B( var_1, var_2, var_11, var_12, var_6, var_5 );

    if ( !isdefined( var_13 ) )
        return undefined;

    return var_13;
}

_id_D5C4( var_0 )
{
    self setclientomnvar( "ui_killcam_killedby_id", var_0 getentitynumber() );
}

_id_D5C2( var_0 )
{
    self setclientomnvar( "ui_killcam_end_milliseconds", int( var_0 * 1000 ) + gettime() );
}

_id_D87C( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( isplayer( var_0 ) )
    {
        _id_D5C4( var_0 );
        self setclientomnvar( "ui_killcam_victim_id", var_1 getentitynumber() );
        self _meth_8214( var_0 );
    }

    if ( scripts\mp\utility\weapon::_id_88DC( var_2.basename ) )
        _id_D5BE( var_2 );
    else if ( scripts\mp\utility\game::_id_8743() )
    {
        for ( var_6 = 0; var_6 < 6; var_6++ )
            self setclientomnvar( "ui_killcam_killedby_perk" + var_6, -1 );

        if ( isdefined( var_0.arena_evo_perks ) )
        {
            var_7 = 0;

            foreach ( var_9 in var_0.arena_evo_perks )
            {
                var_10 = _id_0A44::_id_6C07( var_9 );
                self setclientomnvar( "ui_killcam_killedby_perk" + var_7, var_10 );
                var_7++;
            }
        }
    }
    else
        _id_0A44::_id_D61A( "ui_killcam_killedby_perk", var_5 );

    var_12 = getdvarint( "scr_player_forcerespawn" );

    if ( var_4 && !level._id_609B || isdefined( self ) && !level._id_609B || var_12 == 0 && !level._id_609B )
        self setclientomnvar( "ui_killcam_text", "skip" );
    else if ( !level._id_609B )
        self setclientomnvar( "ui_killcam_text", "respawn" );
    else
        self setclientomnvar( "ui_killcam_text", "none" );

    _id_D5C2( var_3._id_8D4F );
}

_id_247C( var_0, var_1, var_2, var_3 )
{
    scripts\mp\utility\player::_id_FD24( "spectator" );
    self._id_03C4 = 1;
    self._id_01BD = var_0;
    self._id_0249 = -1;
    self._id_005F = var_1;
    self._id_8D4F = var_2;
    self._id_032E = var_3;
    self _meth_8012( "freelook", 1 );
    self _meth_8012( "none", 1 );

    foreach ( var_5 in level._id_EF86 )
        self _meth_8012( var_5, 1 );
}

_id_34FF( var_0 )
{
    if ( self._id_005F + 0.015 < var_0 )
    {
        var_1 = var_0 - self._id_005F;

        if ( game["truncated_killcams"] < 32 )
            game["truncated_killcams"]++;
    }
}

_id_BEC5()
{
    level._id_A782++;
    var_0 = 1;

    if ( istrue( level._id_DCB7 ) && scripts\mp\utility\game::getgametype() == "br" )
        var_0 = 5;

    var_1 = level._id_5F1B * int( floor( ( level._id_A782 - 1 ) / var_0 ) );
    level._id_9C67 = var_1;

    if ( var_1 > 0 )
        wait( var_1 );

    waitframe();
    level._id_A782--;
    return var_1;
}

_id_8D46( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14, var_15, var_16, var_17, var_18 )
{
    self endon( "disconnect" );
    self endon( "spawned" );
    level endon( "game_ended" );
    scripts\mp\utility\player::_id_BD13( "killcam::killcam() START" );
    _id_C627();

    if ( var_2 < 0 || !isdefined( var_12 ) )
    {
        self notify( "killcam_canceled" );

        if ( istrue( var_18 ) )
            self setclientomnvar( "post_game_state", 1 );

        return;
    }

    var_19 = _id_BEC5();
    var_20 = _id_2E97( var_0, var_1, var_12, var_2, var_13, var_11, var_8, var_7, var_10, var_19, var_14 );

    if ( !isdefined( var_20 ) )
    {
        self notify( "killcam_canceled" );

        if ( istrue( var_18 ) )
            self setclientomnvar( "post_game_state", 1 );

        return;
    }

    _id_D87C( var_12, var_13, var_7, var_20, var_10, var_15 );

    if ( isplayer( var_12 ) )
        self _meth_8214( var_12 );

    _id_247C( var_2, var_20._id_8D52, var_20._id_8D4F, var_9 );
    var_21 = _id_D5BB( var_0, var_1, var_2, var_13, var_3, var_20, var_7 );

    if ( !var_21 )
        thread _id_D5B9( var_3, var_20._id_8D52, var_4, var_5, var_6 );

    thread _id_52D3( var_18 );
    waitframe();

    if ( !isdefined( self ) )
        return;

    _id_34FF( var_20._id_8D52 );
    var_20._id_308C = self._id_005F - level._id_5F1B - var_8;
    var_20._id_8D4F = var_20._id_308C + var_20._id_BA36;
    self._id_8D4F = var_20._id_8D4F;

    if ( var_20._id_308C <= 0 )
    {
        _id_8D48( 1, undefined, var_18 );
        return;
    }

    self._id_8D46 = 1;
    thread _id_E2B9( var_18 );

    if ( istrue( var_17 ) )
        thread _id_4CE4( var_20._id_308C );

    if ( !isdefined( var_16 ) || var_16 )
    {
        thread _id_1085D( var_10 );
        thread _id_10861();
    }

    if ( istrue( var_18 ) )
        thread _id_07A7::_id_5A85();

    thread _id_5303();

    if ( !isbot( self ) )
        thread _id_C63B();

    self._id_8D54 = gettime();
    waittillhostmigrationdone();
    self._id_8D54 = ( gettime() - self._id_8D54 ) / 1000;
    _id_0A7B::_id_7D93( "timeWatchingKillcams", self._id_8D54 );
    _id_8D48( 1, undefined, var_18 );
    scripts\mp\utility\player::_id_BD13( "killcam::killcam() COMPLETE" );
}

_id_C63B()
{
    self endon( "disconnect" );
    scripts\engine\utility::_id_108A6( 0.15, "killcam_canceled", "spawned" );
    self _meth_8282();

    if ( istrue( level._id_DCB7 ) )
        scripts\mp\gamelogic::_id_BB6E();
}

_id_D89A( var_0, var_1 )
{
    _id_D5C4( var_0 );
    _id_D5C2( var_1 );
}

_id_BA7C( var_0, var_1, var_2, var_3 )
{
    self endon( "disconnect" );
    _id_BB86( var_0 );
    _id_C627();
    var_4 = var_0 getentitynumber();
    _id_BEC5();

    if ( isplayer( var_0 ) )
        self _meth_8214( var_0 );

    var_5 = gettime();
    var_6 = ( var_5 - var_2 ) / 1000.0;
    var_7 = ( var_5 - var_3 ) / 1000.0;
    var_8 = ( var_3 - var_2 ) / 1000.0;
    _id_D89A( var_0, var_8 );
    self._id_0060 = 1;
    _id_247C( var_4, var_6, var_8, var_1 );
    waitframe();

    if ( !isdefined( self ) )
        return;

    _id_34FF( var_6 );
    self._id_8D4F = self._id_005F - var_7;
    self._id_8D46 = 1;
    self notify( "begin_killcam" );
    waittillhostmigrationdone();
    _id_BA80();
}

_id_BA80()
{
    self._id_8D46 = undefined;
    _id_07F1::_id_D6D7();
    scripts\mp\utility\player::_id_FD24( "dead" );
    scripts\mp\utility\player::_id_392A();
    self notify( "killcam_ended" );
}

_id_4CE4( var_0 )
{
    self endon( "killcam_ended" );

    if ( isdefined( level._id_4CDA ) )
        return;

    level._id_4CDA = 1;
    var_1 = 0;
    var_2 = var_0;

    if ( var_2 > 1.0 )
    {
        var_2 = 1.0;
        var_1 = var_1 + 1.0;
        wait( var_0 - var_1 );
    }

    if ( !isdefined( level._id_8D47 ) )
    {
        _func_0421( "killcam" );
        level._id_8D47 = 1;
    }

    _func_01EB( 1.0, 0.25, var_2 );
    wait( var_2 + 0.5 );
    _func_01EB( 0.25, 1, 1 );
    level._id_4CDA = undefined;
}

_id_D5C0( var_0, var_1, var_2, var_3 )
{
    if ( var_1 == "MOD_EXECUTION" )
        _id_D5BC( var_3 );
    else if ( !isdefined( var_0 ) || var_0.basename == "none" )
        _id_3927();
    else
    {
        if ( isdefined( var_2._id_6FF8 ) )
        {
            var_4 = undefined;
            var_0 = var_2._id_6FF8;
            var_2 = undefined;
        }
        else
            var_4 = scripts\mp\utility\weapon::_id_69F9( var_0.basename );

        if ( isdefined( scripts\mp\supers::_id_6D89( var_0 ) ) )
            _id_D5C1( var_0 );
        else
        {
            if ( isdefined( var_4 ) && ( var_4 == "lethal" || var_4 == "tactical" ) )
            {
                _id_D5BA( var_0 );
                return;
            }

            if ( isdefined( level._id_8D51[var_0.basename] ) )
            {
                _id_D5BF( level._id_8D51[var_0.basename] );
                return;
            }

            _id_D5C3( var_0, var_2 );
        }
    }
}

waittillhostmigrationdone()
{
    self endon( "abort_killcam" );
    scripts\mp\utility\player::_id_BD13( "killcam::waittillKillcamOver() START" );
    wait( self._id_8D4F - level._id_01CC / 1000.0 );
    scripts\mp\utility\player::_id_BD13( "killcam::waittillKillcamOver() COMPLETE" );
}

_id_D5B9( var_0, var_1, var_2, var_3, var_4 )
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );
    var_5 = gettime() - var_1 * 1000;

    if ( var_2 > var_5 )
    {
        waitframe();
        var_1 = self._id_005F;
        var_5 = gettime() - var_1 * 1000;

        if ( var_2 > var_5 )
            wait( ( var_2 - var_5 ) / 1000 );
    }

    self._id_0249 = var_0;

    if ( isdefined( var_3 ) )
        self._id_024A = var_3;

    if ( isdefined( var_4 ) )
        self _meth_8613( var_4 );
}

_id_1085D( var_0 )
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );

    if ( !isai( self ) )
    {
        self notifyonplayercommand( "kc_respawn", "+usereload" );
        self notifyonplayercommand( "kc_respawn", "+activate" );
        self waittill( "kc_respawn" );
        _id_0A7B::_id_7D93( "skippedKillcams", 1 );
        scripts\mp\utility\player::_id_BD13( "killcam::waitSkipKillcamButton() Killcam SKIPPED" );
        self notify( "abort_killcam" );
    }
}

_id_10861()
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );
    self endon( "abort_killcam" );

    if ( self _meth_8428() )
    {
        while ( !self jumpbuttonpressed() )
            waitframe();
    }
    else
    {
        while ( self usinggamepad() || !self jumpbuttonpressed() )
            waitframe();
    }

    _id_0A7B::_id_7D93( "skippedKillcams", 1 );
    scripts\mp\utility\player::_id_BD13( "killcam::waitSkipKillcamKBMOrTouch() Killcam SKIPPED" );
    self notify( "abort_killcam" );
}

_id_5303()
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );

    for (;;)
    {
        if ( self._id_005F <= 0 )
            break;

        waitframe();
    }

    scripts\mp\utility\player::_id_BD13( "killcam::endKillcamIfNothingToShow() Killcam SKIPPED" );
    self notify( "abort_killcam" );
}

_id_E2B9( var_0 )
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );
    self waittill( "spawned" );
    _id_8D48( 0, undefined, var_0 );
}

_id_52D3( var_0 )
{
    self endon( "disconnect" );
    self endon( "killcam_ended" );
    level waittill( "game_ended" );
    _id_8D48( 1, 1, var_0 );
}

_id_3929()
{
    _id_3928();
    self setclientomnvar( "ui_killcam_end_milliseconds", 0 );
    self setclientomnvar( "ui_killcam_killedby_id", -1 );
    self setclientomnvar( "ui_killcam_victim_id", -1 );
    self setclientomnvar( "ui_killcam_killedby_loot_variant_id", -1 );
    self setclientomnvar( "ui_killcam_killedby_weapon_rarity", -1 );
    _id_3927();

    for ( var_0 = 0; var_0 < 6; var_0++ )
        self setclientomnvar( "ui_killcam_killedby_perk" + var_0, -1 );
}

_id_8D48( var_0, var_1, var_2 )
{
    _id_3929();
    self._id_8D46 = undefined;
    _id_D4B3( "unknown", -1, -1 );
    _id_07F1::_id_D6D7( var_1 );
    scripts\mp\utility\player::_id_392A();

    if ( istrue( var_0 ) && !istrue( var_1 ) )
        scripts\mp\utility\player::_id_FD24( "dead" );

    self notify( "killcam_ended" );

    if ( istrue( var_2 ) )
        self setclientomnvar( "post_game_state", 1 );
}

_id_3933()
{
    self setclientomnvar( "ui_killcam_killedby_loot_variant_id", -1 );
    self setclientomnvar( "ui_killcam_killedby_weapon_rarity", -1 );
}

_id_3928()
{
    self setclientomnvar( "ui_killcam_killedby_item_type", -1 );
    self setclientomnvar( "ui_killcam_killedby_item_id", -1 );
}

_id_D5BD( var_0, var_1 )
{
    self setclientomnvar( "ui_killcam_killedby_item_type", var_0 );
    self setclientomnvar( "ui_killcam_killedby_item_id", var_1 );
}

_id_D5C3( var_0, var_1 )
{
    if ( isdefined( var_0._id_AE4E ) )
        var_0 = var_0._id_AE4E;

    var_0 = scripts\mp\utility\weapon::_id_9AB4( var_0, var_1 );
    var_2 = scripts\mp\utility\weapon::getweaponrootname( var_0.basename );
    var_3 = _func_0225( "mp/statstable.csv", 4, var_2 );
    self setclientomnvar( "ui_weapon_pickup", 0 );

    if ( !isdefined( var_3 ) || var_3 < 0 )
    {
        _id_D5BD( -1, -1 );
        return;
    }

    var_4 = _id_07C4::_id_6B01( var_0.basename, var_0._id_04A4 );

    if ( isdefined( var_4 ) )
    {
        self setclientomnvar( "ui_killcam_killedby_loot_variant_id", var_4._id_04A4 );
        self setclientomnvar( "ui_killcam_killedby_weapon_rarity", var_4._id_BE8A - 1 );
    }
    else
    {
        self setclientomnvar( "ui_killcam_killedby_loot_variant_id", -1 );
        self setclientomnvar( "ui_killcam_killedby_weapon_rarity", -1 );
    }

    self setclientomnvar( "ui_killcam_killedby_weapon_rarity_notify", gettime() );
    _id_D5BD( 0, var_3 );

    if ( var_2 != "s4_me_knife" )
    {
        var_5 = getweaponattachments( var_0 );

        if ( !isdefined( var_5 ) )
            var_5 = [];

        var_6 = 0;

        for ( var_7 = 0; var_7 < var_5.size; var_7++ )
        {
            var_8 = var_5[var_7];
            var_9 = scripts\mp\utility\weapon::_id_1D7D( var_8 );

            if ( scripts\mp\utility\weapon::_id_1D73( var_2, var_9 ) )
            {
                if ( var_6 >= 8 )
                    break;

                var_10 = _func_0225( "dynamic_weapon_attachment_icon_table.csv", 0, var_8 );

                if ( isdefined( var_10 ) && var_10 >= 0 )
                {
                    self setclientomnvar( "ui_killcam_killedby_attachment" + ( var_6 + 1 ), var_10 );
                    var_6++;
                }
            }
        }

        for ( var_7 = var_6; var_7 < 8; var_7++ )
            self setclientomnvar( "ui_killcam_killedby_attachment" + ( var_7 + 1 ), -1 );
    }
}

_id_D5C1( var_0 )
{
    var_1 = scripts\mp\supers::_id_6D89( var_0 );
    var_2 = scripts\mp\supers::_id_6D83( var_1 );
    _id_D5BD( 2, var_2 );
    _id_3933();
    _id_3927();
}

_id_D5BE( var_0 )
{
    var_1 = _id_0A6F::_id_6AC4( level._id_8DD5[var_0.basename] );

    if ( isdefined( self._id_CC15 ) )
    {
        var_1 = self._id_CC15._id_7C71;
        var_2 = self._id_CC15._id_C032;
        self setclientomnvar( "ui_killcam_killedby_item_type", 1 );
        self setclientomnvar( "ui_killcam_killedby_loot_variant_id", var_1 );
        self setclientomnvar( "ui_killcam_killedby_weapon_rarity", var_2 - 1 );
    }
    else
    {
        _id_D5BD( 1, var_1 );
        _id_3933();
    }

    _id_3927();
}

_id_D5BA( var_0 )
{
    var_1 = scripts\mp\equipment::_id_69F5( var_0 );
    var_2 = scripts\mp\equipment::_id_69F8( var_1 );
    _id_D5BD( 3, var_2._id_7C71 );
    _id_3933();
    _id_3927();
}

_id_D5BC( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_1 = 0;
    else
        var_1 = _id_0767::_id_56DA( var_0 );

    _id_D5BD( 4, var_1 );
    _id_3933();
    _id_3927();
}

_id_D5BF( var_0 )
{
    _id_D5BD( 5, var_0 );
    _id_3933();
    _id_3927();
}

_id_3927()
{
    for ( var_0 = 0; var_0 < 8; var_0++ )
        self setclientomnvar( "ui_killcam_killedby_attachment" + ( var_0 + 1 ), -1 );
}

_id_8932( var_0 )
{
    var_1 = 0;

    if ( isdefined( var_0 ) && isdefined( var_0._id_045A ) )
    {
        switch ( var_0._id_045A )
        {
            case "remote_tank":
            case "care_package":
                var_1 = 1;
                break;
        }
    }

    return var_1;
}

_id_8818( var_0 )
{
    var_1 = 0;

    if ( isdefined( var_0.killcament ) && isdefined( var_0.classname ) )
    {
        switch ( var_0.classname )
        {
            case "script_brushmodel":
            case "script_model":
            case "trigger_multiple":
                var_1 = 1;
                break;
        }
    }

    return var_1;
}

_id_C627()
{
    _id_09A1::_id_1035C( self );
}
