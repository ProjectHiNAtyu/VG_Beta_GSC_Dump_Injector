// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_B8F7( var_0, var_1, var_2 )
{
    self endon( "death" );
    self endon( "terminate_ai_threads" );
    _id_0699::_id_3545( var_1 );
    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    var_4 = _id_0009::_id_1C46( var_1, var_3 );
    self._id_47F1 = "crouch";
    scripts\anim\utility::_id_FBFD();
    self endon( "killanimscript" );
    self _meth_8018( "noclip" );
    var_5 = self _meth_8161();
    self _meth_8250( "face angle", var_5._id_0054[1] );
    var_5._id_F4D7 = var_5._id_02EA[2] + var_5._id_F4D8;
    var_6 = var_5._id_F4D7 - var_5._id_02EA[2];
    thread _id_08C8::_id_F03D( var_6 - var_2 );
    var_7 = 0.15;
    self _meth_85EB( var_1, var_3 );
    var_8 = 0.2;
    var_9 = 0.2;
    thread _id_F4D4( var_0, var_1 );

    if ( !_func_0011( var_4, "gravity on" ) )
    {
        var_10 = 1.23;
        wait( var_10 - var_8 );
        self _meth_8018( "gravity" );
        wait( var_8 );
    }
    else
    {
        self waittillmatch( "traverse", "gravity on" );
        self _meth_8018( "gravity" );

        if ( !_func_0011( var_4, "blend" ) )
            wait( var_8 );
        else
            self waittillmatch( "traverse", "blend" );
    }

    _id_F09C( var_0, var_1 );
}

_id_B8F6( var_0, var_1, var_2 )
{
    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    _id_0699::_id_3545( var_1 );
    self _meth_8018( "noclip" );
    var_4 = self _meth_8161();
    self _meth_8250( "face angle", var_4._id_0054[1] );
    self _meth_85EB( var_1, var_3 );
    _id_0009::_id_1C1D( var_0, var_1 );
    _id_F09C( var_0, var_1 );
}

_id_B8F8( var_0, var_1, var_2 )
{
    self endon( "death" );
    self endon( "terminate_ai_threads" );
    self endon( var_1 + "_finished" );
    var_3 = getdvarint( "ai_debug_doublejump", 0 );

    if ( var_3 != 3 && var_3 != 4 )
        _id_0699::_id_3545( var_1 );

    self._id_BF40 = 1;
    var_4 = self _meth_8161();
    var_5 = self _meth_8160();
    var_4._id_F4D7 = var_4._id_02EA[2] + var_4._id_F4D8 - 44;
    var_6 = [];

    if ( var_4._id_F4D7 > var_5[2] )
    {
        var_7 = ( var_4._id_02EA[0] + var_5[0] ) * 0.5;
        var_8 = ( var_4._id_02EA[1] + var_5[1] ) * 0.5;
        var_6[var_6.size] = ( var_7, var_8, var_4._id_F4D7 );
    }

    var_6[var_6.size] = var_5;
    var_10 = _func_0205( "script_model", var_4._id_02EA );
    var_10 setmode( "tag_origin" );
    var_10._id_0054 = var_4._id_0054;
    thread _id_077B::_id_470D( var_10 );
    self _meth_8250( "face angle", var_4._id_0054[1] );
    var_11 = 1.63;
    self _meth_820B( var_10 );
    var_12 = _id_0009::_id_1C34( var_0, var_1 );
    _id_0009::_id_1C66( var_0, var_1, _id_0009::_id_1C46( var_12 ) );
    self _meth_85EB( var_1, var_12 );
    thread _id_F4D4( var_0, var_1 );

    foreach ( var_14 in var_6 )
    {
        var_15 = var_11 / var_6.size;
        var_10 _meth_823B( var_14, var_15 );
        var_10 waittill( "movedone" );
    }

    self notify( "double_jumped" );
    self _meth_8415();
    self._id_BF40 = undefined;
    var_10 _meth_809A();
    thread _id_F09C( var_0, var_1 );
}

_id_F4D5( var_0, var_1, var_2 )
{
    self _meth_8415();
    self._id_BF40 = undefined;
}

_id_F4D4( var_0, var_1 )
{
    self endon( "death" );
    self endon( "terminate_ai_threads" );
    self endon( var_1 + "_finished" );
    self endon( "double_jumped" );
    _id_0009::_id_1C1D( var_0, var_1 );
}

_id_6A06( var_0 )
{
    return level._id_CC3B[var_0];
}

_id_B8F9( var_0, var_1, var_2 )
{
    _id_0699::_id_B8FC( var_0, var_1 );
}

_id_3613( var_0, var_1, var_2 )
{
    var_3 = self _meth_8161();
    var_4 = var_3._id_005C;
    var_5 = _id_6A06( var_4 );
    return var_5;
}

_id_B379( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    self _meth_8018( "noclip" );
    self _meth_8250( "face angle", self._id_0054[1] );
    self._id_049A = 1;
    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    self _meth_85EB( var_1, var_3 );
    var_4 = _id_0009::_id_1C46( var_1, var_3 );
    _id_0009::_id_1C66( var_0, var_1, var_4 );
    _id_0009::_id_1C1D( var_0, var_1 );
    thread _id_F09C( var_0, var_1 );
}

_id_69D4( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = _id_0009::_id_1C10( var_0, var_1 );
    var_6 = _id_0009::_id_1C46( var_1, var_5 );
    var_7 = _func_00BB( var_6, var_4 );
    var_8 = var_7[0];
    var_9 = _func_00B0( var_6, 0, var_8 );
    var_10 = _func_0077( var_6, 0, var_8 );
    return _id_08CB::_id_2E8B( var_2, var_3[1], var_9, var_10 );
}

_id_4E84( var_0, var_1, var_2, var_3 )
{
    var_4 = var_3[2] - var_2._id_02EA[2];

    if ( var_4 < 0 )
        return 0;

    if ( isdefined( var_2._id_8C7D ) && getdvarint( "ai_debug_doublejump", 0 ) != 2 )
    {
        var_5 = var_2._id_8C7D;
        var_6 = var_2._id_0054 - var_2._id_E6F9;

        if ( var_6 != ( 0, 0, 0 ) )
            var_5 = _func_01C2( var_5, var_6 );

        var_7 = var_2._id_02EA + var_5;
        var_8 = var_7[2];
        var_8 = var_8 - 44;

        if ( var_3[2] < var_8 )
            return 0;
    }

    var_9 = var_3 - var_2._id_02EA;
    var_9 = ( var_9[0], var_9[1], 0 );
    var_10 = _func_025B( var_9 );
    var_11 = _id_69D4( var_0, var_1, var_3, var_10, "footstep_left_small" );
    var_12 = var_11 - var_2._id_02EA;

    if ( _func_0257( var_12, var_9 ) < 0 )
        return 0;

    return 1;
}

_id_34D1( var_0, var_1, var_2, var_3 )
{
    var_4 = _id_6DDB();

    if ( !isdefined( var_4 ) )
    {
        thread _id_F09C( var_0, "double_jump" );
        return 0;
    }

    var_5 = _id_6DDA();

    if ( !_id_4E84( var_0, var_2, var_4, var_5 ) )
    {
        thread _id_F09C( var_0, "double_jump" );
        return 0;
    }

    return 1;
}

_id_6DDB()
{
    if ( isdefined( self._id_F4C6 ) )
        return self._id_F4C6;

    return self _meth_8161();
}

_id_6DDA()
{
    if ( isdefined( self._id_F4C4 ) )
        return self._id_F4C4;

    return self _meth_8160();
}

_id_B37B( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = _id_6DDB();
    var_4 = var_3._id_4E83;
    var_5 = var_4 - var_3._id_02EA;
    var_5 = ( var_5[0], var_5[1], 0 );
    var_6 = _func_025B( var_5 );
    var_7 = _id_0009::_id_1C34( var_0, var_1 );
    var_8 = var_1 + "_finish";
    var_9 = _id_69D4( var_0, var_8, var_4, var_6, "mantle_align" );
    var_9 = ( var_9[0], var_9[1], var_9[2] + var_2 );
    _id_B8BC( var_0, var_1, var_7, var_9, var_6, 1, 0, 1 );
}

_id_B37A( var_0, var_1, var_2 )
{
    _id_B37B( var_0, var_1, -8 );
}

_id_B37D( var_0, var_1, var_2 )
{
    _id_B37B( var_0, var_1, -42 );
}

_id_4E85( var_0, var_1, var_2 )
{
    self._id_049A = 0;
    self._id_8C7E = undefined;
    self._id_F4C6 = undefined;
    self._id_F4C4 = undefined;
}

_id_4E80( var_0, var_1, var_2 )
{
    if ( !_id_0009::_id_1C28( var_0, "end" ) )
        _id_4E85( var_0, var_1, var_2 );
}

_id_87F2( var_0, var_1, var_2, var_3 )
{
    return _id_0009::_id_1C28( var_0, "end" );
}

_id_B37C( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = _id_6DDB();
    var_4 = _id_6DDA();

    if ( !isdefined( var_3._id_E6F9 ) )
        var_3._id_E6F9 = var_3._id_0054;

    var_5 = var_3._id_0054 - var_3._id_E6F9;

    if ( var_5 != ( 0, 0, 0 ) )
        var_4 = _func_01C2( var_4, var_5 );

    var_6 = undefined;
    var_7 = getdvarint( "ai_debug_doublejump", 0 );

    if ( var_7 != 2 )
    {
        if ( isdefined( var_3._id_8C7D ) )
        {
            var_8 = var_3._id_8C7D;

            if ( var_5 != ( 0, 0, 0 ) )
                var_8 = _func_01C2( var_8, var_5 );

            var_6 = var_3._id_02EA + var_8;
            var_9 = var_6[2];
            var_9 = var_9 - 44;

            if ( var_9 > var_4[2] )
            {
                var_10 = ( var_3._id_02EA[0] + var_4[0] ) * 0.5;
                var_11 = ( var_3._id_02EA[1] + var_4[1] ) * 0.5;
                var_6 = ( var_10, var_11, var_6[2] );
            }
            else
                var_6 = undefined;
        }
    }

    var_12 = _id_0009::_id_1C34( var_0, var_1 );
    self._id_8C7E = var_6;
    var_13 = var_1 + "_finish";

    if ( _id_4E84( var_0, var_13, var_3, var_4 ) )
    {
        var_14 = var_4 - var_3._id_02EA;
        var_14 = ( var_14[0], var_14[1], 0 );
        var_15 = _func_025B( var_14 );
        var_13 = var_1 + "_finish";
        var_16 = _id_69D4( var_0, var_13, var_4, var_15, "footstep_left_small" );
        var_4 = var_16;
    }

    var_14 = var_4 - var_3._id_02EA;
    var_17 = 0;
    var_18 = 1.0;

    if ( var_14[2] < 0 )
    {
        var_17 = 1;
        var_19 = _func_00BB( _id_0009::_id_1C46( var_1, var_12 ), "gravity on" );

        if ( isdefined( var_19 ) && var_19.size > 0 )
            var_18 = var_19[0];
    }

    var_14 = ( var_14[0], var_14[1], 0 );
    var_15 = _func_025B( var_14 );
    _id_B8BC( var_0, var_1, var_12, var_4, var_15, var_18, var_17, 1 );
}

_id_35CD( var_0, var_1, var_2 )
{
    var_3 = _id_6DDA();
    var_4 = "double_jump_up";

    if ( isdefined( var_2 ) )
        var_4 = "double_jump_" + var_2;
    else if ( var_3[2] < self._id_02EA[2] )
        var_4 = "double_jump_down";

    if ( self._id_1C08._id_5E1A._id_5E16 == "right" )
        var_5 = "right_";
    else
        var_5 = "left_";

    var_4 = var_5 + var_4;
    var_6 = _id_0009::_id_1C55( var_1, var_4 );
    return var_6;
}

_id_6E31( var_0, var_1 )
{
    var_2 = var_0._id_0054 - var_0._id_1099E._id_E6F9;

    if ( var_2 != ( 0, 0, 0 ) )
    {
        var_3 = _func_01C2( var_0._id_1099E._id_A563[var_1], var_2 );
        var_4 = var_0._id_02EA + var_3;
    }
    else
        var_4 = var_0._id_02EA + var_0._id_1099E._id_A563[var_1];

    return var_4;
}

_id_DC0D( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( self._id_017D ) )
        return 0;

    var_4 = self._id_017D._id_02EA;
    var_5 = self._id_F4C6;
    var_6 = _id_6E31( var_5, self._id_109A1 );
    var_7 = _id_6E31( var_5, self._id_109A1 + 1 );
    var_7 = ( var_7[0], var_7[1], var_6[2] );
    var_4 = ( var_4[0], var_4[1], var_6[2] );
    var_8 = _func_025A( var_7 - var_6 );
    var_9 = _func_025A( var_4 - var_6 );
    var_10 = _func_0257( var_8, var_9 );

    if ( var_10 < 0.2588 )
        return 0;

    return 1;
}

_id_361A( var_0, var_1, var_2 )
{
    var_3 = _id_0009::_id_1C55( var_1, self._id_109A2 );
    return var_3;
}

_id_6D15( var_0 )
{
    return var_0 * var_0 * ( 3 - 2 * var_0 );
}

_id_F034( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    self endon( var_0 + "_finished" );

    if ( var_1 > 0 )
        wait( var_1 );

    var_6 = var_2 / var_3;
    var_7 = self._id_02EA[2];
    var_8 = var_7 + var_2[2];
    var_9 = self._id_02EA[2];
    self _meth_82E7( var_4, var_5 );

    for ( var_10 = 0; var_10 < var_3; var_10++ )
    {
        var_11 = 1;

        if ( var_11 )
        {
            var_12 = var_10 / ( var_3 - 1 );
            var_13 = _id_6D15( var_12 );
            var_14 = var_8 * var_13 + var_7 * ( 1 - var_13 );
            var_15 = var_14 - var_9;
            var_6 = ( var_6[0], var_6[1], var_15 );
            var_9 = var_14;
        }

        var_16 = self._id_02EA + var_6;
        self _meth_80F9( var_16 );

        if ( var_10 + 1 < var_3 )
            waitframe();
    }

    self _meth_82E7( var_4, 1 );
}

_id_109BD( var_0, var_1 )
{
    if ( var_0 == "start_jump" )
        thread _id_7447( var_1 );
    else if ( var_0 == "end_mantle" )
        self _meth_8018( "gravity" );
}

_id_7447( var_0, var_1, var_2 )
{
    var_3 = var_0[0];
    var_4 = var_0[1];
    var_5 = var_0[2];
    var_6 = var_0[3];
    var_7 = var_0[4];
    var_8 = var_0[5];
    var_9 = var_0[6];
    self endon( var_3 + "_finished" );
    var_10 = _func_0079( var_4 );

    if ( !isdefined( var_1 ) )
        var_1 = ( gettime() - var_6 ) * 0.001;

    var_11 = var_1 / var_10;
    var_12 = _func_00BB( var_4, "end_jump" );
    var_13 = _func_00BB( var_4, "end_double_jump" );

    if ( var_13.size > 0 )
    {
        self._id_109A3 = 1;
        var_12 = var_13;
    }
    else
        self._id_109A3 = 0;

    if ( isdefined( self._id_8C7E ) )
    {
        var_7 = ( var_12[0] - var_11 ) / 2 + var_11;
        var_12[0] = var_7;
        var_5 = self._id_8C7E;
    }

    var_14 = _func_00B0( var_4, var_11, var_7 );
    var_15 = self _meth_8215( var_14 );

    if ( !isdefined( var_2 ) )
        var_2 = 1;

    if ( var_9 )
    {
        var_16 = distance( self._id_02EA, var_15 );
        var_17 = distance( self._id_02EA, var_5 );
        var_2 = var_16 / var_17;

        if ( var_2 < 0.7 )
            var_2 = 0.7;
        else if ( var_2 > 1.3 )
            var_2 = 1.3;
    }

    var_19 = var_5 - var_15;
    var_20 = var_12[0] * var_10;
    var_21 = var_20 - var_11 * var_10;
    var_21 = var_21 * ( 1 / var_2 );
    var_22 = var_21 * 20;
    var_22 = _func_0037( var_22 );
    var_23 = gettime();
    _id_F034( var_3, 0, var_19, var_22, var_4, var_2 );

    if ( isdefined( self._id_8C7E ) )
    {
        var_24 = ( gettime() - var_23 ) * var_2;
        var_25 = var_1 + var_24 * 0.001;
        self._id_8C7E = undefined;
        var_0[6] = 0;
        _id_7447( var_0, var_25, var_2 );
    }
}

_id_6E37( var_0 )
{
    var_1 = _id_6E31( var_0, 1 ) - _id_6E31( var_0, 0 );
    var_2 = _func_025B( var_1 );
    return var_2[1];
}

_id_6E33( var_0 )
{
    self._id_109A1 = 0;
    var_1 = _id_6E31( var_0, 1 ) - _id_6E31( var_0, 0 );
    var_2 = _func_025B( var_1 );
    self._id_109A4 = var_2[1];
    var_3 = _id_6E31( var_0, self._id_109A1 );
    var_4 = anglestoright( var_2 );
    var_5 = var_3 - var_0._id_02EA;
    var_6 = _func_0257( var_4, var_5 );

    if ( var_6 > 0 )
        return "right";

    return "left";
}

_id_D8B9()
{
    if ( isdefined( self._id_109A2 ) )
        return;

    if ( !isdefined( self._id_F4C6 ) )
    {
        self._id_F4C6 = self _meth_8161();
        self._id_F4C4 = self _meth_8160();
    }

    var_0 = self._id_F4C6;
    self._id_109A2 = _id_6E33( var_0 );
}

_id_6E32()
{
    _id_D8B9();
    return self._id_109A2;
}

_id_109BE( var_0, var_1, var_2 )
{
    self._id_109A1 = undefined;
    self._id_109A2 = undefined;
    self._id_109A3 = undefined;
    self._id_109A4 = undefined;
    self._id_109A0 = undefined;
    self _meth_8308();
    self._id_049A = 0;
    self._id_8C7E = undefined;
    self._id_F4C6 = undefined;
    self._id_F4C4 = undefined;
}

_id_F4CD( var_0, var_1, var_2 )
{
    if ( !_id_0009::_id_1C28( var_0, "end" ) && !_id_0009::_id_1C28( var_0, "code_move" ) )
        _id_3882( var_0, var_1, var_2 );
}

_id_B90C( var_0, var_1, var_2 )
{
    self _meth_8018( "noclip" );
    self _meth_8250( "face angle", self._id_0054[1] );
    self._id_049A = 1;

    if ( isdefined( var_2 ) && var_2 == "shoot" )
        _id_D8B8();

    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    var_4 = _id_0009::_id_1C46( var_1, var_3 );
    var_5 = _func_00BB( var_4, "wall_contact" );
    var_6 = var_5[0];
    var_7 = _func_0077( var_4, 0, var_6 );
    var_8 = self._id_109A4 - var_7;
    var_9 = ( 0, var_8, 0 );
    self _meth_80F9( self._id_02EA, var_9 );
    self _meth_85EB( var_1, var_3 );
    _id_0009::_id_1C66( var_0, var_1, var_4 );
    var_10 = _id_0009::_id_1C1D( var_0, var_1, _id_0009::_id_1C42( var_0, var_1 ) );
}

_id_6E30( var_0 )
{
    var_1 = _id_3619( var_0, "wall_run_attach" );
    var_2 = _func_00BB( var_1, "wall_contact" );
    var_3 = var_2[0];
    var_4 = _func_00B0( var_1, 0, var_3 );
    var_5 = _func_0077( var_1, 0, var_3 );
    return _id_08CB::_id_2E8B( _id_6E31( self._id_F4C6, 0 ), self._id_109A4, var_4, var_5 );
}

_id_B90F( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    var_4 = _id_0009::_id_1C46( var_1, var_3 );
    var_5 = self._id_F4C6;
    self._id_109A1 = 0;
    var_6 = _id_6E31( var_5, 0 );
    var_7 = var_6 - self._id_02EA;
    var_7 = ( var_7[0], var_7[1], 0 );
    var_8 = _func_025B( var_7 );
    var_9 = _id_6E30();
    self _meth_8250( "face angle", var_8[1] );
    var_10 = 1.0;
    var_11 = _func_00BB( var_4, "code_move" );

    if ( isdefined( var_11 ) && var_11.size > 0 )
        var_10 = var_11[0];

    _id_B8BC( var_0, var_1, var_3, var_9, var_8, var_10, 0, 1 );
    self _meth_80F9( var_9, var_8 );
}

_id_B8BC( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 )
{
    self endon( var_1 + "_finished" );

    if ( !isdefined( var_5 ) )
        var_5 = 1;

    if ( !isdefined( var_6 ) )
        var_6 = 0;

    if ( !isdefined( var_7 ) )
        var_7 = 0;

    self _meth_80F9( self._id_02EA, var_4 );
    self _meth_8018( "noclip" );
    self _meth_8250( "face angle", var_4[1] );
    var_8 = _id_0009::_id_1C46( var_1, var_2 );
    var_9 = _func_0079( var_8 );
    var_10 = int( var_9 * 1000 );
    self _meth_85B9( gettime() + var_10 - 1000 );
    self._id_049A = 1;
    self _meth_85EB( var_1, var_2 );
    _id_0009::_id_1C66( var_0, var_1, var_8 );
    var_11 = [ var_1, var_8, var_3, gettime(), var_5, var_6, var_7 ];
    _id_0009::_id_1C1D( var_0, var_1, ::_id_109BD, var_11 );
}

_id_3619( var_0, var_1, var_2 )
{
    if ( isdefined( self._id_109A0 ) )
        return self._id_109A0;

    var_3 = self._id_109A2;
    var_4 = _func_000B( self._id_109A4 - self._id_0054[1] );
    var_4 = abs( var_4 );

    if ( var_4 >= 22.5 )
    {
        if ( var_4 > 67.5 )
            var_3 = var_3 + "_90";
        else
            var_3 = var_3 + "_45";
    }

    self._id_109A0 = _id_0009::_id_1C55( var_1, var_3 );
    return self._id_109A0;
}

_id_361B( var_0, var_1, var_2 )
{
    _id_D8B9();
    var_3 = self._id_109A2;
    var_4 = self._id_F4C6;
    var_5 = _id_6E31( var_4, 0 );
    var_6 = var_5[2] - self._id_02EA[2];
    var_7 = 0;

    if ( var_6 >= 0 )
    {
        if ( var_6 > 120 )
            var_7 = 1;
    }
    else if ( 0 - var_6 > 240 )
        var_7 = 1;

    if ( var_7 == 0 )
    {
        var_8 = distancesquared( self._id_02EA, var_5 );

        if ( var_8 > 40000 )
            var_7 = 1;
    }

    var_9 = "left_";

    if ( self._id_1C08._id_5E1A._id_5E16 == "right" )
        var_9 = "right_";

    if ( var_7 )
        var_3 = var_9 + "double_jump";
    else
        var_3 = var_9 + "single_jump";

    var_10 = _id_0009::_id_1C55( var_1, var_3 );
    return var_10;
}

_id_D0B0( var_0, var_1, var_2, var_3, var_4 )
{
    self endon( var_1 + "_finished" );
    wait( var_2 );
    _id_0009::_id_1C2B( var_0, var_3 );

    if ( var_4 )
        self notify( var_3 );
}

_id_751B( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( self._id_109A1 ) )
        return 0;

    var_4 = self._id_F4C6;

    if ( !isdefined( var_4 ) )
        return 0;

    var_5 = self._id_109A1 + 2;

    if ( var_4._id_1099E._id_A563.size <= var_5 )
        return 0;

    return 1;
}

_id_B90D( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = self._id_F4C6;
    _id_08C8::_id_D12E();
    self._id_109A1 = self._id_109A1 + 2;
    var_4 = _id_6E31( var_3, self._id_109A1 );
    var_5 = self._id_0054;

    if ( self._id_109A2 == "left" )
        self._id_109A2 = "right";
    else
        self._id_109A2 = "left";

    var_6 = _id_0009::_id_1C34( var_0, var_1 );
    _id_B8BC( var_0, var_1, var_6, var_4, var_5 );
}

_id_6E35( var_0 )
{
    var_1 = var_0._id_0054 - var_0._id_1099E._id_E6F9;

    if ( var_1 == ( 0, 0, 0 ) )
        return var_0._id_02EA + var_0._id_1099E._id_9A3E;

    var_2 = _func_01C2( var_0._id_1099E._id_9A3E, var_1 );
    return var_0._id_02EA + var_2;
}

_id_6E34( var_0 )
{
    if ( !isdefined( var_0._id_1099E._id_9A3B ) )
        return undefined;

    var_1 = var_0._id_0054[1] - var_0._id_1099E._id_E6F9[1];

    if ( var_1 == 0 )
        return var_0._id_1099E._id_9A3B;

    return ( 0, _func_000B( var_0._id_1099E._id_9A3B[1] + var_1 ), 0 );
}

_id_6E36()
{
    var_0 = self._id_F4C6;

    if ( !isdefined( var_0._id_1099E._id_9A3E ) )
        return "none";

    var_1 = _id_6E35( var_0 );

    if ( var_1[2] >= self._id_02EA[2] )
        return "high";

    return "low";
}

_id_DC0E( var_0, var_1, var_2, var_3 )
{
    var_4 = self._id_F4C6;

    if ( !isdefined( var_4._id_1099E._id_2DC2 ) )
        return 0;

    return var_4._id_1099E._id_2DC2;
}

_id_B911( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = self._id_F4C6;
    _id_D8B8();
    var_4 = _id_0009::_id_1C34( var_0, var_1 );
    var_5 = _id_0009::_id_1C46( var_1, var_4 );
    var_6 = _func_00B0( var_5 );
    var_7 = _func_0131( var_6 );

    if ( !isdefined( var_3._id_1099E._id_9A3E ) && self._id_109A1 == var_3._id_1099E._id_A563.size - 2 )
    {
        var_8 = _id_0009::_id_1C34( var_0, "wall_run_exit" );
        var_9 = _id_0009::_id_1C46( "wall_run_exit", var_8 );
        var_10 = _func_00BB( var_9, "start_jump" );
        var_11 = _func_0079( var_9 );
        var_12 = _func_00B0( var_9, 0, var_10[0] );
        var_13 = _func_0131( var_12 );
    }
    else
        var_13 = 0;

    var_14 = _id_6E31( var_3, self._id_109A1 + 1 ) - self._id_02EA;
    var_15 = _func_0130( var_14 );
    var_15 = var_15 - var_13;

    if ( var_15 < 0 )
        var_15 = 0;

    var_16 = var_15 / var_7;
    var_17 = _func_0079( var_5 );
    var_18 = var_17 * var_16;
    thread _id_D0B0( var_0, var_1, var_18, "wall_run_loop_done", 1 );
    var_19 = _func_025A( var_14 );
    self _meth_8250( "face direction", var_19 );
    thread _id_B90E( var_1 );
    self _meth_8018( "noclip" );
    self _meth_85EB( var_1, var_4 );
    _id_0009::_id_1C66( var_0, var_1, var_5 );
    _id_0009::_id_1C1D( var_0, var_1 );
}

_id_B90E( var_0 )
{
    self endon( "death" );

    if ( _func_0200( "wallrun_end_npc" ) )
    {
        self waittill( "wall_run_loop_done" );
        self _meth_827B( "wallrun_end_npc" );
    }
}

_id_361C( var_0, var_1, var_2 )
{
    var_3 = self._id_109A2;
    var_4 = self._id_F4C4;
    var_5 = var_4[2] - self._id_02EA[2];
    var_6 = 0;

    if ( var_5 >= 0 )
    {
        if ( var_5 > 120 )
            var_6 = 1;
    }
    else if ( 0 - var_5 > 240 )
        var_6 = 1;

    if ( var_6 == 0 )
    {
        var_7 = distancesquared( self._id_02EA, var_4 );

        if ( var_7 > 46225 )
            var_6 = 1;
    }

    if ( var_6 )
        var_3 = var_3 + "_double";

    var_4 = self._id_F4C4;
    var_8 = self._id_F4C6;
    var_9 = self._id_F4C4 - _id_6E31( var_8, var_8._id_1099E._id_A563.size - 1 );
    var_9 = ( var_9[0], var_9[1], 0 );
    var_9 = _func_025A( var_9 );
    var_10 = _func_025B( var_9 );
    var_11 = _func_000B( var_10[1] - self._id_0054[1] );
    var_11 = abs( var_11 );

    if ( var_11 >= 22.5 )
    {
        if ( var_11 > 67.5 )
            var_3 = var_3 + "_90";
        else
            var_3 = var_3 + "_45";
    }

    var_12 = _id_0009::_id_1C55( var_1, var_3 );
    return var_12;
}

_id_B910( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = self._id_F4C6;
    var_4 = self._id_F4C4;
    var_5 = self._id_0054;
    var_6 = 1.0;
    var_7 = _id_0009::_id_1C34( var_0, var_1 );
    var_8 = _func_00BB( var_7, "ground" );
    _id_08C8::_id_D12E();

    if ( isdefined( var_8 ) && var_8.size > 0 )
        var_6 = var_8[0];
    else
    {
        var_9 = _func_00BB( var_7, "end_double_jump" );

        if ( isdefined( var_9 ) && var_9.size > 0 )
            var_6 = var_9[0];
        else
        {
            var_10 = _func_00BB( var_7, "end_jump" );

            if ( isdefined( var_10 ) && var_10.size > 0 )
                var_6 = var_10[0];
        }
    }

    if ( _func_0200( "wallrun_end_npc" ) )
        self _meth_827B( "wallrun_end_npc" );

    _id_B8BC( var_0, var_1, var_7, var_4, var_5, var_6, 1, 1 );
    thread _id_F09E( var_0, var_1 );
}

_id_8937( var_0, var_1, var_2, var_3 )
{
    if ( isdefined( self._id_F4C6 ) )
        return 0;

    return 1;
}

_id_F09E( var_0, var_1 )
{
    self._id_109A1 = undefined;
    self._id_109A2 = undefined;
    self._id_109A3 = undefined;
    self._id_109A4 = undefined;
    self._id_109A0 = undefined;
    self _meth_8308();
    _id_F09C( var_0, var_1 );
}

_id_B912( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = self._id_F4C6;
    var_4 = self._id_F4C4;
    var_5 = _id_6E35( var_3 );

    if ( isdefined( var_3._id_1099E._id_2DC2 ) || _id_6E36() == "high" )
    {
        var_6 = _id_6E34( var_3 );

        if ( !isdefined( var_6 ) )
        {
            var_7 = var_4 - var_5;
            var_7 = ( var_7[0], var_7[1], 0 );
            var_6 = _func_025B( var_7 );
        }
    }
    else
    {
        var_7 = var_5 - self._id_02EA;
        var_7 = ( var_7[0], var_7[1], 0 );
        var_6 = _func_025B( var_7 );
    }

    var_8 = _id_0009::_id_1C34( var_0, var_1 );
    var_9 = _func_0079( var_8 );
    var_10 = _func_00BB( var_8, "start_mantle" );
    var_11 = var_10[0];
    var_12 = _func_00BB( var_8, "end_mantle" );
    var_13 = var_12[0];
    var_14 = _func_00B0( var_8, var_11, var_13 );
    self _meth_80F9( self._id_02EA, var_6 );
    var_15 = self _meth_8215( var_14 );
    var_16 = var_15 - self._id_02EA;
    var_17 = var_5 - var_16;
    _id_B8BC( var_0, var_1, var_8, var_17, var_6, var_11, 0, 1 );
    thread _id_F09E( var_0, var_1 );
}

_id_B8F5( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = _id_0009::_id_1C34( var_0, var_1 );

    if ( !isdefined( var_3 ) )
    {
        _id_0009::_id_1C2B( var_0, "code_move" );
        return;
    }

    var_4 = _id_0009::_id_1C46( var_1, var_3 );
    var_5 = 1.0;
    var_6 = undefined;

    if ( getdvarint( "ai_wall_run_use_align_notetrack", 1 ) == 1 )
        var_6 = _func_00BB( var_4, "align" );

    if ( !isdefined( var_6 ) || var_6.size == 0 )
        var_6 = _func_00BB( var_4, "code_move" );

    if ( isdefined( var_6 ) && var_6.size > 0 )
        var_5 = var_6[0];

    var_7 = _func_00B0( var_4, 0, var_5 );
    var_8 = _func_0077( var_4, 0, var_5 );
    var_9 = self._id_F4C6;
    var_10 = _func_0079( var_4 ) * var_5;
    var_11 = int( _func_0037( var_10 * 20 ) );

    if ( self._id_F4C6._id_005C == "wall_run" )
    {
        var_12 = _id_6E31( self._id_F4C6, 0 ) - self._id_02EA;
        var_13 = _func_025B( var_12 );
        var_14 = var_13[1];
    }
    else
    {
        var_15 = self._id_F4C4 - self._id_F4C6._id_02EA;
        var_15 = ( var_15[0], var_15[1], 0 );
        var_16 = _func_025B( var_15 );
        var_14 = var_16[1];
    }

    var_17 = _id_08CB::_id_2E8B( var_9._id_02EA, var_14, var_7, var_8 );
    var_18 = var_14 - var_8;
    self._id_0DB6._id_1BDB = var_1;
    self._id_049A = 1;
    self _meth_83D8( var_17, var_18, var_11 );
    self _meth_85EB( var_1, var_3 );
    _id_0009::_id_1C66( var_0, var_1, var_4 );
    _id_0009::_id_1C1D( var_0, var_1, _id_0009::_id_1C42( var_0, var_1 ) );
}

_id_361D( var_0, var_1, var_2 )
{
    return _id_08D3::_id_35FA( var_0, var_1, var_2 );
}

_id_3612( var_0, var_1, var_2 )
{
    var_3 = anglestoforward( self._id_0054 );
    var_4 = _func_025B( var_3 );

    if ( self._id_F4C6._id_005C == "wall_run" )
        var_5 = _func_025B( _id_6E31( self._id_F4C6, 0 ) - self._id_02EA );
    else
    {
        var_6 = self._id_F4C4 - self._id_F4C6._id_02EA;
        var_6 = ( var_6[0], var_6[1], 0 );
        var_5 = _func_025B( var_6 );
    }

    var_7 = var_5[1];
    var_8 = _func_000B( var_7 - var_4[1] );
    var_9 = _func_0321( var_8, 22.5 );
    var_10 = _id_08CA::_id_6D72( var_0, var_1, undefined, 1 );

    if ( !isdefined( var_10[var_9] ) )
        return undefined;

    return var_10[var_9];
}

_id_3882( var_0, var_1, var_2, var_3 )
{
    self._id_F4C6 = undefined;
    self._id_F4C4 = undefined;
    self._id_109A2 = undefined;
    return 0;
}

_id_DAF0( var_0, var_1, var_2, var_3 )
{
    var_4 = distance2dsquared( self._id_02EA, _id_6E31( self._id_F4C6, 1 ) );

    if ( var_4 < 144 )
        return 1;

    return 0;
}

_id_DB44( var_0, var_1, var_2, var_3 )
{
    if ( _id_8937( var_0, var_1, var_2, var_3 ) )
    {
        _id_0699::_id_D8B1( var_0, var_1, var_2, var_3 );

        if ( !isdefined( self._id_F4C6 ) )
            return 0;

        if ( self._id_F4C6._id_005C != "wall_run" )
            return 0;

        var_4 = self._id_F4C6;
        var_5 = _func_025A( _id_6E31( var_4, 0 ) - self._id_02EA );
        var_6 = _id_08D3::_id_2ED3( var_0, var_1, var_2, var_5, 0, 1 );

        if ( !isdefined( var_6 ) )
            return 0;

        self._id_0DB6._id_D9B1 = var_6;
        self._id_109A2 = _id_6E33( self._id_F4C6 );
        return 1;
    }

    return 0;
}

_id_DBFB( var_0, var_1, var_2, var_3 )
{
    if ( var_2 == self._id_F4C6._id_005C )
        return 1;

    return 0;
}

_id_8A94( var_0 )
{
    switch ( var_0 )
    {
        case "double_jump_mantle":
        case "wall_run":
        case "rail_hop_double_jump_down":
        case "double_jump_vault":
        case "double_jump":
            return 1;
    }

    return 0;
}

_id_DB43( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( self._id_F4C6 ) )
        return 0;

    if ( !_id_8A94( self._id_F4C6._id_005C ) )
        return 0;

    if ( !self._id_01A2 )
        return 0;

    var_4 = undefined;

    if ( self._id_F4C6._id_005C == "wall_run" )
    {
        var_4 = _id_6E33( self._id_F4C6 );
        var_5 = _id_6E31( self._id_F4C6, 0 ) - self._id_02EA;
        var_6 = _func_025B( var_5 );
    }
    else
    {
        var_5 = self._id_F4C4 - self._id_F4C6._id_02EA;
        var_5 = ( var_5[0], var_5[1], 0 );
        var_4 = _func_025A( var_5 );
        var_6 = _func_025B( var_4 );
    }

    var_7 = var_6[1];
    var_8 = anglestoforward( self._id_0054 );
    var_9 = _func_025B( var_8 );
    var_10 = _func_000B( var_7 - var_9[1] );
    var_11 = _func_0321( var_10, 22.5 );
    var_12 = _id_08CA::_id_6D72( var_0, var_2, undefined, 1 );
    var_13 = var_12[var_11];

    if ( !isdefined( var_13 ) )
        return 0;

    var_14 = 1.0;
    var_15 = undefined;

    if ( getdvarint( "ai_wall_run_use_align_notetrack", 1 ) == 1 )
        var_15 = _func_00BB( var_13, "align" );

    if ( !isdefined( var_15 ) || var_15.size == 0 )
        var_15 = _func_00BB( var_13, "code_move" );

    if ( isdefined( var_15 ) && var_15.size > 0 )
        var_14 = var_15[0];

    var_16 = _func_00B0( var_13, 0, var_14 );
    var_17 = _func_0077( var_13, 0, var_14 );
    var_18 = distance2d( self._id_02EA, self._id_F4C6._id_02EA );
    var_19 = _func_0130( var_16 );
    var_20 = var_18 - var_19;

    if ( var_20 < 0 )
    {
        var_21 = anglestoforward( var_6 );
        var_22 = _func_0257( var_8, var_21 );

        if ( var_22 > 0.707 )
        {
            if ( abs( var_20 ) > 10 )
                return 0;
        }
        else if ( abs( var_20 ) > 64 )
            return 0;
    }
    else if ( var_20 > 10 )
        return 0;

    if ( self._id_F4C6._id_005C == "wall_run" )
        self._id_109A2 = var_4;

    return 1;
}

_id_748F( var_0 )
{
    if ( var_0 == "wall_contact" )
    {
        if ( _func_0200( "wallrun_start_npc" ) )
            self _meth_827B( "wallrun_start_npc" );
    }
}

_id_D8B8()
{
    self._id_0497 = -45;
    self._id_0170 = 45;
    self._id_0350 = -90;
    self._id_0257 = 90;
}

_id_B8FA( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = self _meth_8161();
    var_4 = self _meth_8160();
    self _meth_8018( "noclip", 0 );
    self _meth_8250( "face angle", var_3._id_0054[1] );
    var_5 = var_4 - var_3._id_02EA;
    var_6 = _id_0009::_id_1C39();
    var_7 = undefined;
    var_8 = undefined;
    var_9 = undefined;

    if ( var_5[2] > 0 )
    {
        var_10 = "off_" + var_6;
        var_9 = _id_0009::_id_1C56( var_1, var_10 );

        if ( !isdefined( var_9 ) )
            var_9 = _id_0009::_id_1C55( var_1, "off" );

        var_7 = _id_0009::_id_1C55( var_1, "up" );
    }
    else
    {
        var_11 = "on_" + var_6;
        var_9 = _id_0009::_id_1C56( var_1, var_11 );

        if ( !isdefined( var_9 ) )
            var_8 = _id_0009::_id_1C55( var_1, "on" );

        var_7 = _id_0009::_id_1C55( var_1, "down" );
    }

    var_12 = 1;

    if ( isdefined( self._id_A233 ) )
        var_12 = self._id_A233;

    if ( isdefined( var_8 ) )
    {
        self _meth_85EB( var_1, var_8, var_12 );
        _id_0009::_id_1C1D( var_0, var_1 );
    }

    var_13 = var_4;

    if ( isdefined( var_9 ) )
    {
        var_14 = _id_0009::_id_1C46( var_1, var_9 );
        var_15 = _func_00B0( var_14 );
        var_13 = var_4 - var_15 + ( 0, 0, 1 );
    }

    var_16 = var_13 - self._id_02EA;

    if ( var_16[2] * var_5[2] > 0 )
    {
        var_17 = _id_0009::_id_1C46( var_1, var_7 );
        var_18 = _func_00B0( var_17 );
        var_19 = var_18[2] * var_12 / _func_0079( var_17 );
        var_20 = var_16[2] / var_19;
        self _meth_85EB( var_1, var_7, var_12 );
        _id_0009::_id_1C1E( var_0, var_1, var_20 );
    }

    if ( isdefined( var_9 ) )
    {
        self _meth_85EB( var_1, var_9, var_12 );
        _id_0009::_id_1C1D( var_0, var_1 );
    }

    _id_F09C( var_0, var_1 );
}

_id_F084( var_0, var_1, var_2 )
{
    self._id_A575 = !isai( self );
}

_id_F4D1( var_0, var_1, var_2 )
{
    self endon( var_1 + "_finished" );
    var_3 = _id_0009::_id_1C34( var_0, var_1 );
    self _meth_8018( "noclip", 0 );
    var_4 = self _meth_8161();
    self _meth_8250( "face angle", var_4._id_0054[1] );
    self _meth_85EB( var_1, var_3 );
    _id_0009::_id_1C1D( var_0, var_1, _id_0009::_id_1C42( var_0, var_1 ) );
    _id_F09C( var_0, var_1 );
}

_id_F09C( var_0, var_1 )
{
    self._id_049A = 0;
    self._id_8A95 = 0;
    self._id_8C7E = undefined;
    self._id_F4C6 = undefined;
    self._id_F4C4 = undefined;
    _id_0009::_id_1C2B( var_0, "traverse_end" );
    self _meth_85F7();
    self _meth_85FA();
}
