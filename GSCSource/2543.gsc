// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_ECF7()
{
    level._id_ED09 = [];
    _id_0A6E::_id_C27C( ::_id_ECFB );

    if ( _id_0A69::_id_6A43() == "br" )
        level thread _id_ECEE();
}

_id_ECFB( var_0 )
{
    foreach ( var_2 in level._id_ED09 )
    {
        var_2 _id_ED03( var_0 );
        var_2 _id_ED01( var_0 );
    }
}

_id_ECEE()
{
    level endon( "game_ended" );

    for (;;)
    {
        var_0 = level._id_ED09;
        var_1 = 0;

        foreach ( var_3 in var_0 )
        {
            if ( !isdefined( var_3 ) )
                continue;

            if ( istrue( var_3._id_87E1 ) )
                continue;

            if ( !isdefined( var_3._id_02F2 ) )
                continue;

            var_4 = distance2dsquared( var_3._id_02EA, var_3._id_02F2._id_02EA );

            if ( var_4 >= 144000000 )
            {
                var_3._id_02F2 thread _id_07B9::_id_DCE0( "tac_insert_fail_br_too_far" );
                var_3 _id_ECEF( 0 );
            }

            var_1++;

            if ( var_1 >= 5 )
            {
                var_1 = 0;
                waitframe();
            }
        }

        waitframe();
    }
}

_id_ECFD( var_0, var_1 )
{
    thread _id_ECFA();
}

_id_ED00( var_0, var_1 )
{
    self notify( "end_monitorTIUse" );
}

_id_ECFA()
{
    self endon( "disconnect" );
    level endon( "game_ended" );
    self endon( "end_monitorTIUse" );
    self._id_F293 = [];

    for (;;)
    {
        _id_ED04();
        var_0 = self _meth_8570();
        var_1 = var_0._id_0084 == "s4_hand_flare_mp";
        var_2 = _id_077B::_id_F07F( var_1, 0.05, 1.0 );
        _id_077B::_id_108A5( var_2, "offhand_pullback" );
    }
}

_id_ED04()
{
    var_0 = self._id_02EA;
    var_1 = _id_ECF8( var_0 );

    if ( istrue( var_1 ) )
        _id_ECEB( var_0 );
}

_id_ECF8( var_0 )
{
    var_1 = var_0 + ( 0, 0, 3 );

    if ( !_func_0034( var_1 ) )
        return 0;

    if ( _id_07D3::_id_8A91() )
        return 0;

    if ( !self _meth_81D7() )
        return 0;

    waitframe();

    if ( !self _meth_81D7() )
        return 0;

    return 1;
}

_id_ECEB( var_0 )
{
    if ( isdefined( self._id_F293[0] ) && self._id_F293[0] == var_0 )
        return;

    self._id_F293[1] = self._id_F293[0];
    self._id_F293[0] = var_0;
}

_id_ECF4()
{
    if ( isdefined( self._id_F293 ) )
    {
        if ( isdefined( self._id_F293[1] ) )
            return self._id_F293[1];
        else if ( isdefined( self._id_F293[0] ) )
            return self._id_F293[0];
    }

    return undefined;
}

_id_4776()
{
    _id_ECEF();
}

_id_ED05( var_0 )
{
    var_0 _meth_809A();
    var_1 = _id_ECF4();

    if ( !isdefined( var_1 ) )
        return 0;

    if ( _id_0A67::_id_F38C() )
        return 0;

    _id_E340( 0, 0, 1 );
    var_2 = var_1 + ( 0, 0, 16 );
    var_3 = var_1 + ( 0, 0, -16 );
    var_4 = [];
    var_4[0] = self;
    var_5 = _id_077A::_id_3EC3( 0, 1, 1, 1, 0, 0, 1 );
    var_6 = _id_077A::_id_C043( var_2, var_3, var_4, var_5, 0 );

    if ( var_6["hittype"] == "hittype_none" )
    {
        waitframe();
        var_7 = 14;
        var_6 = _id_077A::_id_E406( var_2, var_3, var_7, var_4, var_5, 0 );
    }

    var_8 = var_6["normal"];
    var_9 = var_6["position"] + var_8 * ( 0, 0, 0.5 );
    var_10 = anglestoforward( self._id_0054 );
    var_11 = -1 * var_8;
    var_12 = _id_077B::_id_5CBB( var_10, var_8 );
    var_13 = _func_0256( var_12, var_11 );
    var_14 = _func_0017( var_11, var_13, var_12 );
    var_15 = self._id_0054;
    var_16 = _func_0205( "script_model", var_9 );
    var_16._id_0054 = var_14;
    var_16._id_045B = self._id_045B;
    var_16._id_02F2 = self;
    var_16 _id_0765::_id_C2A7( 3, ::_id_4776 );
    var_16 setmode( "wm_tact_gen_handflare" );
    var_16 _meth_8373( "smoke", "active", 0 );
    var_16 _meth_884D( 3, self._id_045B );
    var_16._id_8A5A = isdefined( self._id_EB06 ) && self._id_EB06._id_E768._id_04CE == "s4_hand_flare_mp";
    var_16._id_EB2E = level._id_EB28._id_E76A["super_tac_insert"]._id_7C71;
    var_16 thread _id_ECFE( self );
    var_16 thread _id_ECF0();
    var_16 setorigin( self );
    var_16._id_10D06 = "tac_insert_trigger";
    var_16 _id_07E9::_id_C2A4( "Tactical_Static", self );
    level thread _id_0789::_id_F756( self, "use_tac_insert" );
    scripts\mp\weapons::_id_AABC( var_16, "equip_tac_insert", ::_id_ECEF );
    thread scripts\mp\weapons::_id_A0F2( self, var_16 );
    var_16 _id_0764::_id_D151( ::_id_ECF2 );
    _id_E343( var_1, var_15, var_16, 1 );
    var_17 = var_16 getentitynumber();
    level._id_ED09[var_17] = var_16;
    return 1;
}

_id_ECFE( var_0 )
{
    self._id_75CE = thread _id_0766::_id_D587( 0, 0 );
    thread _id_ECEC( var_0 );
    thread _id_ECF1( var_0 );

    if ( !self._id_8A5A )
        thread _id_ECFC( var_0 );
}

_id_ECEC( var_0 )
{
    _id_079A::_id_A0EC( 10, "hitequip", ::_id_ECF9, ::_id_ECF6, 1 );
}

_id_ECF9( var_0 )
{
    var_1 = var_0._id_A90B;
    var_2 = var_0._id_9CBF;
    return _id_079A::_id_744C( var_1, var_2 );
}

_id_ECF6( var_0 )
{
    var_1 = var_0._id_006E;

    if ( isdefined( self._id_02F2 ) && istrue( _id_099C::_id_B779( self._id_02F2, var_1 ) ) )
    {
        _id_ECF5( var_1 );
        self._id_02F2 thread _id_0A64::_id_9120( "ti_destroyed" );
    }

    thread _id_ECEF( 1 );
}

_id_ECFC( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    var_0 endon( "disconnect" );
    self._id_B0A2 = _func_0205( "script_origin", self._id_02EA );
    self._id_B0A2 makeunusable();
    self._id_B0A2 _meth_8305( "HINT_NOICON" );
    self._id_B0A2 _meth_832B( &"MP_PATCH/PICKUP_TI" );

    foreach ( var_2 in level._id_B758 )
        _id_ED03( var_2 );

    for (;;)
    {
        self._id_B0A2 waittill( "trigger", var_2 );
        var_2 _meth_827B( "iw8_tactical_insert_flare_pu" );
        var_2 scripts\engine\trace::_id_6F76( "equip_tac_insert", "secondary" );
        thread _id_ECEF( 0, 0, 1 );
    }
}

_id_ED03( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    if ( !isdefined( self ) || !isdefined( self._id_B0A2 ) )
        return;

    if ( istrue( self._id_87E1 ) )
        return;

    var_1 = isdefined( self._id_02F2 ) && var_0 == self._id_02F2;

    if ( var_1 )
        self._id_B0A2 _meth_80E0( var_0 );
    else
        self._id_B0A2 disableoffhandweapons( var_0 );
}

_id_ECEF( var_0, var_1, var_2 )
{
    if ( istrue( self._id_87E1 ) )
        return;

    self._id_87E1 = 1;
    _id_0766::_id_D586( self._id_75CE );
    self._id_75CE = undefined;

    if ( isdefined( self._id_02F2 ) )
    {
        if ( istrue( var_1 ) )
        {
            thread _id_ECEA();
            self._id_02F2 _id_0A7B::_id_7D93( "tacticalInsertionSpawns", 1 );
            self._id_02F2 _id_07F2::_id_3A9D( "super_tac_insert" );
            self._id_02F2 _id_0793::_id_AAD4( "super_tac_insert", 1 );
            _id_0780::_id_9751( self._id_02F2, self._id_EB2E, 1, istrue( var_0 ) );
        }
        else
        {
            self._id_02F2 _id_0793::_id_AAD4( "super_tac_insert", 0 );
            _id_0780::_id_9751( self._id_02F2, self._id_EB2E, 0, istrue( var_0 ) );
        }

        if ( !istrue( var_1 ) && !istrue( var_2 ) )
            self._id_02F2 thread _id_ECFF();

        self._id_02F2._id_D6CF = undefined;
    }

    self _meth_8225();

    if ( isdefined( self._id_B0A2 ) )
        self._id_B0A2 _meth_809A();

    self notify( "death" );
    self _meth_8373( "smoke", "neutral", 0 );

    if ( istrue( var_0 ) )
    {
        self _meth_8373( "destroy", "active", 0 );
        self _meth_8373( "visibility", "hide", 0 );
    }

    thread _id_ECED();
}

_id_ECFF()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    var_0 = 0;

    while ( !_id_0A74::_id_89D3( self ) || _id_0A74::_id_88AD() )
    {
        var_0 = 1;
        waitframe();
    }

    if ( var_0 )
        wait 0.3;

    _id_079B::_id_7B50( "tacinsert_destroyed" );
}

_id_ECEA()
{
    if ( _id_0A69::_id_6A43() != "br" )
        return;

    var_0 = self._id_02F2;
    level endon( "game_ended" );
    var_0 endon( "death_or_disconnect" );
    wait 1.5;
    var_0 thread _id_07B9::_id_DCE0( "tac_insert_success_br" );
}

_id_ECF0()
{
    self endon( "death" );
    level waittill( "game_ended" );
    thread _id_ECEF( 0, 0, 1 );
}

_id_ECED()
{
    wait 1;
    _id_0765::_id_47E6();
    self _meth_809A();
}

_id_ECF1( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    var_0 endon( "disconnect" );
    self makeunusable();
    self _meth_8305( "HINT_NOICON" );
    self _meth_832B( &"MP_PATCH/DESTROY_TI" );

    foreach ( var_2 in level._id_B758 )
        _id_ED01( var_2 );

    for (;;)
    {
        self waittill( "trigger", var_2 );
        var_2 notify( "destroyed_insertion", var_0 );
        var_2 notify( "destroyed_equipment" );
        _id_ECF5( var_2 );
        self._id_02F2 thread _id_0A64::_id_9120( "ti_destroyed" );
        thread _id_ECEF( 1 );
    }
}

_id_ED01( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    if ( !isdefined( self ) )
        return;

    if ( istrue( self._id_87E1 ) )
        return;

    var_1 = _id_099C::_id_B779( self._id_02F2, var_0 );

    if ( var_1 )
        self _meth_80E0( var_0 );
    else
        self disableoffhandweapons( var_0 );
}

_id_ECF2( var_0 )
{
    var_1 = var_0._id_006E;
    _id_ECF5( var_1 );

    if ( isdefined( self._id_02F2 ) && istrue( _id_099C::_id_B779( self._id_02F2, var_1 ) ) )
        self._id_02F2 thread _id_0A64::_id_9120( "ti_destroyed" );

    thread _id_ECEF( 1 );
}

_id_ECF5( var_0 )
{
    if ( istrue( _id_099C::_id_B779( self._id_02F2, var_0 ) ) )
    {
        var_0 notify( "destroyed_equipment" );
        var_0 thread _id_0A28::_id_6FC9();
        var_0 _id_0789::_id_553B( self );
    }
}

_id_E343( var_0, var_1, var_2, var_3 )
{
    _id_E340();
    var_4 = undefined;

    if ( isdefined( var_2 ) )
        var_4 = var_2;
    else
        var_4 = _func_0205( "script_model", var_0 );

    var_4._id_B7BE = var_0;
    var_4._id_B7B8 = var_1;
    var_4._id_A6AD = !istrue( var_3 );
    var_4._id_8A5A = isdefined( var_2 ) && istrue( var_2._id_8A5A );
    self._id_D6CF = var_4;
}

_id_E340( var_0, var_1, var_2 )
{
    if ( isdefined( self._id_D6CF ) )
    {
        if ( istrue( self._id_D6CF._id_A6AD ) )
            self._id_D6CF _meth_809A();
        else
            self._id_D6CF _id_ECEF( var_0, var_1, var_2 );
    }
}
