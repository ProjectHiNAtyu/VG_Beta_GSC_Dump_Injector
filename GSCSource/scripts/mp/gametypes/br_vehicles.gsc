// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_2C20()
{
    level._id_9FB5 = 1;
    level._id_7D1D = 1;
    var_0 = getdvarint( "scr_br_dynamic_spawn_veh_buffer", 24 );
    level._id_2A9D = 128 - var_0;
    level._id_2A9E = 0;
    level._id_2A35 = getdvarint( "scr_br_helos_max", 3 );
    level._id_2AA5 = [];
    level._id_2AA5["atv_spawn"] = "atv";
    level._id_2AA5["cargotruck_spawn"] = "cargo_truck";
    level._id_2AA5["copcar_spawn"] = "cop_car";
    level._id_2AA5["hoopty_spawn"] = "hoopty";
    level._id_2AA5["hooptytruck_spawn"] = "hoopty_truck";
    level._id_2AA5["jeep_spawn"] = "jeep";
    level._id_2AA5["largetransport_spawn"] = "large_transport";
    level._id_2AA5["littlebird_spawn"] = "little_bird";
    level._id_2AA5["mediumtransport_spawn"] = "medium_transport";
    level._id_2AA5["pickuptruck_spawn"] = "pickup_truck";
    level._id_2AA5["tacrover_spawn"] = "tac_rover";
    level._id_2AA5["technical_spawn"] = "technical";
    level._id_2AA5["van_spawn"] = "van";
    level._effect["vehicle_flares"] = loadfx( "vfx/iw8_mp/killstreak/vfx_apache_angel_flares.vfx" );
}

_id_2C21()
{
    _id_D8B3();
    _id_2C23();
}

_id_D8B3()
{
    var_0 = "vehicle_volume";

    if ( getdvarint( "scr_br_veh_vol_simple", 1 ) )
        var_0 = "vehicle_volume_simplified";

    level._id_2C24 = getentarray( var_0, "script_noteworthy" );

    foreach ( var_2 in level._id_2C24 )
        _id_829A( var_2 );

    level._id_2AA3 = [];
    level._id_2AA4 = [];
    level._id_2A36 = [];
    var_4 = scripts\cp_mp\vehicles\vehicle_spawn::_id_10273();

    foreach ( var_14, var_6 in var_4._id_4335 )
    {
        var_7 = [[ var_6._id_6D3F ]]();
        level._id_2AA3 = scripts\engine\utility::_id_1B75( level._id_2AA3, var_7 );

        foreach ( var_9 in var_7 )
        {
            if ( isdefined( var_9._id_CE1E ) && var_9._id_CE1E > 0 )
            {
                var_10 = level._id_2AA4.size;
                level._id_2AA4[var_10] = var_9;
                continue;
            }

            if ( isdefined( var_9._id_045A ) && var_9._id_045A == "littlebird_spawn" )
            {
                level._id_2A36[level._id_2A36.size] = var_9;
                continue;
            }

            foreach ( var_2 in level._id_2C24 )
            {
                if ( _func_0119( var_9.origin, var_2 ) )
                {
                    var_10 = var_2._id_10351.size;
                    var_2._id_10351[var_10] = var_9;
                    break;
                }
            }
        }
    }
}

_id_829A( var_0 )
{
    var_0._id_10351 = [];
    var_0._id_10352 = 0;
    _id_1D00( var_0 );
}

_id_1D00( var_0 )
{
    var_0._id_9F30 = 0;

    switch ( var_0._id_045A )
    {
        case "boneyard":
            var_0._id_9F30 = 2;
            break;
        case "dam":
            var_0._id_9F30 = 2;
            break;
        case "downtown":
            var_0._id_9F30 = 4;
            break;
        case "downtownpark":
            var_0._id_9F30 = 1;
            break;
        case "farm":
            var_0._id_9F30 = 4;
            break;
        case "gulag":
            var_0._id_9F30 = 1;
            break;
        case "hospital":
            var_0._id_9F30 = 0;
            break;
        case "junkyard":
            var_0._id_9F30 = 1;
            break;
        case "layover":
            var_0._id_9F30 = 3;
            break;
        case "lumber":
            var_0._id_9F30 = 2;
            break;
        case "militarybase":
            var_0._id_9F30 = 3;
            break;
        case "port":
            var_0._id_9F30 = 2;
            break;
        case "quarry":
            var_0._id_9F30 = 2;
            break;
        case "stadium":
            var_0._id_9F30 = 1;
            break;
        case "storagewars":
            var_0._id_9F30 = 1;
            break;
        case "super":
            var_0._id_9F30 = 1;
            break;
        case "torez":
            var_0._id_9F30 = 1;
            break;
        case "transit":
            var_0._id_9F30 = 2;
            break;
        case "tvstation":
            var_0._id_9F30 = 1;
            break;
        case "test_zone":
            var_0._id_9F30 = 1;
            break;
    }
}

_id_51A9()
{
    if ( !isdefined( level._id_FFF1 ) || !isdefined( level._id_FFF1._id_82E6 ) )
        return;

    foreach ( var_5, var_1 in level._id_FFF1._id_82E6 )
    {
        foreach ( var_3 in var_1 )
        {
            if ( scripts\cp_mp\vehicles\vehicle_occupancy::_id_101B9( var_3 ) )
                scripts\cp_mp\vehicles\vehicle_occupancy::_id_1017B( var_3 );
        }
    }
}

_id_474C()
{
    if ( !isdefined( level._id_FFF1 ) || !isdefined( level._id_FFF1._id_82E6 ) )
        return;

    scripts\cp_mp\vehicles\vehicle_spawn::_id_10266();
    level._id_EBC0 = 1;

    foreach ( var_6, var_1 in level._id_FFF1._id_82E6 )
    {
        var_2 = _id_0A86::_id_641F( var_6 );

        foreach ( var_4 in var_1 )
        {
            scripts\cp_mp\vehicles\vehicle_spawn::_id_10286( var_4 );
            var_4 [[ var_2 ]]( undefined );
        }
    }

    level._id_EBC0 = 0;
}

_id_F75A( var_0, var_1, var_2, var_3 )
{
    if ( var_0 == "little_bird" && scripts\mp\gametypes\br_gametypes::_id_8839( "littleBirdSpawns" ) )
        return;

    if ( scripts\cp_mp\vehicles\vehicle_spawn::_id_10267( var_0 ) )
    {
        var_4 = _id_E268( var_0, var_1, var_3 );

        if ( isdefined( var_4 ) )
            return var_4;
    }

    return undefined;
}

_id_E268( var_0, var_1, var_2 )
{
    var_3 = var_1.origin;
    var_4 = var_1.angles;

    if ( !isdefined( var_4 ) )
        var_4 = ( 0, randomfloat( 360 ), 0 );

    var_5 = spawnstruct();
    var_5.origin = var_3;
    var_5.angles = var_4;
    var_5.spawntype = "GAME_MODE";
    var_6 = scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_spawnvehicle( var_0, var_5, var_2 );

    if ( isdefined( var_6 ) )
        scripts\mp\gametypes\br_analytics::_id_2AE7( var_6, var_0 );

    return var_6;
}

_id_E307()
{
    var_0 = scripts\cp_mp\vehicles\vehicle_spawn::_id_10273();
    level._id_2A9E = 0;
    var_1 = 0;
    var_2 = [];
    var_3 = level._id_2AA3;
    var_4 = scripts\engine\utility::_id_1B94( level._id_2AA4 );

    foreach ( var_6 in var_4 )
    {
        var_7 = spawnstruct();
        var_8 = level._id_2AA5[var_6._id_045A];
        var_9 = _id_F75A( var_8, var_6, "alwaysSpawn", var_7 );

        if ( isdefined( var_9 ) )
        {
            level._id_2A9E++;
            var_2[var_2.size] = var_6;
            var_10 = 0;

            foreach ( var_12 in level._id_2C24 )
            {
                if ( _func_0119( var_6.origin, var_12 ) )
                {
                    var_12._id_10352++;
                    var_10 = 1;
                    break;
                }
            }

            if ( !var_10 )
            {

            }

            if ( level._id_2A9E >= level._id_2A9D )
                break;

            waitframe();
            continue;
        }

        var_1++;
    }

    var_19 = 0;

    if ( level._id_2A9E < level._id_2A9D )
    {
        var_20 = scripts\engine\utility::_id_1B94( level._id_2C24 );

        foreach ( var_12 in var_20 )
        {
            var_22 = var_12._id_9F30;

            if ( isdefined( var_22 ) && var_22 > 0 )
            {
                if ( var_22 > var_12._id_10351.size )
                {

                }

                if ( var_12._id_10352 < var_22 && var_12._id_10351.size > 0 )
                {
                    var_23 = scripts\engine\utility::_id_1B94( var_12._id_10351 );

                    for ( var_24 = 0; var_12._id_10352 < var_22 && var_24 < var_23.size; var_24++ )
                    {
                        var_7 = spawnstruct();
                        var_6 = var_23[var_24];
                        var_8 = level._id_2AA5[var_6._id_045A];
                        var_9 = _id_F75A( var_8, var_6, var_12._id_045A, var_7 );

                        if ( !isdefined( var_9 ) )
                        {
                            var_19++;
                            continue;
                        }

                        level._id_2A9E++;
                        var_2[var_2.size] = var_6;
                        var_12._id_10352++;

                        if ( level._id_2A9E >= level._id_2A9D )
                            break;

                        waitframe();
                    }

                    if ( level._id_2A9E >= level._id_2A9D )
                        break;
                }
            }
        }
    }

    if ( level._id_2A9E < level._id_2A9D )
    {
        var_26 = 0;
        var_27 = scripts\engine\utility::_id_1B94( level._id_2A36 );

        foreach ( var_6 in var_27 )
        {
            var_7 = spawnstruct();
            var_8 = level._id_2AA5[var_6._id_045A];
            var_9 = _id_F75A( var_8, var_6, "heloSpawn", var_7 );

            if ( isdefined( var_9 ) )
            {
                level._id_2A9E++;
                var_2[var_2.size] = var_6;
                var_26++;

                if ( var_26 >= level._id_2A35 )
                    break;

                if ( level._id_2A9E >= level._id_2A9D )
                    break;

                waitframe();
            }
        }
    }

    if ( level._id_2A9E < level._id_2A9D )
    {
        var_23 = 0;
        var_3 = scripts\engine\utility::_id_1B97( var_3, var_2 );
        var_3 = scripts\engine\utility::_id_1B94( var_3 );

        foreach ( var_6 in var_3 )
        {
            var_8 = level._id_2AA5[var_6._id_045A];

            while ( !scripts\cp_mp\vehicles\vehicle_tracking::_id_31BB() )
                wait 1;

            var_7 = spawnstruct();
            var_9 = _id_F75A( var_8, var_6, "randomSpawns", var_7 );
            level._id_2A9E++;
            var_23++;

            if ( level._id_2A9E >= level._id_2A9D )
                break;

            waitframe();
        }
    }

    var_32 = 0;
    var_40 = var_1 + var_19;

    if ( var_32 > 0 )
        return;
}

_id_2C22()
{
    level._id_2A9E = 0;
    var_0 = scripts\cp_mp\vehicles\vehicle_spawn::_id_10273();

    foreach ( var_2 in level._id_2C24 )
        var_2._id_10352 = 0;
}

_id_10832()
{
    level endon( "game_ended" );
    level notify( "br_vehiclesWaitForDelete" );
    level endon( "br_vehiclesWaitForDelete" );
    waitframe();
    waittillframeend;
    _id_E307();
}

_id_2C23()
{
    _id_51A9();
    _id_474C();
    _id_2C22();
    level thread _id_10832();
}

_id_2C1F()
{
    wait 1.5;
    _id_09B8::_id_100E4( 0 );
    _id_2C23();
    _id_09B8::_id_100E4( 1 );
}

_id_431E( var_0, var_1 )
{
    if ( !isdefined( level._id_FFF1 ) || !isdefined( level._id_FFF1._id_82E6 ) )
        return;

    var_2 = 160.0;
    var_3 = 36.0;
    var_4 = 100.0;
    var_5 = getdvarfloat( "scr_br_heli_circle_damage_tick", var_4 );
    var_6 = level._id_FFF1._id_82E6["little_bird"];

    if ( isdefined( var_6 ) )
    {
        foreach ( var_8 in var_6 )
        {
            var_9 = 0;
            var_10 = var_8.origin;
            var_11 = distance2d( var_0, var_10 );

            if ( var_11 + var_2 > var_1 )
                var_9 = 1;
            else
            {
                var_12 = var_8 gettagorigin( "tail_rotor_jnt" );
                var_11 = distance2d( var_0, var_12 );

                if ( var_11 + var_3 > var_1 )
                    var_9 = 1;
            }

            if ( var_9 )
            {
                var_13 = var_8.health;
                var_14 = var_8.maxhealth;
                var_15 = 100;
                var_8 dodamage( var_5, var_10, undefined, undefined, "MOD_TRIGGER_HURT", "danger_circle_br" );
            }
        }
    }
}
