// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( getdvar( "#x32ea5e908954bfea7" ) == "mp_background" )
        return;

    _id_07B3::init();
    _id_07B3::_id_D849();
    var_0[0] = scripts\mp\utility\game::getgametype();
    var_0[1] = "dom";
    _id_07AD::main( var_0 );

    if ( isusingmatchrulesdata() )
    {
        level._id_81CB = ::_id_81CB;
        [[ level._id_81CB ]]();
        level thread scripts\mp\utility\game::_id_C2DD();
    }
    else
    {
        scripts\mp\utility\game::_id_C29C( scripts\mp\utility\game::getgametype(), 3, 0, 9 );
        scripts\mp\utility\game::_id_C2B3( scripts\mp\utility\game::getgametype(), 300 );
        scripts\mp\utility\game::_id_C29F( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::_id_C29B( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::_id_C2C2( scripts\mp\utility\game::getgametype(), 4 );
        scripts\mp\utility\game::_id_C270( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::_id_C24F( scripts\mp\utility\game::getgametype(), 0 );
        scripts\mp\utility\game::_id_C2C0( scripts\mp\utility\game::getgametype(), 1 );
        scripts\mp\utility\game::_id_C2C1( scripts\mp\utility\game::getgametype(), 4 );
    }

    _id_FC7A();
    level._id_A8C1 = 1;
    level.teambased = 1;
    level._id_A530 = 1;
    level._id_60A6 = 0;
    level._id_AB9A = ::_id_AB9A;
    level._id_AB46 = ::_id_AB46;
    level._id_AB50 = ::_id_AB50;
    level._id_AB58 = ::_id_AB58;
    level._id_6D2C = ::_id_6D2C;
    level._id_9FD5 = ::_id_AB91;
    level._id_AB5D = ::_id_AB5D;
    level._id_AA90 = ::_id_AA90;
    level._id_AB34 = ::_id_AB34;
    level._id_ABAD = ::_id_ABAD;
    level._id_8F8A = gettime();
    level._id_14ED = 0;
    level._id_1FC4 = 0;
    level._id_1596 = 0;
    level._id_60CF = 0;
    level._id_CA77 = "none";
    level._id_DD28 = [];
    game["canScoreOnTie"] = 1;
    game["dialog"]["gametype"] = "gametype_siege";

    if ( getdvarint( "#x33b8132c2bbd3f240" ) )
        game["dialog"]["gametype"] = "hc_" + game["dialog"]["gametype"];
    else if ( getdvarint( "#x3863d66ab814c070" ) )
        game["dialog"]["gametype"] = "thirdp_" + game["dialog"]["gametype"];

    game["dialog"]["boost"] = "boost_siege";
    game["dialog"]["offense_obj"] = "boost_siege";
    game["dialog"]["defense_obj"] = "boost_siege";
    game["dialog"]["securing_a"] = "securing_a";
    game["dialog"]["securing_b"] = "securing_b";
    game["dialog"]["securing_c"] = "securing_c";
    game["dialog"]["secured_a"] = "secure_a";
    game["dialog"]["secured_b"] = "secure_b";
    game["dialog"]["secured_c"] = "secure_c";
    game["dialog"]["losing_a"] = "losing_a";
    game["dialog"]["losing_b"] = "losing_b";
    game["dialog"]["losing_c"] = "losing_c";
    game["dialog"]["lost_a"] = "lost_a";
    game["dialog"]["lost_b"] = "lost_b";
    game["dialog"]["lost_c"] = "lost_c";
    game["dialog"]["enemy_captured_2"] = "siege_enemy_captured_2";
    game["dialog"]["friendly_captured_2"] = "siege_friendly_captured_2";
    game["dialog"]["lastalive_zones"] = "lastalive_zones";
}

_id_81CB()
{
    scripts\mp\utility\game::_id_D4D3();
    _func_01D2( "scr_siege_rushTimer", getmatchrulesdata( "siegeData", "rushTimer" ) );
    _func_01D2( "scr_siege_rushTimerAmount", getmatchrulesdata( "siegeData", "rushTimerAmount" ) );
    _func_01D2( "scr_siege_sharedRushTimer", getmatchrulesdata( "siegeData", "sharedRushTimer" ) );
    _func_01D2( "scr_siege_preCapPoints", getmatchrulesdata( "siegeData", "preCapPoints" ) );
    _func_01D2( "scr_siege_capRate", getmatchrulesdata( "siegeData", "capRate" ) );
    _func_01D2( "scr_siege_halftime", 0 );
    scripts\mp\utility\game::_id_C24F( "siege", 0 );
}

_id_D5A0()
{
    level._id_7C59 = "waypoint_captureneutral";
    level._id_7C27 = "waypoint_capture";
    level._id_7C30 = "waypoint_defend";
    level._id_7C35 = "waypoint_defending";
    level._id_7C2D = "waypoint_contested";
    level._id_7C6C = "waypoint_taking";
    level._id_7C54 = "waypoint_losing";
}

_id_AB9A()
{
    _id_D5A0();

    if ( !isdefined( game["switchedsides"] ) )
        game["switchedsides"] = 0;

    if ( game["switchedsides"] )
    {
        var_0 = game["attackers"];
        var_1 = game["defenders"];
        game["attackers"] = var_1;
        game["defenders"] = var_0;
    }

    foreach ( var_3 in level._id_EF86 )
    {
        scripts\mp\utility\game::_id_D610( var_3, &"OBJECTIVES/DOM" );

        if ( level._id_E427 )
            scripts\mp\utility\game::_id_D60E( var_3, &"OBJECTIVES/DOM" );
        else
            scripts\mp\utility\game::_id_D60E( var_3, &"OBJECTIVES/DOM_SCORE" );

        scripts\mp\utility\game::_id_D609( var_3, &"OBJECTIVES/DOM_HINT" );
    }

    _id_827A();
    thread _id_10972();
    thread _id_4D0B();
    thread _id_10AE8();
    thread _id_10B65();

    if ( scripts\mp\utility\game::_id_9BB3() )
        thread _id_10B64();
}

_id_FC7A()
{
    scripts\mp\gametypes\common::_id_FC36();
    level._id_CA75 = _id_0A66::_id_507C( "rushTimer", 1, 0, 1 );
    level._id_CA76 = _id_0A66::_id_507A( "rushTimerAmount", 45.0, 30.0, 120 );
    level._id_D9AD = _id_0A66::_id_507A( "sharedRushTimer", 0, 0, 1 );
    level._id_BB61 = _id_0A66::_id_507C( "preCapPoints", 0, 0, 1 );
    level._id_31ED = _id_0A66::_id_507A( "capRate", 7.5, 1, 10 );
}

_id_10972()
{
    _id_07A8::_id_60A3( "prematch_done" );
    level._id_AD40 = 1;
}

_id_827A()
{
    level._id_E324 = ( 0, 0, 0 );
    level._id_E321 = ( 0, 0, 0 );
    _id_07EE::_id_1111( "mp_dom_spawn_allies_start" );
    _id_07EE::_id_1111( "mp_dom_spawn_axis_start" );
    _id_07EE::_id_110D( "allies", "mp_dom_spawn" );
    _id_07EE::_id_110D( "allies", "mp_dom_spawn_secondary", 1, 1 );
    _id_07EE::_id_110D( "axis", "mp_dom_spawn" );
    _id_07EE::_id_110D( "axis", "mp_dom_spawn_secondary", 1, 1 );
    var_0 = _id_07EE::_id_6D30( "mp_dom_spawn" );
    var_1 = _id_07EE::_id_6D30( "mp_dom_spawn_secondary" );
    _id_07EE::_id_C2AB( "dom", var_0 );
    _id_07EE::_id_C2AB( "dom_fallback", var_1 );
    level._id_9A95 = _id_07EE::_id_5AC1( level._id_E324, level._id_E321 );
    setgameendtime( level._id_9A95 );
    _id_07EE::_id_0EBC();
}

_id_6D2C()
{
    var_0 = self.pers["team"];
    var_1 = scripts\mp\utility\game::_id_6BC3( var_0 )[0];

    if ( level._id_FED2 )
    {
        _id_07EE::_id_D454( "StartSpawn", "Crit_Default" );

        if ( game["switchedsides"] )
        {
            var_2 = _id_07EE::_id_6D30( "mp_dom_spawn_" + var_1 + "_start" );
            var_3 = _id_07EE::_id_6D2F( var_2 );
        }
        else
        {
            var_2 = _id_07EE::_id_6D30( "mp_dom_spawn_" + var_0 + "_start" );
            var_3 = _id_07EE::_id_6D2F( var_2 );
        }
    }
    else
    {
        _id_07EE::_id_D454( "Domination", "Crit_Default" );
        var_4 = _id_6DAD( var_0 );
        var_5 = scripts\mp\utility\game::_id_6BC3( var_0 )[0];
        var_6 = _id_6DAD( var_5 );
        var_7 = scripts\mp\gametypes\dom::_id_6C65( var_4, var_6, var_0, var_1 );
        var_8 = [];
        var_8["preferredDomPoints"] = var_7["preferred"];
        var_8["secondaryDomPoints"] = var_7["secondary"];
        var_3 = _id_07EE::_id_6D2C( self, var_0, "dom", "dom_fallback", undefined, var_8 );
    }

    return var_3;
}

_id_6DAD( var_0 )
{
    var_1 = [];

    foreach ( var_3 in level._id_A8D5 )
    {
        if ( var_3._id_AD9B == var_0 )
            var_1[var_1.size] = var_3;
    }

    return var_1;
}

_id_6DCC( var_0 )
{
    return gettime() - var_0._id_320F;
}

_id_AB46( var_0 )
{
    var_0._id_0B9D = [];
    var_0._id_0B9E = [];
    var_0._id_F90B = undefined;
    var_0._id_F90C = undefined;
    var_0 thread _id_AB65();
    var_0 thread scripts\mp\gametypes\obj_dom::_id_AAA3();
    var_0._id_DD2A = 1;
}

_id_AB50( var_0 )
{
    for (;;)
    {
        var_0 waittill( "disconnect" );

        foreach ( var_2 in var_0._id_0B9D )
        {
            if ( isdefined( var_2 ) )
                var_2 delete();
        }
    }
}

_id_AB65()
{
    self endon( "disconnect" );

    for (;;)
    {
        self waittill( "spawned" );
        _id_0A7B::_id_D543( 0 );

        if ( isdefined( self.pers["captures"] ) )
            _id_0A7B::_id_D543( self.pers["captures"] );

        _id_0A7B::_id_D544( 0 );

        if ( isdefined( self.pers["rescues"] ) )
            _id_0A7B::_id_D544( self.pers["rescues"] );
    }
}

_id_AB58( var_0 )
{
    if ( scripts\mp\utility\game::_id_60A6() )
        var_0._id_DD2A = 1;
}

_id_AB91()
{
    level notify( "spawned_player" );
    thread scripts\mp\gametypes\dom::_id_FCC0();
}

_id_34B9()
{
    if ( level._id_CA77 == "none" )
        return;

    if ( !scripts\mp\utility\teams::_id_6DAC( level._id_CA77, "aliveCount" ) )
    {
        level._id_E3DF[level._id_CA77]._id_158D = 1;
        _id_07F1::_id_FD33();
    }
}

_id_4D0B()
{
    level endon( "game_ended" );
    var_0 = getentarray( "flag_primary", "targetname" );
    var_1 = getentarray( "flag_secondary", "targetname" );

    if ( var_0.size + var_1.size < 2 )
        return;

    var_2 = "mp/siegeFlagPos.csv";
    var_3 = scripts\cp_mp\utility\game_utility::_id_6B0E();
    var_4 = 1;

    for ( var_5 = 2; var_5 < 11; var_5++ )
    {
        var_6 = _func_021D( var_2, var_4, var_3, var_5 );

        if ( var_6 != "" )
            _id_D554( var_5, float( var_6 ) );
    }

    var_7 = [];

    for ( var_8 = 0; var_8 < var_0.size; var_8++ )
        var_7[var_7.size] = var_0[var_8];

    for ( var_8 = 0; var_8 < var_1.size; var_8++ )
        var_7[var_7.size] = var_1[var_8];

    level._id_33BC = 3;
    setomnvar( "ui_num_dom_flags", level._id_33BC );

    if ( level._id_33BC == 3 )
    {
        foreach ( var_10 in var_0 )
            var_10 scripts\mp\gametypes\dom::_id_C316();
    }

    level._id_A8D5 = [];

    for ( var_8 = 0; var_8 < var_7.size; var_8++ )
    {
        var_10 = var_7[var_8];

        if ( level._id_33BC == 3 )
        {
            if ( var_10._id_CD8C == "_d" || var_10._id_CD8C == "_e" )
                continue;
        }

        var_10.origin = _id_6A24( var_10._id_CD8C, var_10.origin );

        if ( isdefined( var_10.target ) )
            var_12[0] = getent( var_10.target, "targetname" );
        else
        {
            var_12[0] = spawn( "script_model", var_10.origin );
            var_12[0].angles = var_10.angles;
        }

        var_13 = _id_07AD::_id_404C( "neutral", var_10, var_12, ( 0, 0, 100 ), 1, 1 );
        var_13 _id_07AD::_id_15B7( "enemy" );
        var_13 _id_07AD::_id_D8C7( level._id_31ED );

        if ( isdefined( var_10._id_A8CE ) )
            var_13._id_A8CE = var_10._id_A8CE;
        else
            var_13._id_A8CE = var_13 _id_07AD::_id_6AD2();

        if ( isdefined( var_10._id_7C58 ) )
            var_13._id_7C58 = var_10._id_7C58;
        else
            var_13._id_7C58 = var_13 _id_07AD::_id_6AD2();

        var_13 _id_07AD::_id_3144( 1 );
        var_13._id_A6B1 = 1;
        var_13._id_7C71 = "domFlag";
        var_13._id_5BA6 = 1;
        var_13._id_BC58 = "neutral";
        var_13._id_5C1A = 0;
        var_13._id_B7C5 = 0;
        var_13._id_37CF = level._id_31ED * 1000;
        var_13 _id_07AD::_id_B0D4();
        var_14 = var_12[0].origin + ( 0, 0, 32 );
        var_15 = var_12[0].origin + ( 0, 0, -32 );
        var_16 = scripts\engine\trace::ray_trace( var_14, var_15, undefined, scripts\engine\trace::_id_3ED4( 1 ) );
        var_17 = scripts\mp\gametypes\obj_dom::_id_3504( var_13 );
        var_13._id_228F = var_16["position"] + var_17;
        var_18 = vectortoangles( var_16["normal"] );
        var_19 = scripts\mp\gametypes\obj_dom::_id_3503( var_13, var_18 );
        var_13._id_228E = anglestoforward( var_19 );
        var_13._id_A5C2 = 1;
        var_13._id_5C1F = spawn( "script_model", var_13._id_228F );
        var_13._id_5C1F setmodel( "military_dom_flag_neutral" );
        level._id_A8D5[var_13._id_A8CE] = var_13;
    }

    var_20 = _id_07EE::_id_6D30( "mp_dom_spawn_axis_start" );
    var_21 = _id_07EE::_id_6D30( "mp_dom_spawn_allies_start" );
    level._id_03DE["allies"] = var_21[0].origin;
    level._id_03DE["axis"] = var_20[0].origin;
    level._id_24AD = [];
    level._id_24AD["allies"] = scripts\mp\gametypes\obj_dom::_id_6E08( "allies", undefined );
    level._id_24AD["axis"] = scripts\mp\gametypes\obj_dom::_id_6E08( "axis", level._id_24AD["allies"] );
    scripts\mp\gametypes\dom::_id_5C26();

    if ( !_id_07A8::_id_609F( "prematch_done" ) )
        level scripts\engine\utility::waittill_any_2( "prematch_done", "start_mode_setup" );

    foreach ( var_23 in level._id_A8D5 )
    {
        var_24 = scripts\mp\gametypes\obj_dom::_id_6CCE( var_23._id_A8CE );
        var_23 _id_07AD::_id_C56B( 1, 1, var_24 );
        var_23._id_ABB8 = ::_id_ABB8;
        var_23._id_AA66 = ::_id_AA66;
        var_23._id_ABC1 = ::_id_ABC1;
        var_23._id_AAAF = ::_id_AAAF;
        var_23._id_AA7A = ::_id_AA7A;
        var_23._id_ABB4 = ::_id_ABB4;
        var_23._id_ABB5 = ::_id_ABB5;
        var_23._id_AB41 = ::_id_AB41;
        var_23._id_ABB6 = ::_id_ABB6;
        var_23._id_E869 = ::_id_AB9C;
        var_23._id_E86B = ::_id_E86B;
        var_23 _id_07AD::_id_D60F( "waypoint_defend", "waypoint_target" );
        var_23 _id_07AD::_id_D8D5( "any" );
        var_23 scripts\mp\gametypes\obj_dom::_id_4D07();
    }

    if ( level._id_BB61 )
        scripts\mp\gametypes\obj_dom::_id_BB60();
}

_id_D5FB()
{
    if ( _id_07AD::_id_6BE3() == "neutral" )
        thread scripts\mp\gametypes\obj_dom::_id_FC61( "idle", 0 );
}

_id_D554( var_0, var_1 )
{
    switch ( var_0 )
    {
        case 2:
            level._id_DD1A = var_1;
            break;
        case 3:
            level._id_DD1B = var_1;
            break;
        case 4:
            level._id_DD1C = var_1;
            break;
        case 5:
            level._id_DD1E = var_1;
            break;
        case 6:
            level._id_DD1F = var_1;
            break;
        case 7:
            level._id_DD20 = var_1;
            break;
        case 8:
            level._id_DD24 = var_1;
            break;
        case 9:
            level._id_DD25 = var_1;
            break;
        case 10:
            level._id_DD26 = var_1;
            break;
    }
}

_id_6A24( var_0, var_1 )
{
    var_2 = var_1;

    if ( var_0 == "_a" )
    {
        if ( isdefined( level._id_DD1A ) && isdefined( level._id_DD1B ) && isdefined( level._id_DD1C ) )
            var_2 = ( level._id_DD1A, level._id_DD1B, level._id_DD1C );
    }
    else if ( var_0 == "_b" )
    {
        if ( isdefined( level._id_DD1E ) && isdefined( level._id_DD1F ) && isdefined( level._id_DD20 ) )
            var_2 = ( level._id_DD1E, level._id_DD1F, level._id_DD20 );
    }
    else if ( isdefined( level._id_DD24 ) && isdefined( level._id_DD25 ) && isdefined( level._id_DD26 ) )
        var_2 = ( level._id_DD24, level._id_DD25, level._id_DD26 );

    return var_2;
}

_id_10AE8()
{
    level endon( "game_ended" );

    for (;;)
    {
        level waittill( "flag_capturing", var_0 );

        if ( level._id_CA75 )
        {
            if ( var_0._id_BC58 != "neutral" )
            {
                var_1 = scripts\mp\utility\game::_id_6BC3( var_0._id_BC58 )[0];

                if ( isdefined( level._id_DD2C ) && level._id_DD2C != "pause" && !_id_8AFB( var_1 ) )
                {
                    level._id_60CF = 0;
                    level._id_DD2C = "pause";
                    _id_AF55();

                    if ( !_id_5C22( var_0._id_BC58 ) )
                        _id_D8E6( var_1, tolower( game[var_0._id_BC58] ) + "_eliminated" );
                }
            }
        }
    }
}

_id_8AFB( var_0 )
{
    var_1 = 0;
    var_2 = _id_6A23( var_0 );

    if ( var_2 == 2 )
        var_1 = 1;

    return var_1;
}

_id_5C22( var_0 )
{
    var_1 = 0;

    foreach ( var_3 in level._id_AE69 )
    {
        if ( isdefined( var_3 ) && var_3.team == var_0 && ( scripts\mp\utility\player::isreallyalive( var_3 ) || var_3.pers["lives"] > 0 ) )
        {
            var_1 = 1;
            break;
        }
    }

    return var_1;
}

_id_AF55()
{
    if ( !level._id_F260 )
    {
        var_0 = level._id_CA76;

        if ( isdefined( level._id_DD2B ) )
            var_0 = level._id_DD2B;

        var_1 = int( gettime() + var_0 * 1000 );
        scripts\mp\gamelogic::pausetimer( var_1 );
    }

    level notify( "siege_timer_paused" );
}

_id_C721( var_0 )
{
    var_1 = level._id_CA76;

    if ( level._id_F260 )
    {
        if ( isdefined( level._id_DD2B ) )
            var_1 = level._id_DD2B;

        var_2 = int( gettime() + var_1 * 1000 );
        setclientnamemode( var_2 );
        scripts\mp\gamelogic::resumetimer( var_2 );

        if ( !isdefined( level._id_DD2C ) || level._id_DD2C == "pause" )
            level._id_DD2C = "start";

        thread _id_10B66( var_1 );

        if ( istrue( var_0 ) )
        {
            if ( level._id_DD28.size > 0 )
                level notify( "flag_capturing", self );
        }
    }
}

_id_10AE7( var_0 )
{
    level endon( "game_ended" );
    var_1 = 0;
    var_2 = 0;
    var_3 = level._id_CA77;
    var_1 = _id_6A23( "allies" );
    var_2 = _id_6A23( "axis" );

    if ( level._id_CA75 && level._id_CA77 != "none" )
    {
        if ( level._id_D9AD || var_1 == 1 && var_2 == 1 )
        {
            level._id_DD2C = "start";
            _id_A698( "siege_timer_start" );
            _id_C721( 1 );
            return;
        }
    }

    if ( var_1 == 2 || var_2 == 2 )
    {
        level._id_CA77 = scripts\engine\utility::ter_op( var_1 > var_2, "allies", "axis" );

        if ( var_3 != level._id_CA77 )
        {
            if ( level._id_CA75 )
            {
                if ( isdefined( level._id_DD2C ) && level._id_DD2C != "reset" )
                {
                    level._id_60CF = 0;
                    level._id_DD2B = undefined;
                    level._id_DD2C = "reset";
                    _id_A698( "siege_timer_reset" );
                }

                if ( !isdefined( level._id_DD2C ) || level._id_DD2C != "start" )
                {
                    var_4 = level._id_CA76;

                    if ( isdefined( level._id_DD2B ) )
                        var_4 = level._id_DD2B;

                    var_5 = int( gettime() + var_4 * 1000 );
                    level._id_F217 = 1;
                    scripts\mp\gamelogic::pausetimer( var_5 );
                    setclientnamemode( var_5 );
                    scripts\mp\gamelogic::resumetimer( var_5 );

                    if ( !isdefined( level._id_DD2C ) || level._id_DD2C == "pause" )
                    {
                        level._id_DD2C = "start";
                        _id_A698( "siege_timer_start" );
                    }

                    if ( !level._id_60CF )
                        thread _id_10B66( var_4 );
                }
            }
        }
        else if ( var_3 == level._id_CA77 && var_1 == 1 || var_3 == level._id_CA77 && var_2 == 1 )
            _id_C721( 1 );
        else if ( level._id_CA75 )
        {
            level._id_60CF = 0;
            level._id_DD2B = undefined;
            level._id_DD2C = "reset";
            _id_A698( "siege_timer_reset" );
            _id_C721( 1 );
        }
    }
    else if ( var_1 == 3 )
        _id_D8E6( "allies", "siege_allflags_win", "siege_allflags_loss" );
    else if ( var_2 == 3 )
        _id_D8E6( "axis", "siege_allflags_win", "siege_allflags_loss" );

    self._id_BC58 = self._id_AD9B;
}

_id_10B64()
{
    level endon( "game_ended" );
    level endon( "flag_capturing" );
    var_0 = getdvarfloat( "scr_siege_timelimit" );

    if ( var_0 > 0 )
    {
        var_1 = var_0 - 1;

        while ( var_1 > 0 )
        {
            var_1 = var_1 - 1;
            wait 1;
        }

        level._id_DD29 = 1;
    }
}

_id_10B65()
{
    level endon( "game_ended" );
    _id_07A8::_id_60A3( "prematch_done" );

    while ( !_id_75B7() )
        waitframe();

    level._id_60A6 = 1;
}

_id_75B7()
{
    if ( level.teambased )
    {
        foreach ( var_1 in level._id_EF86 )
        {
            if ( !scripts\mp\utility\teams::_id_6DAC( var_1, "hasSpawned" ) )
                return 0;
        }

        return 1;
    }

    return level._id_9C7A > 1;
}

_id_10B66( var_0 )
{
    level endon( "game_ended" );
    level endon( "siege_timer_paused" );
    level endon( "siege_timer_reset" );
    var_1 = var_0;
    var_2 = spawn( "script_origin", ( 0, 0, 0 ) );
    var_2 hide();
    level._id_60CF = 1;

    while ( var_1 > 0 )
    {
        var_1 = var_1 - 1;
        level._id_DD2B = var_1;

        if ( var_1 <= 30 )
        {
            if ( var_1 != 0 )
                var_2 playsound( "ui_mp_timer_countdown" );
        }

        wait 1;
    }

    _id_ABAD();
}

_id_6A23( var_0 )
{
    var_1 = 0;

    foreach ( var_3 in level._id_A8D5 )
    {
        if ( var_3._id_AD9B == var_0 && !_id_8763( var_3 ) )
            var_1 = var_1 + 1;
    }

    return var_1;
}

_id_8763( var_0 )
{
    var_1 = 0;

    if ( isdefined( var_0 ) )
    {
        if ( level._id_DD28.size > 0 )
        {
            foreach ( var_3 in level._id_DD28 )
            {
                if ( var_0._id_A8CE == var_3 )
                    var_1 = 1;
            }
        }
    }

    return var_1;
}

_id_D8E6( var_0, var_1, var_2 )
{
    foreach ( var_4 in level.players )
    {
        if ( !isai( var_4 ) )
            var_4 setclientomnvar( "ui_objective_state", 0 );
    }

    if ( isdefined( var_2 ) )
        thread scripts\mp\gamelogic::_id_52D7( var_0, game["end_reason"][var_1], game["end_reason"][var_2] );
    else
        thread scripts\mp\gamelogic::_id_52D7( var_0, game["end_reason"][var_1] );
}

_id_AA66( var_0 )
{
    if ( !scripts\engine\utility::array_contains( level._id_DD28, self._id_A8CE ) )
    {
        level._id_DD28[level._id_DD28.size] = self._id_A8CE;
        var_1 = _id_07AD::_id_6BE3();
        var_0 setclientomnvar( "ui_objective_state", 1 );
        self._id_4959 = 0;
        _id_07AD::_id_D8C7( level._id_31ED );
    }

    level notify( "flag_capturing", self );
}

_id_ABB8( var_0 )
{
    self._id_4959 = 0;
    var_1 = var_0.team;
    var_2 = _id_07AD::_id_6BE3();
    var_3 = scripts\mp\utility\game::_id_6BC3( var_1 )[0];
    self._id_320F = gettime();
    _id_07D0::_id_A8A1( self._id_A8F5, 0 );
    _id_07D0::_id_A8B1( self._id_A8F5, 0 );
    thread scripts\mp\gametypes\obj_dom::_id_FC61( var_1, 0, var_1 );
    scripts\mp\gametypes\obj_dom::_id_D553( var_1, var_2, var_0 );
    level._id_FED2 = 0;

    if ( var_2 == "neutral" )
    {
        var_4 = scripts\mp\gametypes\obj_dom::_id_6DB0( var_1 );

        if ( var_4 < level._id_A8D5.size )
        {
            if ( var_4 == 2 )
            {
                _id_0A64::_id_E772( "friendly_captured_2", var_1 );
                _id_0A64::_id_E772( "enemy_captured_2", var_3, 1 );
            }
            else
            {
                _id_0A64::_id_E772( "secured" + self._id_A8CE, var_1 );
                _id_0A64::_id_E772( "lost" + self._id_A8CE, var_3, 1 );
            }
        }
    }

    if ( scripts\mp\gametypes\obj_dom::_id_6DB0( var_1 ) == level._id_A8D5.size )
        var_5 = "mp_dom_flag_captured_all";
    else
        var_5 = "mp_dom_flag_captured";

    thread _id_0A77::_id_BCFE( var_1, var_3, undefined, undefined, var_5, "mp_dom_flag_lost", var_0 );
    thread _id_6F7D( self._id_F393[var_1], var_2, var_0 );
    self._id_5BA6 = 0;

    if ( scripts\mp\utility\teams::_id_885E( var_1 ) )
    {
        if ( level._id_EF67[var_1]["aliveCount"] < level._id_EF67[var_1]["players"].size )
        {
            foreach ( var_7 in level._id_EF67[var_1]["players"] )
                var_7 playlocalsound( "mp_bodycount_tick_positive" );

            var_9 = scripts\mp\utility\teams::_id_69DE( var_1 );

            foreach ( var_7 in var_9 )
                var_7 playlocalsound( "mp_bodycount_tick_negative" );
        }
    }
}

_id_ABC1( var_0, var_1, var_2, var_3 )
{
    var_4 = _id_07AD::_id_6BE3();

    if ( var_1 < 1.0 && !level._id_609B )
        _id_B207( var_1, var_0 );

    if ( var_1 > 0.05 && var_2 && !self._id_4959 )
    {
        if ( var_4 == "neutral" )
        {
            _id_0A64::_id_E772( "securing" + self._id_A8CE, var_0 );
            self._id_BC44 = scripts\mp\utility\game::_id_6BC3( var_0 )[0];
        }
        else
        {
            _id_0A64::_id_E772( "losing" + self._id_A8CE, var_4, 1 );
            _id_0A64::_id_E772( "securing" + self._id_A8CE, var_0 );
        }

        if ( !isagent( var_3 ) )
            scripts\mp\gametypes\obj_dom::_id_FC60( var_0 );

        _id_07AD::_id_D60F( level._id_7C54, level._id_7C6C );
        self._id_4959 = 1;
    }

    level notify( "flag_capturing", self );
}

_id_B207( var_0, var_1 )
{
    if ( !isdefined( self._id_9028 ) )
        self._id_9028 = gettime();

    if ( self._id_9028 + 995 < gettime() )
    {
        self._id_9028 = gettime();
        var_2 = "";
        var_0 = int( floor( var_0 * 10 ) );
        var_2 = "mp_dom_capturing_tick_0" + var_0;
        self._id_1042E[0] _meth_827F( var_2, var_1 );
    }
}

_id_AAAF( var_0, var_1, var_2 )
{
    self._id_4959 = 0;

    if ( isplayer( var_1 ) )
    {
        var_1 setclientomnvar( "ui_objective_state", 0 );
        var_1._id_F90B = undefined;
    }

    if ( var_2 )
        self._id_5C1A = 1;
    else
    {
        self._id_5C1A = 0;
        _id_C721();
    }

    var_3 = _id_07AD::_id_6BE3();

    if ( var_3 == "neutral" )
    {
        _id_07AD::_id_D60F( level._id_7C59 );
        scripts\mp\gametypes\obj_dom::_id_FC61( "idle", 0 );
    }
    else
    {
        _id_07AD::_id_D60F( level._id_7C30, level._id_7C27 );
        scripts\mp\gametypes\obj_dom::_id_FC61( var_3, 0 );
    }

    level._id_DD28 = scripts\engine\utility::array_remove( level._id_DD28, self._id_A8CE );
    thread _id_10864();
}

_id_10864()
{
    waitframe();
    _id_34D4();
}

_id_AA7A()
{
    _id_07AD::_id_D60F( level._id_7C2D );
    _id_07D0::_id_A8A3( self._id_A8F5, undefined );
    scripts\mp\gametypes\obj_dom::_id_FC61( "contested", 0 );

    if ( level._id_CA77 == self._id_AD9B )
        _id_C721();
}

_id_ABB4( var_0 )
{
    _id_34D4();
    var_1 = _id_07AD::_id_6BE3();

    if ( var_1 == "neutral" )
    {
        if ( var_0 != "none" )
            _id_07D0::_id_A8A3( self._id_A8F5, var_0 );
        else
            _id_07D0::_id_A8A3( self._id_A8F5, undefined );
    }
    else
        _id_07D0::_id_A8A3( self._id_A8F5, scripts\mp\utility\game::_id_6BC3( var_1 )[0] );

    if ( var_0 == "none" || var_1 == "neutral" )
    {
        _id_07AD::_id_D60F( level._id_7C59 );
        self._id_4959 = 0;
    }
    else
        _id_07AD::_id_D60F( level._id_7C30, level._id_7C27 );

    var_2 = scripts\engine\utility::ter_op( var_1 == "neutral", "idle", var_1 );
    scripts\mp\gametypes\obj_dom::_id_FC61( var_2, 0 );
}

_id_ABB5()
{
    var_0 = _id_07AD::_id_6BE3();

    if ( var_0 == "neutral" )
    {
        _id_07AD::_id_D60F( level._id_7C59 );
        self._id_4959 = 0;
    }
    else
        _id_07AD::_id_D60F( level._id_7C30, level._id_7C27 );
}

_id_AB41( var_0 )
{
    if ( self._id_AD9B != "neutral" && self._id_A787[self._id_AD9B] && !self._id_E578 )
        _id_07AD::_id_D60F( level._id_7C35, level._id_7C27 );
}

_id_ABB6( var_0 )
{
    if ( self._id_AD9B != "neutral" && !self._id_A787[self._id_AD9B] && !self._id_E578 )
        _id_07AD::_id_D60F( level._id_7C30, level._id_7C27 );
}

_id_AB9C( var_0 )
{
    if ( level._id_CA77 == self._id_AD9B )
        _id_C721();
    else
        _id_C721( 1 );
}

_id_E86B( var_0 )
{
    var_0 thread scripts\mp\rank::_id_CBF3( "defend" );
    var_0 thread _id_0788::_id_6F9C( "mode_x_defend" );
    _id_07AD::_id_D60F( level._id_7C35, level._id_7C27 );
}

_id_AA90( var_0 )
{
    if ( scripts\mp\utility\game::_id_60A6() )
    {
        if ( var_0 == "all" )
            _id_ABAD();
        else if ( var_0 == game["attackers"] )
        {
            if ( level._id_CA75 && _id_6A23( var_0 ) == 2 )
                return;

            _id_D8E6( game["defenders"], tolower( game[game["attackers"]] ) + "_eliminated" );
        }
        else if ( var_0 == game["defenders"] )
        {
            if ( level._id_CA75 && _id_6A23( var_0 ) == 2 )
                return;

            _id_D8E6( game["attackers"], tolower( game[game["defenders"]] ) + "_eliminated" );
        }
    }
}

_id_AB34( var_0 )
{
    var_1 = scripts\mp\utility\game::_id_6AD8( var_0 );
    var_1 thread _id_6F91();
}

_id_AB5D( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    if ( isdefined( self._id_10A10 ) )
        self._id_10A10 = undefined;

    if ( !isplayer( var_1 ) || var_1.team == self.team )
        return;

    if ( !_id_5C22( self.team ) && scripts\mp\gametypes\obj_dom::_id_6DB0( self.team ) == 2 )
        _id_0A64::_id_E772( "objs_capture", var_1.team, 1 );

    var_10 = 0;
    var_11 = 0;
    var_12 = 0;
    var_13 = self;
    var_14 = var_13.team;
    var_15 = var_13.origin;
    var_16 = var_1.team;
    var_17 = var_1.origin;
    var_18 = 0;

    if ( isdefined( var_0 ) )
    {
        var_17 = var_0.origin;
        var_18 = var_0 == var_1;
    }

    foreach ( var_20 in var_1._id_F395 )
    {
        var_21 = undefined;

        foreach ( var_23 in level._id_A8D5 )
        {
            if ( var_23._id_047A == var_20 )
            {
                var_21 = var_23;
                break;
            }
        }

        if ( !isdefined( var_21 ) )
            continue;

        var_25 = var_21._id_AD9B;

        if ( var_16 != var_25 )
        {
            if ( !var_10 )
                var_10 = 1;

            continue;
        }
    }

    foreach ( var_21 in level._id_A8D5 )
    {
        var_20 = var_21._id_047A;
        var_25 = var_21._id_AD9B;

        if ( var_25 == "neutral" )
        {
            var_28 = var_1 _meth_81EF( var_20 );
            var_29 = var_13 _meth_81EF( var_20 );

            if ( var_28 || var_29 )
            {
                if ( var_21._id_37D2 == var_14 )
                {
                    if ( !var_11 )
                    {
                        if ( var_10 )
                            var_1 thread _id_0A76::_id_6FE6( "capture_kill" );
                        else
                        {
                            var_1 thread scripts\mp\rank::_id_CBF3( "assault" );
                            var_1 thread _id_0788::_id_6F9C( "mode_x_assault" );
                        }

                        var_11 = 1;
                        continue;
                    }
                }
                else if ( var_21._id_37D2 == var_16 )
                {
                    if ( !var_12 )
                    {
                        if ( var_10 )
                            var_1 thread _id_0A76::_id_6FE6( "capture_kill" );
                        else
                        {
                            var_1 thread scripts\mp\rank::_id_CBF3( "defend" );
                            var_1 thread _id_0788::_id_6F9C( "mode_x_defend" );
                        }

                        var_12 = 1;
                        var_1 _id_0A7B::_id_7D93( "defends", 1 );
                        var_1 _id_07D5::_id_E76D( "round", "defends", var_1.pers["defends"] );
                        continue;
                    }
                }
            }
        }
        else if ( var_25 != var_16 )
        {
            if ( !var_11 )
            {
                var_30 = _id_4B99( var_20, var_17, var_15 );

                if ( var_30 )
                {
                    if ( var_10 )
                        var_1 thread _id_0A76::_id_6FE6( "capture_kill" );
                    else
                    {
                        var_1 thread scripts\mp\rank::_id_CBF3( "assault" );
                        var_1 thread _id_0788::_id_6F9C( "mode_x_assault" );
                    }

                    var_11 = 1;
                    continue;
                }
            }
        }
        else if ( !var_12 )
        {
            var_31 = _id_4B99( var_20, var_17, var_15 );

            if ( var_31 )
            {
                if ( var_10 )
                    var_1 thread _id_0A76::_id_6FE6( "capture_kill" );
                else
                {
                    var_1 thread scripts\mp\rank::_id_CBF3( "defend" );
                    var_1 thread _id_0788::_id_6F9C( "mode_x_defend" );
                }

                var_12 = 1;
                var_1 _id_0A7B::_id_7D93( "defends", 1 );
                var_1 _id_07D5::_id_E76D( "round", "defends", var_1.pers["defends"] );
                continue;
            }
        }
    }

    thread _id_34B9();
}

_id_4B99( var_0, var_1, var_2 )
{
    var_3 = distancesquared( var_0.origin, var_1 );
    var_4 = distancesquared( var_0.origin, var_2 );

    if ( var_3 < 105625 || var_4 < 105625 )
    {
        if ( !isdefined( var_0._id_9FE5 ) )
            return 1;
        else if ( var_1[2] - var_0.origin[2] < 100 || var_2[2] - var_0.origin[2] < 100 )
            return 1;
        else
            return 0;
    }
    else
        return 0;
}

_id_6F91()
{
    self endon( "death_or_disconnect" );
    level endon( "game_ended" );
    scripts\mp\utility\player::_id_10966( 3 );
    level thread scripts\mp\battlechatter_mp::_id_F756( self, "inform_last_one" );
    var_0 = scripts\mp\utility\game::_id_6BC3( self.pers["team"] )[0];
    level thread scripts\mp\hud_util::_id_EF8A( "callout_lastteammemberalive", self, self.pers["team"] );
    level thread scripts\mp\hud_util::_id_EF8A( "callout_lastenemyalive", self, var_0 );
    level notify( "last_alive", self );
}

_id_ABAD()
{
    if ( isdefined( level._id_DD29 ) )
        level thread scripts\mp\gamelogic::forceend();
    else
    {
        var_0 = _id_6A23( "allies" );
        var_1 = _id_6A23( "axis" );

        if ( var_0 > var_1 )
            _id_D8E6( "allies", "siege_flag_win", "siege_flag_loss" );
        else if ( var_1 > var_0 )
            _id_D8E6( "axis", "siege_flag_win", "siege_flag_loss" );
        else
            _id_D8E6( "tie", "cyber_tie" );
    }
}

_id_EF99( var_0, var_1 )
{
    var_2 = scripts\mp\utility\teams::_id_6DAC( var_1.team, "teamCount" );

    if ( !isdefined( var_1._id_C588 ) )
        var_1._id_C588 = [];

    foreach ( var_4 in level._id_AE69 )
    {
        if ( isdefined( var_4 ) && var_4.team == var_0 && !scripts\mp\utility\player::isreallyalive( var_4 ) && !scripts\engine\utility::array_contains( scripts\mp\utility\teams::_id_6A3A( var_4.team, 1 ), var_4 ) && ( !isdefined( var_4._id_10846 ) || !var_4._id_10846 ) )
        {
            if ( isdefined( var_4._id_DD2A ) && var_4._id_DD2A )
                var_4._id_DD2A = 0;

            if ( !istrue( var_4.pers["teamKillPunish"] ) )
            {
                if ( istrue( var_4._id_10A10 ) )
                    continue;

                var_4._id_10A10 = 1;
                var_4 thread scripts\mp\playerlogic::_id_1094A( 0 );
                var_4 thread scripts\mp\rank::_id_CBF3( "revived" );
                level notify( "sr_player_respawned", var_4 );
                var_4 _id_0A64::_id_9120( "revived" );
            }

            var_1._id_C588[var_4._id_723F] = 1;
        }
    }

    self._id_B7C5 = var_1._id_C588.size;
}

_id_A698( var_0 )
{
    foreach ( var_2 in level.players )
        var_2 thread scripts\mp\hud_message::showsplash( var_0 );

    level notify( "match_ending_soon", "time" );
    level notify( var_0 );
}

_id_6F7D( var_0, var_1, var_2 )
{
    level endon( "game_ended" );
    var_3 = var_2;

    if ( isdefined( var_3.owner ) )
        var_3 = var_3.owner;

    level._id_8F8A = gettime();

    if ( isplayer( var_3 ) )
    {
        level thread scripts\mp\hud_util::_id_EF8A( "callout_securedposition" + self._id_A8CE, var_3 );
        var_3 thread scripts\common\utility::_id_F737( level._id_9B9C, "capture", var_3.origin );
    }

    var_4 = getarraykeys( var_0 );

    for ( var_5 = 0; var_5 < var_4.size; var_5++ )
    {
        var_6 = var_0[var_4[var_5]].player;

        if ( isdefined( var_6.owner ) )
            var_6 = var_6.owner;

        if ( !isplayer( var_6 ) )
            continue;

        var_6 thread _id_FC3E();

        if ( var_6._id_3E04 > 3 )
        {
            var_7 = 0;
            var_8 = 0;
        }
        else if ( var_6._id_A762 > 5 )
        {
            var_7 = 125;
            var_8 = 50;
        }
        else if ( self._id_A8CE == "_b" || var_1 != "neutral" || self._id_B7C5 > 0 )
        {
            var_7 = undefined;
            var_8 = undefined;
        }
        else
        {
            var_7 = 125;
            var_8 = 50;
        }

        var_6 thread scripts\mp\rank::_id_CBF3( "capture" );
        var_6 thread _id_0788::_id_6F9C( "mode_siege_secure", var_8, var_7 );
        var_6 _id_0A7B::_id_7D93( "captures", 1 );
        var_6 _id_07D5::_id_E76D( "round", "captures", var_6.pers["captures"] );
        var_6 _id_0A7B::_id_D543( var_6.pers["captures"] );
        var_6 _id_0A7B::_id_7D93( "rescues", self._id_B7C5 );
        var_6 _id_07D5::_id_E76D( "round", "rescues", var_6.pers["rescues"] );
        var_6 _id_0A7B::_id_D544( var_6.pers["rescues"] );
        wait 0.05;
    }

    self._id_B7C5 = 0;
}

_id_692F()
{
    if ( self._id_3E04 < 4 )
        return 1;
    else
        return 0.25;
}

_id_FC3E()
{
    if ( !isdefined( self._id_3E04 ) )
    {
        self._id_A762 = 0;
        self._id_3E04 = 0;
    }

    self._id_A762++;

    if ( scripts\mp\utility\game::_id_6B40() < 1 )
        return;

    self._id_3E04 = self._id_A762 / scripts\mp\utility\game::_id_6B40();
}

_id_34D4()
{
    var_0 = _id_6A23( "allies" );
    var_1 = _id_6A23( "axis" );

    if ( var_0 == 3 )
        _id_D8E6( "allies", "siege_allflags_win", "siege_allflags_loss" );
    else if ( var_1 == 3 )
        _id_D8E6( "axis", "siege_allflags_win", "siege_allflags_loss" );
}
