// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_2BC1()
{
    _id_0778::_id_CEBF( "body", ::_id_9853 );
}

_id_31B9( var_0 )
{
    if ( !isdefined( var_0 ) )
        return 0;

    if ( scripts\mp\gametypes\br_public::_id_87EB() )
    {
        if ( isdefined( level._id_5E1D ) && isdefined( level._id_5E1D[var_0] ) )
            return 0;
    }

    if ( var_0 == "brloot_respawn_token" && scripts\mp\gametypes\br_pickups::_id_C6BA() )
        return 0;

    return 1;
}

_id_9882( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( istrue( var_4 ) )
    {
        if ( var_1 % 2 > 0 )
            var_6 = 75;
        else
            var_6 = 115;

        var_6 = var_6 + randomfloatrange( -10, 10 );
        var_7 = 35 + var_1 / 2 * 25 + randomfloatrange( -5, 5 );
        [var_9, var_10, var_11] = scripts\mp\gametypes\br_pickups::_id_6AAE( var_1, var_2, var_3, undefined, var_6, var_7 );
    }
    else
        [var_9, var_10, var_11] = scripts\mp\gametypes\br_pickups::_id_6AAE( var_1, var_2, var_3 );

    var_13 = level._id_2A6F._id_3D87[var_0];
    var_14 = scripts\mp\gametypes\br_pickups::_id_6A3F( var_0 );

    if ( isdefined( var_14 ) )
        var_13 = scripts\mp\gametypes\br_weapons::_id_2A25( var_14 );

    var_15 = scripts\mp\gametypes\br_pickups::_id_E333( var_0, var_9, var_10, var_13, 1, var_11 );
    var_16 = level._id_2A6F._id_2A3F[var_0];

    if ( var_5 )
        playsoundatpos( var_9, "br_legendary_loot_drop" );

    return var_15;
}

_id_9852( var_0 )
{
    var_1 = [];
    var_2 = 0;

    foreach ( var_4 in var_0 )
    {
        if ( _id_31B9( var_4 ) )
        {
            var_5 = level._id_2A6F._id_2A3F[var_4];

            if ( isdefined( var_5 ) && var_5 == 4 && var_2 == 0 )
            {
                var_1[var_1.size] = _id_9882( var_4, self._id_8B20, self.origin, self.angles, 1, 1 );
                self._id_8B20++;
                var_2 = 1;
            }
            else
            {
                var_1[var_1.size] = _id_9882( var_4, self._id_8B20, self.origin, self.angles, 1, 0 );
                self._id_8B20++;
            }
        }
    }

    return var_1;
}

_id_9853( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( var_2 == "closed" && !isdefined( var_0._id_0186 ) )
    {
        var_0 setscriptablepartstate( var_1, "opening" );
        var_0._id_8B20 = 0;
        var_6 = [];
        var_7 = _func_0402( var_0 );

        if ( isdefined( var_7 ) && var_3 scripts\mp\utility\perk::_hasperk( "specialty_br_extra_killstreak_chance" ) )
            var_7 = _id_9869( var_7, var_3 );

        if ( isdefined( var_7 ) )
        {
            if ( getdvar( "scr_br_gametype", "" ) == "dmz" )
            {
                if ( _id_07A8::_id_609F( "placement_updates_allowed" ) )
                {
                    var_8 = game["teamPlacements"][var_3.team];

                    if ( !isdefined( level._id_4BB2 ) )
                        scripts\mp\gametypes\br_gametype_dmz::_id_2ECA();

                    var_9 = 100 - 100 * var_8 / level._id_4BB2;

                    if ( isdefined( level._id_292F ) && var_9 < level._id_292F )
                        var_7 = _id_9867( var_0, var_7 );
                    else if ( isdefined( level._id_F344 ) && var_9 > level._id_F344 )
                        var_7 = _id_9868( var_0, var_7 );
                }
            }

            var_6 = var_0 _id_9852( var_7 );
        }
        else
        {
            var_10 = undefined;

            if ( getdvarint( "scr_br_alt_mode_cash", 0 ) )
                var_10 = "mp/loot_set_cache_contents_base_cash.csv";
            else if ( getdvarint( "scr_br_alt_mode_gg", 0 ) )
                var_10 = "mp/loot_set_cache_contents_base_gg.csv";

            var_6[var_6.size] = var_0 _id_357C( 2, 1, "weapon", var_10 );
            var_6[var_6.size] = var_0 _id_357C( 0, 1, "ammo", var_10 );
            var_6[var_6.size] = var_0 _id_357C( 0, 1, undefined, var_10 );
            var_6[var_6.size] = var_0 _id_357C( 0, 1, undefined, var_10 );
        }

        var_11 = "cache";

        switch ( var_0._id_048F )
        {
            case "br_loot_cache_lege":
                var_11 = "cache_legendary";
                break;
            case "br_scavenger_quest_cache":
                var_11 = "cache_scavenger";
                break;
        }

        foreach ( var_13 in var_6 )
            var_13._id_9881 = var_11;

        scripts\mp\gametypes\br_plunder::_id_9FF0( "br_loot_cache", -1 );
        var_3 thread _id_0A76::_id_6FE6( "br_cacheOpen" );
        var_3 _id_0793::_id_AA6A();

        if ( !isdefined( var_3._id_9851 ) )
            var_3._id_9851 = 1;
        else
            var_3._id_9851++;

        var_3 _id_0A7B::_id_D544( var_3._id_9851 );
        level notify( "lootcache_opened_kill_callout" + var_0.origin );
    }
}

_id_9867( var_0, var_1 )
{
    var_2 = [];

    foreach ( var_4 in var_1 )
    {
        if ( issubstr( var_4, "brloot_plunder" ) )
        {
            if ( var_0._id_048F == "br_loot_cache_lege" )
            {
                if ( var_4 != "brloot_plunder_cash_legendary_1" && scripts\engine\utility::cointoss() )
                    var_4 = "brloot_plunder_cash_legendary_1";
            }
            else if ( var_4 != "brloot_plunder_cash_epic_2" && scripts\engine\utility::cointoss() )
                var_4 = "brloot_plunder_cash_epic_2";
        }

        var_2[var_2.size] = var_4;
    }

    return var_2;
}

_id_9868( var_0, var_1 )
{
    var_2 = [];

    foreach ( var_4 in var_1 )
    {
        if ( issubstr( var_4, "brloot_plunder" ) )
        {
            if ( var_0._id_048F == "br_loot_cache_lege" )
            {
                if ( ( var_4 == "brloot_plunder_cash_epic_2" || var_4 == "brloot_plunder_cash_legendary_1" ) && scripts\engine\utility::cointoss() )
                    var_4 = "brloot_plunder_cash_epic_1";
            }
            else if ( ( var_4 == "brloot_plunder_cash_epic_2" || var_4 == "brloot_plunder_cash_epic_1" ) && scripts\engine\utility::cointoss() )
                var_4 = "brloot_plunder_cash_rare_2";
        }

        var_2[var_2.size] = var_4;
    }

    return var_2;
}

_id_357C( var_0, var_1, var_2, var_3 )
{
    var_4 = [];
    var_5 = 0;

    if ( !isdefined( var_2 ) )
        var_2 = "";

    if ( !isdefined( var_0 ) )
        var_0 = 0;

    var_6 = "mp/loot_set_cache_contents_base.csv";

    if ( isdefined( var_3 ) )
        var_6 = var_3;

    for ( var_7 = 0; var_7 < var_1; var_7++ )
    {
        var_8 = _func_0403( var_2, var_0, 0, var_6 );

        if ( _id_31B9( var_8 ) )
        {
            var_9 = level._id_2A6F._id_2A3F[var_8];

            if ( isdefined( var_9 ) && var_9 == 4 && var_5 == 0 )
            {
                var_4[var_4.size] = _id_9882( var_8, self._id_8B20, self.origin, self.angles, undefined, 1 );
                self._id_8B20++;
                var_5 = 1;
            }
            else
            {
                var_4[var_4.size] = _id_9882( var_8, self._id_8B20, self.origin, self.angles, undefined, 0 );
                self._id_8B20++;
            }
        }
    }

    return var_4;
}

_id_9869( var_0, var_1 )
{
    if ( !isdefined( var_1._id_2BB1 ) )
        var_1._id_2BB1 = 10;

    var_2 = 0;

    foreach ( var_5, var_4 in var_0 )
    {
        if ( issubstr( var_4, "killstreak" ) )
        {
            var_2 = 1;
            break;
        }
    }

    if ( !var_2 )
    {
        var_6 = var_1._id_8D56 * 0;

        if ( randomint( 100 ) < var_1._id_2BB1 + var_6 )
        {
            var_0[var_0.size] = scripts\engine\utility::random( level._id_2A6F._id_2A44 );
            var_1._id_2BB1 = 10;
        }
        else
            var_1._id_2BB1 = var_1._id_2BB1 + ( var_6 + 15 );
    }

    return var_0;
}
