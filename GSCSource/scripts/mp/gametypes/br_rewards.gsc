// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_7EF3()
{
    _id_BD64();
    level._id_F1E3 = [];
    level._id_F1E3[3] = 0;
    level._id_F1E3[2] = 0;
    level._id_F1E3[1] = 0;
    level._id_F1E3[0] = 0;
}

_id_CA41( var_0, var_1, var_2, var_3 )
{
    var_4 = undefined;

    if ( !isdefined( var_0._id_C7FC ) )
    {
        var_4 = _id_5AC5( var_0 );

        if ( !isdefined( var_4 ) )
            var_4 = _id_2EBF( var_0, 64, 2048 );
    }
    else
        var_4 = var_0._id_C7FC;

    if ( isdefined( var_2 ) )
        thread _id_CA3B( var_4, var_1, var_2 );
    else if ( isdefined( var_3 ) )
        thread _id_CA3B( var_4, var_1, _id_6ABB( var_3 ) );
    else
        thread _id_CA3B( var_4, var_1, _id_6ABB( 3 ) );
}

_id_CA3B( var_0, var_1, var_2 )
{
    level endon( "game_ended" );
    var_3 = undefined;

    if ( !istrue( var_0._id_88B8 ) )
        var_4 = 72;
    else
        var_4 = 40;

    var_5 = _id_07AD::_id_4004( var_0._id_02EA, "neutral", ( 0, 0, var_4 ), undefined, "any" );
    _id_9B86( var_5, var_1 );
    var_5._id_02EA = var_0._id_02EA;
    var_5._id_0054 = var_0._id_0054;
    thread _id_4C32( undefined, var_0, 16 );
    var_5._id_7C58 = "_incoming";
    var_5._id_96F3 = 0;
    var_5 _id_07AD::_id_D60F( var_2 );
    var_5._id_96F3 = 1;
    wait 3;
    wait 1;

    if ( !istrue( var_0._id_88B8 ) )
    {
        var_3 = _id_0980::_id_4FEC( var_1._id_045B, var_2, var_0._id_02EA, ( 0, _func_01B8( 360 ), 0 ), undefined );
        var_3._id_DDB1 = 1;
        var_3._id_A430 = 0;
        var_3._id_10811 = 1;
        var_3._id_8D71 = 0;
        var_3._id_4AE5 = 1;
        var_3._id_8746 = 1;
        var_3 waittill( "crate_dropped" );
        var_5._id_FE8E = var_3;
        var_5._id_02EA = var_3._id_02EA;
    }
    else
    {
        var_5._id_FE8E = _func_0205( "script_model", var_5._id_02EA );
        var_5._id_FE8E._id_4AE5 = 1;
        var_5._id_FE8E._id_3E7E = "arm_no_owner";
        var_6 = _id_0980::_id_6AE1( var_5._id_FE8E._id_3E7E );
        var_5._id_FE8E._id_9F0C = var_6._id_9F0C;
        var_5._id_FE8E._id_320E = var_6._id_320E;
        var_5._id_FE8E._id_C581 = var_6._id_C581;
        var_5._id_FE8E._id_EB9C = var_6._id_EB9C;
        var_5._id_FE8E._id_87FB = 1;
        var_5._id_FE8E._id_8746 = 1;
        var_5._id_FE8E._id_432F = _id_0980::_id_68B1( var_2 );
        _id_07D0::_id_FB90( var_5._id_A8F5, var_5._id_FE8E );
        _id_07D0::_id_FB9A( var_5._id_A8F5, 40 );
    }

    var_7 = 0;
    var_8 = 0.1;

    if ( istrue( var_0._id_88B8 ) )
        var_9 = 15;
    else
        var_9 = 1;

    wait( var_9 );

    if ( !istrue( var_0._id_88B8 ) )
    {
        var_3 notify( "objective_activate" );
        _id_07D0::_id_FB90( var_5._id_A8F5, var_3 );
        _id_07D0::_id_FB9A( var_5._id_A8F5, 72 );
    }
    else
    {
        var_5._id_FE8E _id_0980::_id_99CD();
        var_6 = _id_0980::_id_6AE1( var_5._id_FE8E._id_3E7E );
        _id_07D0::_id_FB9A( var_5._id_A8F5, 40 );
    }

    var_5._id_7C58 = "";
    var_5._id_96F3 = 0;
    var_5 _id_07AD::_id_D60F( var_2 );
    var_5._id_96F3 = 1;
    _func_0162( var_5._id_A8F5, "" );

    if ( isdefined( var_3 ) )
        var_3 waittill( "death" );
    else
        var_5._id_FE8E waittill( "death" );

    var_5 _id_07AD::_id_D8D5( "none" );
    var_5 _id_07AD::_id_C2F2();
    var_5._id_10418 = "none";
}

_id_5008( var_0, var_1, var_2 )
{
    var_3 = _id_0980::_id_4FEC( var_2, var_0, var_1._id_02EA, ( 0, _func_01B8( 360 ), 0 ), undefined );
    return var_3;
}

_id_4C32( var_0, var_1, var_2 )
{
    var_3 = var_1._id_02EA + ( 0, 0, 2000 );
    var_4 = _id_06BB::_id_71B7( var_3, ( 0, 0, 1 ) );
    var_1._id_103BC = _func_0205( "script_model", var_4 );
    var_1._id_103BC setmode( "tag_origin" );
    var_1._id_103BC._id_0054 = ( 0, 0, 0 );
    var_1._id_103BC playlocalsound( "smoke_carepackage_smoke_lp" );
    wait 1;
    _func_0197( _id_077B::_id_6A40( "vfx_smk_signal_gr" ), var_1._id_103BC, "tag_origin" );

    if ( isdefined( var_0 ) )
        var_0 _id_077B::_id_108A5( var_2, "crate_dropped" );
    else
        wait( var_2 );

    _func_0218( _id_077B::_id_6A40( "vfx_smk_signal_gr" ), var_1._id_103BC, "tag_origin" );
    var_1._id_103BC _meth_809A();
}

_id_6ABB( var_0 )
{
    if ( !isdefined( level._id_8DCF ) )
        _id_BD64();

    level._id_8DCF[var_0] = _id_077B::_id_1B94( level._id_8DCF[var_0] );
    return level._id_8DCF[var_0][0];
}

_id_2A23()
{
    var_0 = 0;
    var_1 = 0;
    var_2 = 0;
    var_3 = 0;
    var_4 = 0;
    var_5 = 0;
    var_6 = 10;
    var_7 = 35;
    var_8 = 35;
    var_9 = 20;

    if ( isdefined( level._id_F1E3[0] ) && level._id_F1E3[0] < 2 || 0 )
        var_0 = var_0 + 10;
    else
    {
        var_2 = 1;
        var_6 = 0;
    }

    if ( isdefined( level._id_F1E3[1] ) && level._id_F1E3[1] < -1 || 1 )
    {
        var_0 = var_0 + 35;

        if ( !var_2 )
            var_7 = var_7 + 10;
    }
    else
    {
        var_3 = 1;
        var_7 = 0;
    }

    if ( isdefined( level._id_F1E3[2] ) && level._id_F1E3[2] < -1 || 1 )
    {
        var_0 = var_0 + 35;

        if ( !var_2 )
            var_8 = var_8 + 10;

        if ( !var_3 )
            var_8 = var_8 + 35;
    }
    else
    {
        var_4 = 1;
        var_8 = 0;
    }

    if ( isdefined( level._id_F1E3[3] ) && level._id_F1E3[3] < 15 || 0 )
    {
        var_0 = var_0 + 20;

        if ( !var_2 )
            var_9 = var_9 + 10;

        if ( !var_3 )
            var_9 = var_9 + 35;

        if ( !var_3 )
            var_9 = var_9 + 35;
    }
    else
    {
        var_5 = 1;
        var_9 = 0;
    }

    var_10 = _func_01B9( 1, var_0 );

    if ( var_10 <= var_6 )
    {
        level._id_F1E3[0]++;
        var_11 = _id_077B::_id_1B94( level._id_8DCF[0] );
        return var_11[0];
    }
    else if ( var_10 <= var_7 )
    {
        level._id_F1E3[1]++;
        var_11 = _id_077B::_id_1B94( level._id_8DCF[1] );
        return var_11[0];
    }
    else if ( var_10 <= var_8 )
    {
        level._id_F1E3[2]++;
        var_11 = _id_077B::_id_1B94( level._id_8DCF[2] );
        return var_11[0];
    }
    else
    {
        level._id_F1E3[3]++;
        var_11 = _id_077B::_id_1B94( level._id_8DCF[3] );
        return var_11[0];
    }
}

_id_BD64()
{
    level._id_8DCF = [];
    level._id_8DCF[3] = [ "cruise_predator", "scrambler_drone_guard", "uav" ];
    level._id_8DCF[2] = [ "precision_airstrike", "multi_airstrike", "bradley" ];
    level._id_8DCF[1] = [ "toma_strike", "uav", "pac_sentry", "white_phosphorus" ];
    level._id_8DCF[0] = [ "uav" ];
}

_id_2A24( var_0 )
{
    return level._id_8DBC._id_EA15._id_EC71[var_0]["hudIcon"];
}

_id_5054( var_0 )
{
    level endon( "game_ended" );
    var_1 = _id_0980::_id_5009( undefined, undefined, "battle_royale", var_0, ( 0, _func_01B6( 360 ), 0 ), 3000, 3000, var_0, _id_0980::_id_690B( "weapon" ) );

    if ( !isdefined( var_1 ) )
        return undefined;
    else if ( !isdefined( var_1._id_3E4B ) )
        return undefined;

    return var_1._id_3E4B;
}

_id_816B()
{
    _id_0980::_id_8258();
    level._id_10CD7["icon_waypoint_marker"] = "DROP_BAG";
    level._id_4FEF = _func_020F();
    level._id_4FEF._id_39E7 = _id_077B::_id_6D7C( "dropBagCluterNode", "script_noteworthy" );
    var_0 = _id_077B::_id_6D7C( "dropBagLocation", "script_noteworthy" );

    foreach ( var_2 in var_0 )
    {
        var_2._id_84D5 = 0;

        foreach ( var_4 in level._id_4FEF._id_39E7 )
        {
            if ( var_2._id_0457 == var_4._id_045A )
            {
                if ( !isdefined( var_4._id_501C ) )
                    var_4._id_501C = [];

                var_4._id_501C[var_4._id_501C.size] = var_2;
                continue;
            }
        }
    }

    _id_816C();
}

_id_816C()
{
    game["dialog"]["dropbag_incoming"] = "gamestate_dropbag_incoming";
    game["dialog"]["dropbag_available"] = "gamestate_dropbag_available";
}

_id_BB69( var_0 )
{
    var_1 = [];
    var_2 = [];
    var_3 = scripts\mp\gametypes\br_circle::_id_6CE3();
    var_4 = scripts\mp\gametypes\br_circle::_id_6CE4();
    var_5 = getarraykeys( level._id_EF67 );

    foreach ( var_7 in var_5 )
    {
        if ( level._id_EF67[var_7]["teamCount"] > 0 )
        {
            var_8 = 0;
            var_9 = undefined;

            foreach ( var_11 in level._id_EF67[var_7]["alivePlayers"] )
            {
                if ( !isdefined( var_9 ) && !istrue( var_11._id_7245 ) )
                    var_9 = var_11;

                if ( istrue( var_11._id_8A43 ) && !istrue( var_11._id_7245 ) )
                {
                    var_8 = 1;
                    var_1[var_1.size] = var_11;

                    if ( istrue( var_0 ) && isdefined( level._id_2A92[var_11._id_045B]._id_71B5 ) )
                        var_2[var_2.size] = level._id_2A92[var_11._id_045B]._id_71B5;
                    else
                        var_2[var_2.size] = var_11._id_02EA;

                    break;
                }
            }

            if ( !var_8 )
            {
                if ( isdefined( var_9 ) )
                {
                    var_11 = var_9;
                    var_1[var_1.size] = var_11;

                    if ( istrue( var_0 ) && isdefined( level._id_2A92[var_11._id_045B]._id_71B5 ) )
                        var_2[var_2.size] = level._id_2A92[var_11._id_045B]._id_71B5;
                    else
                        var_2[var_2.size] = var_11._id_02EA;
                }
                else if ( level._id_EF67[var_7]["aliveCount"] > 0 )
                {
                    var_11 = level._id_EF67[var_7]["alivePlayers"][0];
                    var_1[var_1.size] = var_11;
                    var_13 = _func_01B6( 360.0 );
                    var_14 = _func_01B6( var_4 );
                    var_15 = var_3 + ( cos( var_13 ) * var_14, _func_01FE( var_13 ) * var_14, 0.0 );
                    var_2[var_2.size] = var_15;
                }
            }
        }
    }

    var_17 = 5;

    if ( isdefined( level._id_4FEF._id_39E7 ) && level._id_4FEF._id_39E7.size && isdefined( level._id_4FEF._id_39E7[0]._id_501C ) )
        var_17 = level._id_4FEF._id_39E7[0]._id_501C.size;

    var_18 = getdvarfloat( "scr_dropbag_mindist", 3000 );
    var_19 = getdvarfloat( "scr_dropbag_maxdist", 7000 );
    var_20 = _func_020F();
    var_20._id_02EA = ( 0, 0, 0 );
    var_21 = [ var_20 ];

    if ( isdefined( level._id_2A4D ) )
        var_21 = _func_03F1( var_2, level._id_4FEF._id_39E7, level._id_2A4D._id_2A52, var_18, var_19, 2000, var_17, 128, var_3, var_4 );

    if ( isdefined( var_21 ) )
    {
        for ( var_22 = 0; var_22 < var_21.size; var_22++ )
        {
            var_11 = var_1[var_22];

            if ( isdefined( var_21[var_22]._id_02CD ) )
            {
                var_23 = var_21[var_22]._id_02CD;
                var_24 = level._id_4FEF._id_39E7[var_23];
                var_25 = var_21[var_22].health;
                var_11._id_BB67 = var_24._id_501C[var_25]._id_02EA;
                continue;
            }

            var_11._id_BB67 = var_21[var_22]._id_02EA;
        }

        level._id_BB68 = 1;
        level thread _id_E29B( var_1 );
    }

    level thread _id_9A02();
}

_id_9A02()
{
    level notify( "manageDropBags" );
    level endon( "manageDropBags" );
    var_0 = -1;
    var_1 = getdvarfloat( "scr_br_circle_object_cleanup_threshold", 2400.0 );

    for (;;)
    {
        if ( !isdefined( level._id_2A6F._id_3E79 ) || !level._id_2A6F._id_3E79.size )
        {
            var_0 = -1;
            wait 1.0;
            continue;
        }

        var_0 = ( var_0 + 1 ) % level._id_2A6F._id_3E79.size;
        var_2 = level._id_2A6F._id_3E79[var_0];

        if ( !isdefined( var_2 ) )
        {
            level._id_2A6F._id_3E79 = _id_077B::_id_1BA9( level._id_2A6F._id_3E79 );
            waitframe();
            continue;
        }

        if ( isdefined( var_2._id_045B ) )
        {
            var_3 = 0;

            if ( isdefined( var_2._id_A78A ) )
                var_3 = var_2._id_A78A;

            if ( var_3 >= level._id_EF67[var_2._id_045B]["teamCount"] )
            {
                var_2 thread _id_0980::_id_4822();
                waitframe();
                continue;
            }
        }

        var_4 = scripts\mp\gametypes\br_circle::_id_69A7();

        if ( var_4 > 0.0 )
        {
            var_5 = scripts\mp\gametypes\br_circle::_id_69A6();
            var_6 = distance2dsquared( var_2._id_02EA, var_5 );
            var_7 = _func_0147( 0, var_4 + var_1 );

            if ( var_6 > var_7 * var_7 )
            {
                var_2 thread _id_0980::_id_4822();
                waitframe();
                continue;
            }
        }

        waitframe();
    }
}

_id_384B( var_0, var_1 )
{
    var_2 = [];

    foreach ( var_4 in level._id_2A6F._id_3E79 )
    {
        if ( !isdefined( var_4 ) || var_4._id_045B != var_0 )
            continue;

        var_2[var_2.size] = var_4;
    }

    var_6 = var_2.size - var_1;

    if ( var_6 <= 0 )
        return;

    for ( var_7 = var_6 - 1; var_7 >= 0; var_7-- )
    {
        var_8 = var_2[var_7];
        var_8 thread _id_0980::_id_4822();
    }
}

_id_E298( var_0 )
{
    _id_384B( self._id_045B, 1 );
    var_1 = _id_0980::_id_4FFC( self._id_045B, var_0 + ( 0, 0, 4096 ), var_0 + ( 0, 0, 512 ) );
    var_1 endon( "death" );
    _id_5229( var_1 );
    _id_35CE( var_1 );
    var_2 = [];

    foreach ( var_4 in level._id_EF67[self._id_045B]["alivePlayers"] )
    {
        if ( isdefined( var_4 ) && !var_4 scripts\mp\gametypes\br_public::_id_8976() )
        {
            var_2[var_2.size] = var_4;
            var_4 thread _id_07B9::_id_DCE0( "br_airdrop_incoming" );
        }
    }

    if ( !scripts\mp\gametypes\br_public::_id_8A9F() )
        scripts\mp\gametypes\br_public::_id_2BB8( "dropbag_incoming", self._id_045B, 1 );

    if ( _id_0A69::_id_6A43() == "br" )
        scripts\mp\gametypes\br_analytics::_id_2AC6( self, var_0, var_1 );
}

_id_E29B( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        if ( !isdefined( var_2 ) )
            continue;

        var_3 = var_2._id_BB67;

        if ( isdefined( level._id_29F5 ) && isdefined( level._id_29F5._id_CABD ) )
        {
            var_4 = scripts\mp\gametypes\br_circle::_id_6CE3();
            var_5 = scripts\mp\gametypes\br_circle::_id_6CE4();

            if ( distance2dsquared( var_4, var_3 ) > var_5 * var_5 )
            {
                var_6 = _func_025A( var_3 - var_4 );
                var_7 = var_4 + var_6 * var_5 * 0.95;

                if ( _func_03D7() )
                    var_3 = _func_02A6( var_7 );
                else
                    var_3 = var_7;
            }

            if ( _id_07D3::_id_899E( var_3 ) )
            {
                var_4 = scripts\mp\gametypes\br_circle::_id_6CE3();
                var_7 = scripts\mp\gametypes\br_c130::_id_DEAC( var_4, var_3 );

                if ( _func_03D7() )
                    var_3 = _func_02A6( var_7 );
                else
                    var_3 = var_7;
            }
        }

        var_2 _id_E298( var_3 );
        waitframe();
    }
}

_id_E29A()
{
    var_0 = undefined;
    var_0 = _id_5AED( self );

    if ( !isdefined( var_0 ) )
    {
        var_1 = getdvarfloat( "scr_dropbag_mindist", 3000 );
        var_2 = getdvarfloat( "scr_dropbag_maxdist", 7000 );
        var_0 = _id_2EBF( self, var_1, var_2 );
    }

    if ( isdefined( var_0 ) )
    {
        thread _id_E298( var_0._id_02EA );
        level thread _id_9A02();
    }
}

_id_5AED( var_0 )
{
    var_1 = [];
    var_2 = getdvarfloat( "scr_dropbag_mindist", 3000 );
    var_3 = getdvarfloat( "scr_dropbag_maxdist", 7000 );
    var_4 = var_2 * var_2;
    var_5 = var_3 * var_3;

    foreach ( var_7 in level._id_4FEF._id_39E7 )
    {
        var_8 = distance2dsquared( var_0._id_02EA, var_7._id_02EA );

        if ( var_8 >= var_4 && var_8 <= var_5 )
            var_1[var_1.size] = var_7;
    }

    if ( var_1.size == 0 )
        return undefined;

    var_1 = _id_077B::_id_1B94( var_1 );
    var_10 = 0;

    foreach ( var_7 in var_1 )
    {
        var_12 = _id_077B::_id_1B94( var_7._id_501C );

        foreach ( var_14 in var_12 )
        {
            if ( !var_14._id_84D5 )
            {
                var_14._id_84D5 = 1;
                return var_14;
            }
        }
    }

    return undefined;
}

_id_5229( var_0 )
{
    var_0 setorigin( self );
    var_0 _meth_8373( "objective", "active" );
}

_id_35CE( var_0 )
{
    var_0 setorigin( self );
    var_0 _meth_8373( "model", "choose" );
}

_id_468D( var_0 )
{
    level endon( "game_ended" );
    var_1 = 0;

    foreach ( var_3 in var_0 )
    {
        var_4 = var_3 - var_1;

        if ( var_4 > 0 )
            wait( var_4 );

        var_1 = var_3;
        _id_BB69( 0 );
    }
}

_id_15A5()
{
    foreach ( var_1 in level._id_2A6F._id_3E79 )
    {
        if ( !isdefined( var_1 ) || var_1._id_045B != self._id_045B )
            continue;

        var_2 = isdefined( var_1._id_B77D ) && isdefined( var_1._id_B77D[self getentitynumber()] );

        if ( var_2 )
        {
            var_1._id_B77D[self getentitynumber()] = undefined;

            for ( var_3 = 0; var_3 < var_1._id_B7D6.size; var_3++ )
            {
                if ( isdefined( var_1._id_B7D6[var_3] ) && var_1._id_B7D6[var_3] == self )
                    var_1._id_B7D6[var_3] = undefined;
            }

            var_1._id_B7D6 = _id_077B::_id_1BA9( var_1._id_B7D6 );
            var_1._id_A78A--;
        }
    }
}

_id_AB61()
{
    _id_15A5();
}

_id_F0D9()
{
    _id_CA41( level._id_B758[0], level._id_B758[0], undefined, 3 );
}

_id_5AC5( var_0 )
{
    var_1 = var_0 _id_077B::_id_1BAE( level._id_4FEF._id_39E7, ::_id_E031 );

    foreach ( var_3 in var_1 )
    {
        var_4 = _id_077B::_id_1B94( var_3._id_501C );

        foreach ( var_6 in var_4 )
        {
            if ( !var_6._id_84D5 )
            {
                var_6._id_84D5 = 1;
                return var_6;
            }
        }
    }

    return undefined;
}

_id_E031( var_0, var_1 )
{
    return distancesquared( var_0._id_02EA, self._id_02EA ) < distancesquared( var_1._id_02EA, self._id_02EA );
}

_id_2EBF( var_0, var_1, var_2 )
{
    var_3 = var_0._id_02EA;
    var_4 = undefined;
    var_5 = undefined;
    var_6 = _func_01B8( 2 );
    var_7 = _id_077B::_id_F07F( var_6, -1.0, 1.0 );

    if ( var_7 > 0 )
    {
        var_4 = _func_01B7( var_3[0] + var_1 * var_7, var_3[0] + var_2 * var_7 );

        if ( var_4 >= level._id_2A4D._id_2A52[0][0] )
            var_4 = level._id_2A4D._id_2A52[0][0] - 250;
    }
    else
    {
        var_4 = _func_01B7( var_3[0] + var_2 * var_7, var_3[0] + var_1 * var_7 );

        if ( var_4 <= level._id_2A4D._id_2A52[1][0] )
            var_4 = level._id_2A4D._id_2A52[1][0] + 250;
    }

    var_6 = _func_01B8( 2 );
    var_7 = _id_077B::_id_F07F( var_6, -1.0, 1.0 );

    if ( var_7 > 0 )
    {
        var_5 = _func_01B7( var_3[1] + var_1 * var_7, var_3[1] + var_2 * var_7 );

        if ( var_5 >= level._id_2A4D._id_2A52[0][1] )
            var_5 = level._id_2A4D._id_2A52[0][1] - 250;
    }
    else
    {
        var_5 = _func_01B7( var_3[1] + var_2 * var_7, var_3[1] + var_1 * var_7 );

        if ( var_5 <= level._id_2A4D._id_2A52[1][1] )
            var_5 = level._id_2A4D._id_2A52[1][1] + 250;
    }

    if ( _func_03D7() )
    {
        var_8 = _func_02A6( ( var_4, var_5, var_3[2] ) );

        if ( isdefined( var_8 ) )
        {
            var_9 = _func_020F();
            var_9._id_02EA = var_8;
            return var_9;
        }
    }

    var_9 = _func_020F();
    var_9._id_02EA = ( var_4, var_5, var_3[2] );
    return var_9;
}

_id_44DD( var_0 )
{

}

_id_9B86( var_0, var_1 )
{
    var_0._id_10414 = 1;
    _func_0186( var_0._id_A8F5 );

    foreach ( var_3 in level._id_E48B[var_1._id_045B][var_1._id_E493]._id_B758 )
        _func_0180( var_0._id_A8F5, var_3 );
}
