// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    if ( !isdefined( level._id_ED1F ) )
    {
        _id_07B3::init();
        _id_07B3::_id_D849();
        level._id_ED1F = "tac_ops";
        level._id_41B1 = "tac_ops";
        level._id_AB39 = ::_id_AB39;
        level._id_ED0A = "START";
    }

    level._id_ED19 = [];
    level._id_E438 = 0;
    level._id_1FB9 = 5;

    if ( isusingmatchrulesdata() )
        scripts\mp\utility\game::_id_D4D3();
    else
    {
        scripts\mp\utility\game::_id_C29C( "tac_ops", 0, 0, 9 );
        scripts\mp\utility\game::_id_C2B3( "tac_ops", 3 );
        scripts\mp\utility\game::_id_C29F( "tac_ops", 0 );
        scripts\mp\utility\game::_id_C29B( "tac_ops", 1 );
        scripts\mp\utility\game::_id_C2C2( "tac_ops", 1 );
        scripts\mp\utility\game::_id_C270( "tac_ops", 0 );
        scripts\mp\utility\game::_id_C24F( "tac_ops", 0 );
        scripts\mp\utility\game::_id_C242( "tac_ops", 0 );
        scripts\mp\utility\game::_id_D629( 2 );
    }

    scripts\mp\gametypes\common::_id_FC36();
    level.teambased = 1;
    level._id_AB9A = ::_id_AB9A;
    level._id_AB46 = ::_id_AB46;
    level._id_9FD5 = ::_id_AB91;
}

_id_3AC0()
{
    _id_0A4C::_id_81BA();
    _id_AA65();
    thread _id_F218();
    level._id_1595 = 0;
    level._id_8A6F = 1;
    _id_0A4D::_id_8263();
    _id_07F3::init();
    _id_827A();
}

_id_AB39( var_0 )
{
    var_1 = 1;

    if ( isdefined( var_0 ) )
        level._id_90B9 = var_0;

    if ( isdefined( level._id_90B9 ) )
        var_1 = level._id_90B9 == "allies";

    level._id_9FD5 = ::_id_AB91;
    level._id_ED20 = 0;
    setclientnamemode( 0 );
    level._id_E72A = gettime();
    level._id_ED1F = "tac_ops";
    level._id_41B1 = "tac_ops";
    level._id_ED0A = _id_E74E( level._id_ED0A, var_1 );
    level thread _id_CA4F();
    setomnvar( "ui_tac_ops_submode", level._id_41B1 );
}

_id_B8DB( var_0, var_1, var_2 )
{
    var_3 = scripts\mp\utility\teams::_id_6DAC( var_1, "players" );

    foreach ( var_5 in var_3 )
    {
        if ( !isbot( var_5 ) )
            var_5 playlocalsound( var_0, var_2 );
    }
}

_id_EF90( var_0, var_1 )
{
    foreach ( var_3 in scripts\mp\utility\teams::_id_6DAC( "allies", "players" ) )
        var_3 thread _id_F8CD( var_0, 5 );

    foreach ( var_3 in scripts\mp\utility\teams::_id_6DAC( "axis", "players" ) )
        var_3 thread _id_F8CD( var_1, 5 );
}

_id_F8CD( var_0, var_1 )
{
    self _meth_84C6( var_0 );
    wait( var_1 );
    self sethudtutorialmessage();
}

_id_E361()
{
    var_0 = level._id_CB0D[0][0].origin;
    _id_0A4D::_id_4038( 5, var_0, "allies", 1 );
    var_0 = level._id_CB0D[1][0].origin;
    _id_0A4D::_id_4038( 1, var_0, "allies", 1 );
    var_0 = level._id_CB0D[2][0].origin;
    _id_0A4D::_id_4038( 3, var_0, "allies", 1 );
    var_0 = level._id_CB0D[3][0].origin;
    _id_0A4D::_id_4038( 6, var_0, "allies", 1 );
    var_0 = level._id_CB0D[4][0].origin;
    _id_0A4D::_id_4038( 2, var_0, "allies", 1 );
    var_0 = level._id_CB0D[5][0].origin;
    _id_0A4D::_id_4038( 4, var_0, "allies", 1 );
    var_0 = level._id_CB0D[6][0].origin;
    _id_0A4D::_id_4038( 1, var_0, "axis", 1 );
    var_0 = level._id_CB0D[7][0].origin;
    _id_0A4D::_id_4038( 5, var_0, "axis", 1 );
    var_0 = level._id_CB0D[8][0].origin;
    _id_0A4D::_id_4038( 10, var_0, "axis", 1 );
    var_0 = level._id_CB0D[9][0].origin;
    _id_0A4D::_id_4038( 9, var_0, "axis", 1 );
    var_0 = level._id_CB0D[10][0].origin;
    _id_0A4D::_id_4038( 6, var_0, "axis", 1 );
    var_0 = level._id_CB0D[11][0].origin;
    _id_0A4D::_id_4038( 7, var_0, "axis", 1 );
}

_id_CA4F()
{
    _id_AA65();

    switch ( level._id_ED0A )
    {
        case "START":
            wait 5;
            break;
        case "ROUND_1":
            _id_0A4C::_id_BEB3( "dx_mpb_us1_phase1_infila2", "allies" );
            _id_0A4C::_id_BEB3( "dx_mpb_aqcm_phase1_infilb", "axis" );
            wait 6;
            _id_0A4C::_id_BEB3( "dx_mpb_chem_phase1_safehouse", "axis" );
            scripts\mp\gametypes\to_dd::_id_9963();
            break;
        case "TRANSFER_1_2A":
            level notify( "dd_phase_ended" );
            _id_0A4C::_id_BEB3( "dx_mpb_chem_phase1_hvtgrab", "allies" );
            _id_0A4C::_id_BEB3( "dx_mpb_us1_phase1_wina", "allies" );
            _id_0A4C::_id_BEB3( "dx_mpb_aqcm_phase1_losingb", "axis" );
            _id_E361();
            level._id_ED0A = _id_E74E( level._id_ED0A, 1 );
            level thread _id_CA4F();
            break;
        case "TRANSFER_1_2B":
            level notify( "dd_phase_ended" );
            _id_E361();
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_DD_END_1B", &"MISC_MESSAGES_MP/TO_AXIS_DD_END_1B" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_DD_END_1C", &"MISC_MESSAGES_MP/TO_AXIS_DD_END_1C" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_HSTG_PRE_1", &"MISC_MESSAGES_MP/TO_AXIS_HSTG_PRE_1B" );
            wait 6;
            level._id_ED0A = _id_E74E( level._id_ED0A, 0 );
            level thread _id_CA4F();
            break;
        case "ROUND_2B":
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_AIR_START_1", &"MISC_MESSAGES_MP/TO_AXIS_AIR_START_1" );
            break;
        case "ROUND_2A":
            level scripts\mp\gametypes\to_hstg::_id_9963();
            level scripts\mp\gametypes\to_hstg::_id_0ED5();
            wait 6;
            _id_0A4C::_id_BEB3( "dx_mpb_ovl_phase1_wina", "allies" );
            _id_0A4C::_id_BEB3( "dx_mpb_aqcm_phase2_introb", "axis" );
            wait 6;
            _id_0A4C::_id_BEB3( "dx_mpb_ovl_phase2_introa1", "allies" );
            wait 6;
            _id_0A4C::_id_BEB3( "dx_mpb_us1_phase2_introa2", "allies" );
            break;
        case "TRANSFER_2A_3AA":
            _id_0A4C::_id_BEB3( "dx_mpb_aqcm_phase2_lossb", "axis" );
            level notify( "hostage_phase_ended" );
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_HSTG_END_2A", &"MISC_MESSAGES_MP/TO_AXIS_HSTG_END_2A" );
            wait 6;
            thread scripts\mp\gamelogic::_id_52D7( "none", 0 );
            return;
        case "TRANSFER_2A_3AB":
            level notify( "hostage_phase_ended" );
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_HSTG_END_2B", &"MISC_MESSAGES_MP/TO_AXIS_HSTG_END_2B" );
            wait 6;
            thread scripts\mp\gamelogic::_id_52D7( "none", 0 );
            return;
        case "TRANSFER_2B_3BA":
            level notify( "hostage_phase_ended" );
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_HSTG_END_2A", &"MISC_MESSAGES_MP/TO_AXIS_HSTG_END_2A" );
            wait 6;
            thread scripts\mp\gamelogic::_id_52D7( "none", 0 );
            return;
        case "TRANSFER_2B_3BB":
            level notify( "hostage_phase_ended" );
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_HSTG_END_2B", &"MISC_MESSAGES_MP/TO_AXIS_HSTG_END_2B" );
            wait 6;
            thread scripts\mp\gamelogic::_id_52D7( "none", 0 );
            return;
        case "ROUND_3AA":
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_WMD_PRE_1", &"MISC_MESSAGES_MP/TO_AXIS_WMD_PRE_1" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_WMD_START_1", &"MISC_MESSAGES_MP/TO_AXIS_WMD_START_1" );
            level scripts\mp\gametypes\to_wmd::_id_9963();
            level scripts\mp\gametypes\to_wmd::_id_0ED5();
            break;
        case "ROUND_3AB":
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_BHD_PRE_1", &"MISC_MESSAGES_MP/TO_AXIS_BHD_PRE_1" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_BHD_START_1", &"MISC_MESSAGES_MP/TO_AXIS_BHD_START_1" );
            level scripts\mp\gametypes\to_bhd::_id_9963();
            level scripts\mp\gametypes\to_bhd::_id_0ED5();
            break;
        case "ROUND_3BA":
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_SAM_PRE_1", &"MISC_MESSAGES_MP/TO_AXIS_SAM_PRE_1" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_SAM_START_1", &"MISC_MESSAGES_MP/TO_AXIS_SAM_START_1" );
            level scripts\mp\gametypes\to_sam::_id_9963();
            level scripts\mp\gametypes\to_sam::_id_0ED5();
            break;
        case "ROUND_3BB":
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_BLITZ_PRE_1", &"MISC_MESSAGES_MP/TO_AXIS_BLITZ_PRE_1" );
            wait 6;
            _id_EF90( &"MISC_MESSAGES_MP/TO_ALLY_BLITZ_START_1", &"MISC_MESSAGES_MP/TO_AXIS_BLITZ_START_1" );
            level scripts\mp\gametypes\to_blitz::_id_9963();
            level scripts\mp\gametypes\to_blitz::_id_0ED5();
            break;
        case "FINALE_3BAA":
        case "FINALE_3BBA":
        case "FINALE_3AAB":
        case "FINALE_3ABA":
        case "FINALE_3BBB":
        case "FINALE_3BAB":
        case "FINALE_3AAA":
        case "END":
        case "FINALE_3ABB":
            thread scripts\mp\gamelogic::_id_52D7( "none", 0 );
            break;
    }
}

_id_AA65()
{
    level._id_E72A = gettime();
    level._id_ED20 = 0;
    level._id_AF5F = 0;
    level._id_AF64 = 0;
}

_id_D0B7()
{
    var_0 = 0;

    for ( var_1 = 0; var_1 < 3; var_1++ )
    {
        if ( isdefined( level._id_ED19[var_1] ) )
        {
            if ( level._id_ED19[var_1] == "tie" || level._id_ED19[var_1] == "allies" )
            {
                var_0 = var_0 + int( playrumbleonposition( 10, var_1 ) * 1 );
                continue;
            }

            var_0 = var_0 + int( playrumbleonposition( 10, var_1 ) * 2 );
        }
    }

    _func_01E5( "ui_tac_ops_results", var_0 );
}

_id_C92D()
{
    foreach ( var_1 in level.players )
        var_1 thread scripts\mp\utility\game::_id_D72F( 0.0 );

    scripts\mp\utility\player::_id_0D99( "", 0 );
    _func_0261( "", 0.75 );
    wait 5.0;
    visionsetnaked( "", 0.75 );
}

_id_E74E( var_0, var_1 )
{
    switch ( var_0 )
    {
        case "START":
            var_0 = "ROUND_1";
            break;
        case "ROUND_1":
            if ( var_1 )
                var_0 = "TRANSFER_1_2A";
            else
                var_0 = "END";

            break;
        case "TRANSFER_1_2A":
            var_0 = "ROUND_2A";
            break;
        case "TRANSFER_1_2B":
            var_0 = "END";
            break;
        case "ROUND_2A":
            if ( var_1 )
                var_0 = "TRANSFER_2A_3AA";
            else
                var_0 = "END";

            break;
        case "ROUND_2B":
            if ( var_1 )
                var_0 = "TRANSFER_2B_3BA";
            else
                var_0 = "TRANSFER_2B_3BB";

            break;
        case "TRANSFER_2A_3AA":
            var_0 = "ROUND_3AA";
            break;
        case "TRANSFER_2A_3AB":
            var_0 = "ROUND_3AB";
            break;
        case "TRANSFER_2B_3BA":
            var_0 = "ROUND_3AB";
            break;
        case "TRANSFER_2B_3BB":
            var_0 = "ROUND_3BB";
            break;
        case "ROUND_3AA":
            if ( var_1 )
                var_0 = "FINALE_3AAA";
            else
                var_0 = "FINALE_3AAB";

            break;
        case "ROUND_3BB":
            if ( var_1 )
                var_0 = "FINALE_3BBA";
            else
                var_0 = "FINALE_3BBB";

            break;
        case "ROUND_3AB":
            if ( var_1 )
                var_0 = "FINALE_3ABA";
            else
                var_0 = "FINALE_3ABB";

            break;
        case "ROUND_3BA":
            if ( var_1 )
                var_0 = "FINALE_3BAA";
            else
                var_0 = "FINALE_3BAB";

            break;
        case "FINALE_3BAA":
        case "FINALE_3BBA":
        case "FINALE_3AAB":
        case "FINALE_3ABA":
        case "FINALE_3BBB":
        case "FINALE_3BAB":
        case "FINALE_3AAA":
        case "FINALE_3ABB":
            var_0 = "END";
            break;
    }

    return var_0;
}

_id_AB9A()
{
    _func_01CE( "auto_change" );

    if ( !isdefined( game["switchedsides"] ) )
        game["switchedsides"] = 0;

    game["attackers"] = "allies";
    game["defenders"] = "axis";
    scripts\mp\utility\game::_id_D610( "allies", &"OBJECTIVES/WAR" );
    scripts\mp\utility\game::_id_D610( "axis", &"OBJECTIVES/WAR" );

    if ( level._id_E427 )
    {
        scripts\mp\utility\game::_id_D60E( "allies", &"OBJECTIVES/WAR" );
        scripts\mp\utility\game::_id_D60E( "axis", &"OBJECTIVES/WAR" );
    }
    else
    {
        scripts\mp\utility\game::_id_D60E( "allies", &"OBJECTIVES/WAR_SCORE" );
        scripts\mp\utility\game::_id_D60E( "axis", &"OBJECTIVES/WAR_SCORE" );
    }

    scripts\mp\utility\game::_id_D609( "allies", &"OBJECTIVES/WAR_HINT" );
    scripts\mp\utility\game::_id_D609( "axis", &"OBJECTIVES/WAR_HINT" );
    var_0 = _id_0A66::_id_6E38( "winlimit" );
    var_1[0] = "dd";
    var_1[1] = "dd_bombzone";
    var_1[2] = "blocker";
    var_1[3] = "grind";
    var_1[4] = "dom";
    var_1[5] = "conf";
    var_1[6] = "tac_ops";
    var_1[7] = "barrier_checkpoint";
    _id_07AD::main( var_1 );
    _id_3AC0();
    scripts\mp\gametypes\to_dd::_id_0ED5();
    level thread _id_5BB8();
    _id_8266();
    _id_E361();
    _id_0A4D::_id_524F( level._id_ED1D );
}

_id_8266()
{
    var_0 = "radar_drone";
    var_1 = "precision_airstrike";
    level._id_CB0D = [];
    level._id_CB0E = [];
    level._id_CB0D[0] = scripts\engine\utility::_id_6D7C( "tac_advantage_a", "targetname" );
    level._id_CB0E[0] = var_0;
    level._id_CB0D[1] = scripts\engine\utility::_id_6D7C( "tac_advantage_b", "targetname" );
    level._id_CB0E[1] = var_0;
    level._id_CB0D[2] = scripts\engine\utility::_id_6D7C( "tac_advantage_c", "targetname" );
    level._id_CB0E[2] = var_1;
    level._id_CB0D[3] = scripts\engine\utility::_id_6D7C( "tac_advantage_d", "targetname" );
    level._id_CB0E[3] = var_1;
    level._id_CB0D[4] = scripts\engine\utility::_id_6D7C( "tac_advantage_e", "targetname" );
    level._id_CB0E[4] = var_0;
    level._id_CB0D[5] = scripts\engine\utility::_id_6D7C( "tac_advantage_f", "targetname" );
    level._id_CB0E[5] = var_1;
    level._id_CB0D[6] = scripts\engine\utility::_id_6D7C( "tac_advantage_h", "targetname" );
    level._id_CB0E[6] = var_1;
    level._id_CB0D[7] = scripts\engine\utility::_id_6D7C( "tac_advantage_i", "targetname" );
    level._id_CB0E[7] = var_0;
    level._id_CB0D[8] = scripts\engine\utility::_id_6D7C( "tac_advantage_j", "targetname" );
    level._id_CB0E[8] = var_1;
    level._id_CB0D[9] = scripts\engine\utility::_id_6D7C( "tac_advantage_k", "targetname" );
    level._id_CB0E[9] = var_1;
    level._id_CB0D[10] = scripts\engine\utility::_id_6D7C( "tac_advantage_l", "targetname" );
    level._id_CB0E[10] = var_1;
    level._id_CB0D[11] = scripts\engine\utility::_id_6D7C( "tac_advantage_m", "targetname" );
    level._id_CB0E[11] = var_1;
}

_id_5BB8()
{
    if ( level._id_BB9F > 0 )
        _id_07A8::_id_60A3( "prematch_done" );
    else
        wait 15;

    _id_AB39( level._id_90B9 );
}

_id_AB91()
{
    scripts\mp\playerlogic::_id_7DCD( self.team );
    self._id_896C = 0;
    self._id_87DD = 0;
}

_id_AB46( var_0 )
{
    var_0 setclientomnvar( "ui_hp_callout_id", 2 );
    var_0._id_89FD = 0;
    setomnvar( "ui_tac_ops_submode", level._id_41B1 );
    var_0 thread _id_A109();
}

_id_A109()
{
    self endon( "disconnect" );

    for (;;)
    {
        self waittill( "joined_team" );
        scripts\mp\supers::_id_3963();
        _id_0A4D::_id_90BB();
    }
}

_id_827A()
{
    _id_07EE::_id_D454( "TDM" );
    level._id_E324 = ( 0, 0, 0 );
    level._id_E321 = ( 0, 0, 0 );
    var_0 = spawnstruct();
    level._id_ED1B = var_0;
    scripts\mp\gametypes\to_air::_id_827A();
    scripts\mp\gametypes\to_bhd::_id_827A();
    scripts\mp\gametypes\to_blitz::_id_827A();
    scripts\mp\gametypes\to_dd::_id_827A();
    scripts\mp\gametypes\to_hstg::_id_827A();
    scripts\mp\gametypes\to_sam::_id_827A();
    scripts\mp\gametypes\to_wmd::_id_827A();
    level._id_9A95 = _id_07EE::_id_5AC1( level._id_E324, level._id_E321 );
    setgameendtime( level._id_9A95 );
    _id_07F3::_id_D8A8();
    _id_07EE::_id_0EBC();
}

_id_ABA0( var_0 )
{

}

_id_AB2C( var_0, var_1, var_2, var_3, var_4 )
{
    scripts\mp\gametypes\common::_id_AA76( var_0, var_1, var_2, var_3, var_4 );

    if ( !isdefined( var_0._id_EC30 ) )
        var_0 scripts\mp\playerlogic::_id_4533( var_0.team );
}

_id_F218()
{
    level endon( "game_ended" );
    var_0 = _id_6D90();

    for (;;)
    {
        thread _id_3540( var_0 );
        var_0 = _id_6D90();

        if ( isdefined( level._id_E72A ) )
        {
            if ( _id_6D91() < 3000 )
            {
                wait 0.1;
                continue;
            }
        }

        wait 1;
    }
}

_id_57DA( var_0 )
{
    level._id_2303 = _id_6D8F() + var_0;
}

_id_C171( var_0 )
{
    level._id_2303 = _id_6D8F() - var_0;
}

_id_3540( var_0 )
{
    var_1 = _id_6D91();
    setclientnamemode( gettime() + int( var_1 ) );

    if ( level._id_ED20 == 0 )
    {
        setclientnamemode( 0 );
        return;
    }

    if ( var_1 > 0 )
        return;

    setclientnamemode( 0 );
    [[ level._id_ABAD ]]();
}

_id_6D90()
{
    if ( isdefined( level._id_AF60 ) )
        return level._id_AF60;

    return gettime() - level._id_E72A;
}

_id_6D8F()
{
    if ( !isdefined( level._id_2303 ) )
        level._id_2303 = _id_0A66::_id_6E38( "timelimit" ) * 60 * 1000;

    return level._id_2303;
}

_id_6D8E()
{
    return level._id_2303 - _id_0A66::_id_6E38( "timelimit" ) * 60 * 1000 + level._id_AF64;
}

_id_6D91()
{
    return _id_6D8F() - _id_6D90();
}

_id_AF61()
{
    if ( level._id_AF5F == 0 )
    {
        level._id_AF60 = _id_6D90();
        level._id_AF62 = gettime();
    }

    level._id_AF5F++;
}

_id_C724()
{
    level._id_AF5F--;

    if ( level._id_AF5F < 0 )
        level._id_AF5F = 0;

    if ( level._id_AF5F == 0 )
    {
        if ( !isdefined( level._id_AF60 ) )
            level._id_AF60 = 0;

        if ( !isdefined( level._id_AF62 ) )
            level._id_AF62 = 0;

        level._id_E72A = gettime() - level._id_AF60;

        if ( !isdefined( level._id_AF64 ) )
            level._id_AF64 = 0;

        level._id_AF64 = level._id_AF64 + ( gettime() - level._id_AF62 );
        level._id_AF60 = undefined;
        level._id_AF62 = undefined;
    }
}

_id_ED11( var_0 )
{
    var_1 = _id_6D91() / 1000 - var_0;
    wait( var_1 );
    var_2 = _id_6D8E() / 1000;
    wait( var_2 );
}
