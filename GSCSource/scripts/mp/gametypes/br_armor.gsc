// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    level._id_AAEC = ::_id_AAEC;
}

_id_8120()
{
    self._id_29E8 = 0;
    self._id_752C = 0;
    self._id_2A57 = 150;
    self setclientomnvar( "ui_br_armor_damage", 0 );
    scripts\mp\gametypes\br_public::_id_FC17( "armorHealthRatio", 0 );
}

_id_6BAD( var_0 )
{
    var_1 = spawnstruct();
    var_1._id_010E = 1;
    var_1._id_9C48 = 1;
    var_1._id_E500 = 1;

    if ( scripts\mp\gametypes\br_public::_id_8881( var_0._id_CF15 ) )
    {

    }
    else if ( scripts\mp\gametypes\br_pickups::_id_885F( var_0._id_CF15 ) )
        var_1._id_61B6 = self._id_61B6;
    else
        var_1._id_1B2B = self._id_29E8;

    return var_1;
}

_id_77F0( var_0 )
{
    switch ( var_0 )
    {
        case 1:
            return "brloot_armor_helmet_1";
        case 2:
            return "brloot_armor_helmet_2";
        case 3:
            return "brloot_armor_helmet_3";
    }

    return undefined;
}

_id_6FD6()
{
    var_0 = 100;

    if ( getdvarint( "scr_br_alt_mode_gg", 0 ) )
        var_0 = 150;

    if ( istrue( self._id_752C ) )
        self._id_752C = 0;

    _id_6F65( var_0 );
}

_id_6F65( var_0 )
{
    if ( !isdefined( var_0 ) || var_0 <= 0 )
        return;

    self._id_29E8 = var_0;
    self._id_2A57 = 150;
    var_1 = self._id_29E8 / self._id_2A57;
    self setclientomnvar( "ui_br_armor_damage", var_1 );
    scripts\mp\gametypes\br_public::_id_FC17( "armorHealthRatio", int( self._id_29E8 ) );
}

_id_EDC2( var_0, var_1 )
{
    self._id_2A34 = var_1;
    var_2 = level._id_2A6F._id_2A40[var_0._id_CF15];
    self setclientomnvar( "ui_br_helmet_class", var_2 );

    if ( self._id_2A34 == 3 )
        scripts\mp\utility\perk::_id_6FA5( "specialty_stun_resistance" );

    self setclientomnvar( "ui_br_helmet_damage", 1 );
}

_id_2B6F()
{
    if ( scripts\mp\gametypes\br_public::_id_751E() )
        scripts\mp\gametypes\br_public::_id_42C1( self._id_29E8, 1 );
}

_id_8748( var_0 )
{
    var_1 = 0;

    if ( var_0 == "equip_helmet_1" )
        var_1 = 1;
    else if ( var_0 == "equip_helmet_2" )
        var_1 = 2;
    else if ( var_0 == "equip_helmet_3" )
        var_1 = 3;

    if ( var_1 > 0 )
    {
        if ( !isdefined( self._id_2A34 ) || self._id_2A34 < var_1 )
            return 1;
    }

    return 0;
}

_id_B9D6( var_0, var_1, var_2 )
{
    level endon( "game_ended" );
    var_3 = self gettagorigin( "j_helmet" );

    if ( !isdefined( var_3 ) )
        var_3 = var_2 + ( 0, 0, 80 );

    var_4 = spawn( "script_model", self gettagorigin( "j_helmet" ) );
    var_4 setmodel( "loot_helmet" );
    var_4.angles = var_1;
    var_5 = anglestoup( var_1 );
    var_6 = var_0;
    var_7 = vectornormalize( var_6 + var_5 ) * 2500;
    var_4 physicslaunchserver( var_4.origin, var_7 );
    var_8 = "brloot_armor_helmet_" + self._id_2A34;
    var_9 = 15;
    var_10 = 0.1;
    var_9 = var_9 * ( 1 / var_10 );
    var_11 = var_4.origin;

    for ( var_12 = 0; var_12 < var_9; var_12++ )
    {
        wait( var_10 );
        var_13 = var_11 - var_4.origin;

        if ( var_13[0] < 2 && var_13[1] < 2 && var_13[2] < 2 && var_13[0] > -2 && var_13[1] > -2 && var_13[2] > -2 )
        {
            var_14 = var_4.origin;
            var_15 = var_4.angles;
            var_4 delete();
            var_16 = scripts\mp\gametypes\br_pickups::_id_E333( var_8, var_14, var_15 );
            var_16._id_010E = 1;
            return;
        }

        var_11 = var_4.origin;
    }

    var_4 delete();
}

_id_AAEC( var_0, var_1 )
{
    if ( isdefined( var_0 ) )
        var_0 thread _id_B9D6( var_1, var_0.angles, var_0.origin );
}
