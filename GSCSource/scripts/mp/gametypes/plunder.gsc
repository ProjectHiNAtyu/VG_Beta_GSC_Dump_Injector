// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    level._id_5BB5 = [];
    level._id_4CCA = [];
    _id_4039();
    level thread _id_C520();
    level thread _id_AB46();
}

_id_D645( var_0 )
{
    level._id_B95B = var_0;
}

_id_4039()
{
    level._id_501D = [];
    level._id_501D[0] = spawnstruct();
    level._id_501D[0]._id_B9B0 = 1;
    level._id_501D[0]._id_ED68 = "military_dogtags_iw8_white";
    level._id_501D[1] = spawnstruct();
    level._id_501D[1]._id_B9B0 = 5;
    level._id_501D[1]._id_ED68 = "military_dogtags_iw8_green";
    level._id_501D[2] = spawnstruct();
    level._id_501D[2]._id_B9B0 = 10;
    level._id_501D[2]._id_ED68 = "military_dogtags_iw8_blue";
    level._id_501D[3] = spawnstruct();
    level._id_501D[3]._id_B9B0 = 20;
    level._id_501D[3]._id_ED68 = "military_dogtags_iw8_purple";
    level._id_501D[4] = spawnstruct();
    level._id_501D[4]._id_B9B0 = 40;
    level._id_501D[4]._id_ED68 = "military_dogtags_iw8_orange";
    level._id_501D[5] = spawnstruct();
    level._id_501D[5]._id_B9B0 = 80;
    level._id_501D[5]._id_ED68 = "military_dogtags_iw8_gold";

    if ( scripts\mp\utility\game::getgametype() == "br" || scripts\mp\utility\game::getgametype() == "pill" )
    {
        level._id_501D[0]._id_9C96 = 30;
        level._id_501D[1]._id_9C96 = 30;
        level._id_501D[2]._id_9C96 = 20;
        level._id_501D[3]._id_9C96 = 10;
        level._id_501D[4]._id_9C96 = 10;
        level._id_501D[5]._id_9C96 = 10;
    }
    else
    {
        level._id_501D[0]._id_9C96 = 32;
        level._id_501D[1]._id_9C96 = 8;
        level._id_501D[2]._id_9C96 = 4;
        level._id_501D[3]._id_9C96 = 2;
        level._id_501D[4]._id_9C96 = 1;
        level._id_501D[5]._id_9C96 = 1;
    }

    level._id_501D[0]._id_ED6C = _id_403A( level._id_501D[0] );
    level._id_501D[1]._id_ED6C = _id_403A( level._id_501D[1] );
    level._id_501D[2]._id_ED6C = _id_403A( level._id_501D[2] );
    level._id_501D[3]._id_ED6C = _id_403A( level._id_501D[3] );
    level._id_501D[4]._id_ED6C = _id_403A( level._id_501D[4] );
    level._id_501D[5]._id_ED6C = _id_403A( level._id_501D[5] );
}

_id_403A( var_0 )
{
    var_0._id_4CC7 = [];

    for ( var_1 = 0; var_1 < var_0._id_9C96; var_1++ )
    {
        var_2 = spawn( "script_model", ( 0, 0, 0 ) );
        var_2 setmodel( var_0._id_ED68 );
        var_2 _meth_82CA( "mp_dogtag_spin" );
        var_2 hide();
        var_2 _meth_85A2();
        var_3 = spawn( "trigger_radius", ( 0, 0, 0 ), 0, 32, 32 );
        var_3._id_045A = "trigger_dogtag";
        var_3 hide();
        var_4 = spawnstruct();
        var_4._id_048F = "useObject";
        var_4._id_411F = var_3.origin;
        var_4._id_54F3 = var_3 getentitynumber();
        var_4._id_90A1 = 0;
        var_4._id_1042E = var_2;
        var_4._id_A96B = ( 0, 0, 16 );
        var_4._id_047A = var_3;
        var_4._id_F634 = "proximity";
        var_4 _id_07AD::_id_15B7( "none" );
        var_0._id_4CC7[var_0._id_4CC7.size] = var_4;
    }
}

_id_6D93( var_0 )
{
    var_1 = level._id_501D[var_0]._id_4CC7[0];
    var_2 = gettime();

    foreach ( var_4 in level._id_501D[var_0]._id_4CC7 )
    {
        if ( !isdefined( var_4._id_90A1 ) )
            continue;

        if ( var_4._id_839C == "none" )
        {
            var_1 = var_4;
            break;
        }

        if ( var_4._id_90A1 < var_2 )
        {
            var_2 = var_4._id_90A1;
            var_1 = var_4;
        }
    }

    var_1 notify( "reset" );
    var_1 _id_07AD::_id_81D0();
    var_1._id_90A1 = gettime();
    return var_1;
}

_id_E388( var_0, var_1, var_2, var_3 )
{
    var_4 = var_1 + ( 0, 0, 0 );
    var_5 = ( 0, randomfloat( 360 ), 0 );
    var_6 = anglestoforward( var_5 );

    if ( istrue( var_3 ) )
        var_7 = randomfloatrange( 16, 64 );
    else
        var_7 = 0;

    var_4 = var_4 + var_7 * var_6;
    var_8 = _id_6D93( var_0 );
    var_8._id_411F = var_4;
    var_8._id_047A.origin = var_4;
    var_8._id_1042E.origin = var_4;
    var_8._id_ED75 = var_0;
    var_8._id_047A show();
    var_8 _id_07AD::_id_15B7( "any" );
    var_8._id_1042E _id_DCF1( var_8 );
    var_8._id_1042E _meth_85A2();
    return var_8;
}

_id_5030( var_0, var_1 )
{
    if ( isagent( var_0 ) )
        return;

    if ( scripts\mp\utility\game::getgametype() == "pill" )
        var_0 _id_5047( var_0._id_ED71, var_1 );
    else
    {
        var_2 = scripts\engine\utility::array_contains( level._id_5BB5, var_0 );
        var_3 = 1;

        if ( !var_2 )
        {
            var_3 = 5;
            level._id_5BB5 = scripts\engine\utility::array_add( level._id_5BB5, var_0 );
        }

        var_4 = var_0._id_ED71 + var_3;
        var_0 _id_5047( var_4, var_1 );
    }

    var_0 _id_B792( 0 );
}

_id_5047( var_0, var_1 )
{
    self setclientomnvar( "ui_hvt_value", 0 );
    var_2 = int( var_0 / 80 );
    var_3 = int( var_0 % 80 );
    _id_5049( 5, int( max( 0, var_2 ) ), self, var_1 );
    var_4 = int( var_3 / 40 );
    var_3 = int( var_3 % 40 );
    _id_5049( 4, int( max( 0, var_4 ) ), self, var_1 );
    var_5 = int( var_3 / 20 );
    var_3 = int( var_3 % 20 );
    _id_5049( 3, int( max( 0, var_5 ) ), self, var_1 );
    var_6 = int( var_3 / 10 );
    var_3 = int( var_3 % 10 );
    _id_5049( 2, int( max( 0, var_6 ) ), self, var_1 );
    var_7 = int( var_3 / 5 );
    var_3 = int( var_3 % 5 );
    _id_5049( 1, int( max( 0, var_7 ) ), self, var_1 );
    var_8 = int( var_3 / 1 );
    var_3 = int( var_3 % 1 );
    _id_5049( 0, int( max( 0, var_8 ) ), self, var_1 );
}

_id_5048( var_0, var_1 )
{
    var_2 = int( var_0 / 80 );
    var_3 = int( var_0 % 80 );
    _id_5049( 5, int( max( 0, var_2 ) ), self, var_1 );
    var_4 = int( var_3 / 40 );
    var_3 = int( var_3 % 40 );
    _id_5049( 4, int( max( 0, var_4 ) ), self, var_1 );
    var_5 = int( var_3 / 20 );
    var_3 = int( var_3 % 20 );
    _id_5049( 3, int( max( 0, var_5 ) ), self, var_1 );
    var_6 = int( var_3 / 10 );
    var_3 = int( var_3 % 10 );
    _id_5049( 2, int( max( 0, var_6 ) ), self, var_1 );
    var_7 = int( var_3 / 5 );
    var_3 = int( var_3 % 5 );
    _id_5049( 1, int( max( 0, var_7 ) ), self, var_1 );
    var_8 = int( var_3 / 1 );
    var_3 = int( var_3 % 1 );
    _id_5049( 0, int( max( 0, var_8 ) ), self, var_1 );
}

_id_5049( var_0, var_1, var_2, var_3 )
{
    for ( var_4 = 0; var_4 < var_1; var_4++ )
    {
        var_5 = _id_E388( var_0, var_2.origin, var_2.team, 1 );
        var_5.team = var_2.team;
        level notify( "new_tag_spawned", var_5 );
        var_5._id_103C0 = var_2;
        var_5.attacker = var_3;
        level thread _id_A135( var_5 );
    }
}

_id_B792( var_0 )
{
    if ( !isdefined( self._id_ED71 ) )
        self._id_ED71 = 0;

    if ( isdefined( level._id_B95B ) )
    {
        var_1 = var_0 - self._id_ED71;
        [[ level._id_B95B ]]( var_1 );
    }

    self._id_ED71 = var_0;
    self._id_01DB = var_0;

    if ( scripts\mp\utility\game::getgametype() != "hvt" )
    {
        if ( scripts\mp\utility\game::getgametype() == "pill" )
            self setclientomnvar( "ui_pillage_currency", var_0 );
        else
            self setclientomnvar( "ui_grind_tags", var_0 );
    }

    var_2 = _id_6D94( var_0 );

    if ( scripts\mp\utility\game::getgametype() != "br" && scripts\mp\utility\game::getgametype() != "pill" )
    {
        var_3 = self getentitynumber();

        if ( var_3 < 20 )
            setomnvar( "ui_droploot_inv_" + self getentitynumber(), var_2 );
    }
}

_id_6D94( var_0 )
{
    if ( var_0 == 0 )
        return 0;

    var_1 = int( var_0 / 80 );
    var_2 = int( var_0 % 80 );
    var_3 = int( var_2 / 40 );
    var_2 = int( var_2 % 40 );
    var_4 = int( var_2 / 20 );
    var_2 = int( var_2 % 20 );
    var_5 = int( var_2 / 10 );
    var_2 = int( var_2 % 10 );
    var_6 = int( var_2 / 5 );
    var_2 = int( var_2 % 5 );
    var_7 = int( var_2 / 1 );
    var_2 = int( var_2 % 1 );
    var_8 = var_7 + var_6 * 10 + var_5 * 100 + var_4 * 1000 + var_3 * 10000 + var_1 * 100000;
    return var_8;
}

_id_A109()
{
    self endon( "disconnect" );

    for (;;)
    {
        scripts\engine\utility::waittill_any_2( "joined_team", "joined_spectators" );
        _id_B792( 0 );
    }
}

_id_AB46()
{
    for (;;)
    {
        level waittill( "connected", var_0 );
        var_0._id_89FD = 0;
        var_0 thread _id_A109();
    }
}

_id_A135( var_0 )
{
    level endon( "game_ended" );
    var_0 endon( "deleted" );
    var_0 endon( "reset" );
    wait 2.0;

    for (;;)
    {
        var_0._id_047A waittill( "trigger", var_1 );

        if ( !scripts\mp\utility\player::isreallyalive( var_1 ) )
            continue;

        if ( isdefined( var_1.classname ) && var_1.classname == "script_vehicle" )
            continue;

        if ( isagent( var_1 ) && isdefined( var_1.owner ) )
            var_1 = var_1.owner;

        playsoundatpos( var_0._id_411F, "mp_killconfirm_tags_pickup" );
        var_0._id_1042E hide();
        var_0._id_047A hide();
        var_0._id_411F = ( 0, 0, -1000 );
        var_0._id_047A.origin = ( 0, 0, -1000 );
        var_0._id_1042E.origin = ( 0, 0, -1000 );
        var_0 _id_07AD::_id_15B7( "none" );
        var_2 = level._id_501D[var_0._id_ED75]._id_B9B0;
        var_1 _id_B792( var_1._id_ED71 + var_2 );

        if ( isdefined( level._id_EB96 ) && level._id_EB96 )
        {
            if ( isdefined( var_1._id_3E37 ) && var_1._id_3E37 )
                var_1 _id_0798::_id_D4E1( "kill" );
            else
                var_1 _id_0798::_id_AA7E( undefined, var_1 );
        }

        if ( scripts\mp\utility\game::getgametype() == "hvt" )
            var_1 scripts\mp\gametypes\hvt::_id_ED73();

        break;
    }
}

_id_B660( var_0 )
{
    return 1;
}

_id_DCF1( var_0 )
{
    self hide();

    foreach ( var_2 in level.players )
        self showtoplayer( var_2 );
}

_id_C520()
{
    level waittill( "game_ended" );

    foreach ( var_1 in level.players )
    {
        if ( !isdefined( var_1 ) )
            continue;

        if ( !isdefined( var_1._id_ED71 ) )
            continue;

        var_1._id_ED71 = 0;
    }
}

_id_8201()
{
    var_0 = scripts\engine\utility::_id_6D7C( "loot_cache", "targetname" );
    var_0 = scripts\engine\utility::_id_1B94( var_0 );
    var_1 = var_0.size * 0.5;
    level._id_984F = [];

    if ( 1 )
    {
        for ( var_2 = 0; var_2 < var_1; var_2++ )
            level._id_984F[level._id_984F.size] = _id_3FEE( var_0[var_2].origin, var_0[var_2].angles, -1 );
    }
    else
    {
        var_3 = var_1 * 0.4;
        var_4 = var_1 * 0.1;
        var_5 = 0;

        for ( var_2 = 0; var_2 < var_3; var_2++ )
        {
            level._id_984F[level._id_984F.size] = _id_3FEE( var_0[var_2].origin, var_0[var_2].angles, 1 );
            var_5 = var_2;
        }

        for ( var_2 = var_5 + 1; var_2 < var_4 + var_3; var_2++ )
        {
            level._id_984F[level._id_984F.size] = _id_3FEE( var_0[var_2].origin, var_0[var_2].angles, 3 );
            var_5 = var_2;
        }

        for ( var_2 = var_5 + 1; var_2 < var_1; var_2++ )
            level._id_984F[level._id_984F.size] = _id_3FEE( var_0[var_2].origin, var_0[var_2].angles, 0 );
    }
}

_id_3FEE( var_0, var_1, var_2 )
{
    var_3 = scripts\cp_mp\killstreaks\airdrop::_id_B166( var_2, var_0, var_1 );
    return var_3;
}

_id_3209( var_0 )
{
    var_0 notify( "opened_cache", self );
    var_1 = self._id_432F._id_3BC7;

    if ( var_1 == -1 )
    {
        var_2 = randomint( 90 );

        if ( var_2 <= 20 )
            var_1 = 0;
        else if ( var_2 <= 60 )
            var_1 = 1;
        else if ( var_2 <= 70 )
            var_1 = 3;
        else if ( var_2 <= 80 )
            var_1 = 5;
        else
            var_1 = 4;
    }

    switch ( var_1 )
    {
        case 5:
            break;
        case 0:
            break;
        case 1:
            break;
        case 3:
            break;
        case 4:
            break;
        default:
            _id_5047( 100 );
            break;
    }

    var_0 playlocalsound( "ammo_crate_use" );
}

_id_6D95( var_0 )
{
    return var_0 * randomfloatrange( 0.8, 1.2 );
}

_id_6A69()
{
    var_0 = randomint( level._id_2A6F._id_2A9A.size );
    return level._id_2A6F._id_2A9A[var_0];
}

_id_6AAF()
{
    var_0 = randomint( level._id_2A6F._id_2A9B.size );
    return level._id_2A6F._id_2A9B[var_0];
}

_id_6A57()
{
    return level._id_558A._id_01ED;
}

_id_6897()
{
    if ( !1 )
    {
        var_0 = randomint( level._id_558A._id_16A4.size );
        return level._id_558A._id_16A4[var_0];
    }

    return 105;
}

_id_BD6C( var_0, var_1 )
{
    switch ( var_0 )
    {
        case 0:
            var_1 notify( "cache_common_weapon_found" );
            break;
        case 1:
            var_1 notify( "cache_uncommon_weapon_found" );
            break;
        case 2:
            var_1 notify( "cache_rare_weapon_found" );
            break;
        case 3:
            var_1 notify( "cache_epic_weapon_found" );
            break;
        case 4:
            var_1 notify( "cache_legendary_weapon_found" );
            break;
    }
}

_id_21B2( var_0 )
{
    var_1 = self getplayerdata( "common", "bankedEscapeCurrency" );
    self _meth_8364( "common", "bankedEscapeCurrency", var_1 + var_0 );
}

_id_C5FB()
{
    foreach ( var_1 in level._id_984F )
    {
        if ( isdefined( var_1._id_FE8E ) )
            var_1._id_FE8E _meth_80E0( self );
    }
}
