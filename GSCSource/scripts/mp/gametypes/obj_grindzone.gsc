// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    _id_D876();
}

_id_D876()
{
    level._id_7C59 = "waypoint_bank_";
    level._id_7C27 = "waypoint_scoring_foe_";
    level._id_7C30 = "waypoint_scoring_friend_";
    level._id_7C37 = "waypoint_contested_";
    level._id_7C42 = "waypoint_contested_";
}

_id_D88B( var_0, var_1, var_2 )
{
    var_3 = spawn( "trigger_radius", var_0.origin, 0, 90, 128 );
    var_3._id_CD8C = var_0._id_CD8C;
    var_0 = var_3;
    var_4[0] = spawn( "script_model", var_0.origin );
    var_4[0].angles = var_0.angles;

    if ( isdefined( var_0._id_A8CE ) )
        var_5 = var_0._id_A8CE;
    else
        var_5 = var_0._id_CD8C;

    if ( isdefined( var_0._id_7C58 ) )
        var_6 = var_0._id_7C58;
    else
        var_6 = var_0._id_CD8C;

    if ( istrue( var_1 ) )
        var_7 = _id_6CCE( var_5 );
    else
        var_7 = undefined;

    var_8 = _id_07AD::_id_404C( "neutral", var_0, var_4, ( 0, 0, 90 ), var_1, var_2 );
    var_8 _id_07AD::_id_15B7( "enemy" );
    var_8 _id_07AD::_id_D8C7( level._id_21A5 );
    var_8 _id_07AD::_id_3144( 1 );
    var_8 _id_07AD::_id_A34F( 1 );
    var_8._id_ED72 = 0;
    var_8._id_4A67 = 0;
    var_8._id_A8CE = var_5;
    var_8._id_7C58 = var_6;

    if ( !istrue( var_2 ) )
    {
        var_8 _id_07AD::_id_D8D5( "any" );
        var_8 _id_D608();
        _func_0162( var_8._id_A8F5, &"MP_INGAME_ONLY/PILLAGE_DEPOT_OPEN" );
        var_8 scripts\engine\utility::_id_46C3( 1.0, ::_id_D5FB );
    }

    return var_8;
}

_id_D608()
{
    self._id_AA66 = ::_id_110D7;
    self._id_ABC1 = ::_id_110D9;
    self._id_AAAF = ::_id_110D8;
    self._id_ABB8 = ::_id_110D6;
    self._id_ABB5 = ::_id_110D4;
    self._id_AA7A = ::_id_110D0;
    self._id_ABB4 = ::_id_110D3;
    self._id_7C71 = "domFlag";
    _id_07AD::_id_B0D4();
    self._id_37CF = level._id_21A5 * 1000;
    self._id_0383 = _id_D8A2( self._id_1042E[0].origin, self );
}

_id_6CCE( var_0 )
{
    if ( var_0 == "a" )
        var_1 = 0;
    else
        var_1 = 1;

    return var_1;
}

_id_D8A2( var_0, var_1 )
{
    var_2 = var_0 + ( 0, 0, 32 );
    var_3 = var_0 + ( 0, 0, -32 );
    var_4 = scripts\engine\trace::_id_3EC3( 1, 1, 1, 1, 0, 1, 1 );
    var_5 = [];
    var_6 = scripts\engine\trace::ray_trace( var_2, var_3, var_5, var_4 );
    var_1._id_228F = var_6["position"];
    var_7 = vectortoangles( var_6["normal"] );
    var_1._id_228E = anglestoforward( var_7 );
    var_1._id_228F = _id_5BDD( var_1 );
    var_8 = spawn( "script_model", var_1._id_228F );
    var_8 setmodel( "grind_flag_scriptable" );
    var_8.angles = _func_0305( var_1._id_228E, var_8.angles );
    return var_8;
}

_id_5BDD( var_0 )
{
    var_1 = var_0._id_228F;

    if ( level.mapname == "mp_village2" )
    {
        if ( var_0._id_047A._id_CD8C == "b" )
            var_1 = var_0._id_228F + ( 0, 0, 10 );
    }

    return var_1;
}

_id_0EDC()
{
    self._id_AA66 = undefined;
    self._id_ABC1 = undefined;
    self._id_AAAF = undefined;
    self._id_ABB8 = undefined;
    self._id_ABB5 = undefined;
    self._id_AA7A = undefined;
    self._id_ABB4 = undefined;
}

_id_4371()
{
    self._id_AA66 = undefined;
    self._id_ABC1 = undefined;
    self._id_AAAF = undefined;
    self._id_ABB8 = undefined;
    self._id_ABB5 = undefined;
    self._id_AA7A = undefined;
    self._id_ABB4 = undefined;
}

_id_D5FB()
{
    _id_07AD::_id_D62D( "neutral" );
    _id_D5FC();
    _id_FC61( "idle", 0 );
}

_id_110D7( var_0 )
{
    self._id_4959 = 0;
    thread _id_07AD::_id_FE91( var_0.team );
}

_id_110D9( var_0, var_1, var_2, var_3 )
{
    var_4 = _id_07AD::_id_6BE3();

    if ( var_1 > 0.05 && var_2 && !self._id_4959 )
    {
        if ( !isagent( var_3 ) )
            _id_FC60( var_0 );

        self._id_4959 = 1;
    }
}

_id_110D8( var_0, var_1, var_2 )
{
    var_3 = _id_07AD::_id_6BE3();

    if ( var_3 == "neutral" )
    {
        _id_D5FC();
        _id_FC61( "idle", 0 );
    }
    else
    {
        _id_D707();
        _id_FC61( var_3, 0 );
    }
}

_id_110D6( var_0 )
{
    var_1 = var_0.team;
    var_2 = _id_07AD::_id_6BE3();
    var_3 = scripts\mp\utility\game::_id_6BC3( var_1 )[0];
    var_4 = gettime();
    _id_D707();
    _id_FC61( var_1, 0 );
    _id_07AD::_id_D62D( var_1 );
}

_id_110D4()
{
    _id_D5FC();
    _id_D5FB();
}

_id_110D0()
{
    _id_D4D5();
    _id_FC61( "contested", 0 );
}

_id_110D3( var_0 )
{
    var_1 = _id_07AD::_id_6BE3();

    if ( var_0 == "none" || var_1 == "neutral" )
        _id_D5FC();
    else
        _id_D707();

    var_2 = scripts\engine\utility::ter_op( var_1 == "neutral", "idle", var_1 );
    _id_FC61( var_2, 0 );
}

_id_D4E3( var_0 )
{
    if ( isdefined( level._id_EB96 ) && level._id_EB96 && isdefined( var_0._id_3E37 ) && var_0._id_3E37 )
        var_0 _id_0798::_id_D4E1( "assist" );
}

_id_D5FC()
{
    if ( !isdefined( level._id_ED1F ) )
        _id_07AD::_id_D60F( level._id_7C59 );
}

_id_D707()
{
    _id_07AD::_id_D60F( level._id_7C30, level._id_7C27 );
}

_id_D4D5()
{
    _id_07AD::_id_D60F( level._id_7C42 );
}

_id_FC61( var_0, var_1 )
{
    self._id_0383 setscriptablepartstate( "flag", var_0 );

    if ( !istrue( var_1 ) )
        self._id_0383 setscriptablepartstate( "pulse", "off" );
}

_id_FC60( var_0 )
{
    self._id_0383 setscriptablepartstate( "pulse", var_0 );
}
