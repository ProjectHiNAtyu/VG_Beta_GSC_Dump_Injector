// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_1D6C( var_0 )
{
    return _func_021D( "mp/attachmenttable.csv", 4, var_0, 2 );
}

init()
{
    level._id_CB96 = 1;
    level._id_CB98 = 1;
    level._id_9C79 = max( _id_0A66::_id_6AA9( "scr_maxPerPlayerExplosives", 2 ), 1 );
    level._id_C881 = _id_0A66::_id_6AA9( "scr_riotShieldXPBullets", 15 );
    _func_004D( "DogsDontAttack" );
    _func_004D( "Dogs" );
    _func_01D6( "DogsDontAttack", "Dogs" );

    switch ( _id_0A66::_id_6AA9( "perk_scavengerMode", 0 ) )
    {
        case 1:
            level._id_CB96 = 0;
            break;
        case 2:
            level._id_CB98 = 0;
            break;
        case 3:
            level._id_CB96 = 0;
            level._id_CB98 = 0;
            break;
    }

    _id_2CF2();
    _id_2CD7();
    level._effect["emp_stun"] = loadfx( "vfx/core/mp/equipment/vfx_emp_grenade" );
    level._effect["equipment_explode"] = loadfx( "vfx/iw7/_requests/mp/vfx_generic_equipment_exp.vfx" );
    level._effect["equipment_smoke"] = loadfx( "vfx/core/mp/killstreaks/vfx_sg_damage_blacksmoke" );
    level._effect["equipment_sparks"] = loadfx( "vfx/core/mp/killstreaks/vfx_sentry_gun_explosion" );
    level._effect["glsmoke"] = loadfx( "vfx/iw8_mp/equipment/smoke_grenade/vfx_smoke_gren_ch" );
    level._effect["vfx_dismember"] = loadfx( "vfx/s4/weapon/_impact/flesh/vfx_imp_flesh_dismember.vfx" );
    _id_0A67::_id_B153();
    level._id_10D6D = [];

    if ( !isdefined( level._id_10D7B ) )
        level._id_10D7B = ::_id_5055;

    var_0 = 25;
    level._id_E83E = cos( var_0 );
    level._id_E840 = 15;
    level._id_E83F = 0.35;
    level._id_E841 = 256;
    level._id_9EC0 = 0.3;
    level._id_BCBD = [];
    level._id_DD11 = [];
    level._id_711D = [];
    level._id_9F3E = [];
    level._id_84E3 = [];
    level._id_9ECB = [];
    _id_0A7A::_id_C27F( ::_id_AB65 );
    level thread _id_AB46();
    scripts\mp\utility\outline::_id_8234();
    _id_7F72();

    if ( getdvarint( "perk_graverobber_enabled" ) == 1 )
        level thread _id_CB43();
}

_id_CB43()
{
    for (;;)
    {
        if ( isdefined( level.players ) )
        {
            foreach ( var_1 in level.players )
            {
                if ( !isdefined( var_1 ) )
                    continue;

                if ( var_1 scripts\mp\utility\perk::_hasperk( "specialty_scrap_weapons" ) )
                {
                    var_2 = var_1 getcurrentweapon();
                    var_1 getcurrentweapon();

                    if ( !isdefined( var_2 ) )
                        continue;

                    if ( !isdefined( var_1._id_7100 ) )
                    {
                        var_1._id_7100 = spawnstruct();
                        var_1._id_7100 = spawnstruct();
                        var_1._id_7100 = spawnstruct();
                    }

                    if ( isdefined( var_1._id_7100._id_0122 ) && var_1._id_7100._id_0122._id_04CE.basename != "none" && var_1._id_7100._id_0122._id_04CE != var_2 )
                    {
                        var_1._id_7100._id_90AF = var_1._id_7100._id_0122;
                        var_1._id_7100._id_0122 = spawnstruct();
                    }

                    var_1._id_7100._id_0122 = spawnstruct();
                    var_1._id_7100._id_0122._id_04CE = var_2;
                    var_1._id_7100._id_0122._id_C850 = var_1 getweaponammoclip( var_2, "right" );
                    var_1._id_7100._id_0122._id_917F = var_1 getweaponammoclip( var_2, "left" );
                    var_1._id_7100._id_0122._id_E865 = var_1 getweaponammostock( var_2 );
                    continue;
                }

                var_1._id_7100 = undefined;
            }
        }

        waitframe();
    }
}

_id_5252( var_0 )
{
    self _meth_81AE( var_0 );
}

_id_AB46()
{
    for (;;)
    {
        level waittill( "connected", var_0 );
        var_0._id_799A = 0;
        scripts\mp\gamelogic::_id_D580( var_0, 0 );
        var_0 thread _id_10BAC();
    }
}

_id_10AAD()
{
    self endon( "death_or_disconnect" );
    self endon( "joined_spectators" );
    self endon( "faux_spawn" );
    level endon( "game_ended" );

    for (;;)
    {
        self setscriptablepartstate( "bayoConfig", "al_0", 1 );
        var_0 = self getcurrentweapon();

        if ( isdefined( var_0 ) )
            _id_4C27( var_0 );

        self waittill( "weapon_change" );
    }
}

_id_4C27( var_0 )
{
    _id_FD8F( var_0 );
    _id_FC9F( var_0 );
    _id_FCA0();
    _id_FD2C( var_0 );
    _id_FD8C();
    _id_0A42::_id_FC4B();
    _id_07A5::_id_FD87();
    scripts\mp\class::_id_C87E( var_0 );
    _id_0A42::_id_FD88();
}

_id_FD8C()
{
    self._id_BC5E = _id_4E8B( self._id_BC5E );
}

_id_FD2C( var_0 )
{
    if ( _id_DFAF( var_0 ) )
        childthread _id_DFAD();
}

_id_FC51( var_0 )
{
    self notify( "end_dragBreath" );

    if ( scripts\mp\utility\weapon::_id_6E59( var_0 ) == "weapon_shotgun" || var_0 _meth_8622( "ammo_incendiary" ) )
    {
        if ( _id_0763::_id_87F5( var_0 ) )
            thread _id_0763::_id_816A( var_0 );
    }
}

_id_FCA0()
{
    var_0 = self getcurrentweapon();

    switch ( var_0.basename )
    {
        default:
            break;
    }

    self notify( "end_launcher" );

    if ( scripts\mp\utility\perk::_hasperk( "specialty_fastreload_launchers" ) )
    {
        var_1 = weaponclass( var_0.basename ) == "rocketlauncher";

        if ( var_1 && !istrue( self._id_599E ) )
        {
            scripts\mp\utility\perk::_id_6FA5( "specialty_fastreload" );
            self._id_599E = 1;
        }
        else if ( istrue( self._id_599E ) )
        {
            scripts\mp\utility\perk::removeperk( "specialty_fastreload" );
            self._id_599E = undefined;
        }
    }

    switch ( var_0.basename )
    {
        default:
            break;
    }
}

_id_FC9F( var_0 )
{
    var_1 = var_0 _meth_8626();

    if ( isnullweapon( var_1 ) )
        var_1 = var_0;

    self._id_90B4 = var_0;

    if ( _id_8935( var_0 ) )
        self._id_900A = var_0;

    if ( _id_87F9( var_1 ) )
        self._id_8FAB = var_1;

    if ( scripts\mp\utility\weapon::_id_877F( var_0 ) )
        self._id_8F88 = var_0;
}

_id_FD8F( var_0 )
{
    if ( var_0.basename == "none" )
        return;
    else if ( scripts\mp\utility\weapon::_id_8A63( var_0.basename ) )
    {
        _id_FCCA();
        return;
    }
    else if ( scripts\mp\utility\weapon::_id_88DC( var_0.basename ) )
        return;
    else if ( var_0._id_0226 != "primary" && var_0._id_0226 != "altmode" )
        return;

    _id_FCCA();
}

_id_AB65()
{
    self._id_799A = 0;
    scripts\mp\gamelogic::_id_D580( self, 0 );

    if ( !isdefined( self._id_F40C ) )
    {
        self._id_F40C = _func_0370();
        self._id_F411 = 0;
        self._id_F410 = 0;
        self._id_F40F = 0;
        self._id_F40E = 0;
        self._id_F40D = 0;
    }

    if ( !isdefined( self._id_B1BB ) )
        self._id_B1BB = [];

    if ( !isdefined( self._id_B1BD ) )
        self._id_B1BD = [];

    if ( !isdefined( self._id_B1BC ) )
        self._id_B1BC = [];

    if ( !isdefined( self._id_B1B9 ) )
        self._id_B1B9 = [];

    self._id_BC5E = undefined;
    thread _id_10AAD();
    thread _id_10C30();
    thread _id_10B73();
    thread _id_10ADB();
    thread _id_10BFE();
    thread _id_10BFB();

    if ( !scripts\mp\utility\game::_id_CA3E() )
        thread _id_10AD1();

    self._id_8FDA = [];
    self._id_5026 = undefined;
    self._id_F339 = [];
    self._id_900A = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_90B4 = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_8FAB = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_8F88 = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ) && scripts\mp\utility\weapon::_id_877F( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    scripts\mp\gamescore::_id_8127();
    var_0 = _func_00ED( self getcurrentweapon() );
    thread _id_CA1B( var_0 );
}

_id_CB32()
{
    self.pers["altStates"] = [];
    var_0 = self._id_0324;

    foreach ( var_2 in var_0 )
    {
        if ( !_func_0371( self.primaryweaponobj ) && var_2 == self.primaryweaponobj || !_func_0371( self.secondaryweaponobj ) && var_2 == self.secondaryweaponobj )
        {
            if ( _id_DC0F( var_2 ) && self _meth_8542( var_2, 1 ) )
            {
                var_3 = scripts\mp\utility\weapon::_id_6962( var_2 );
                self.pers["altStates"][var_3] = 1;
            }
        }
    }
}

_id_CB47()
{
    self.pers["toggleScopeStates"] = [];
    var_0 = self._id_0324;

    foreach ( var_2 in var_0 )
    {
        if ( !_func_0371( self.primaryweaponobj ) && var_2 == self.primaryweaponobj || !_func_0371( self.secondaryweaponobj ) && var_2 == self.secondaryweaponobj )
        {
            if ( isdefined( var_2._id_0363 ) && _id_8A8B( var_2._id_0363 ) )
            {
                var_3 = scripts\mp\utility\weapon::_id_6962( var_2 );
                self.pers["toggleScopeStates"][var_3] = self _meth_813C( var_2 );
            }
        }
    }
}

_id_FD67( var_0 )
{
    var_1 = scripts\mp\utility\weapon::_id_6962( var_0 );

    if ( isdefined( self.pers["toggleScopeStates"] ) && isdefined( self.pers["toggleScopeStates"][var_1] ) )
        self _meth_832E( var_0, self.pers["toggleScopeStates"][var_1] );
}

_id_FD13( var_0 )
{
    if ( isdefined( self.pers["altStates"] ) && istrue( var_0._id_01FC ) )
    {
        var_1 = scripts\mp\utility\weapon::_id_6962( var_0 );

        if ( isdefined( self.pers["altStates"][var_1] ) && self.pers["altStates"][var_1] )
            var_0 = var_0 getaltweapon();
    }

    return var_0;
}

_id_8A8B( var_0 )
{
    var_1 = scripts\mp\utility\weapon::_id_1D7D( var_0 );

    switch ( var_1 )
    {
        case "hybrid3light":
        case "hybrid2light":
        case "hybridlight":
        case "hybrid4":
        case "hybrid3":
        case "hybrid2":
        case "hybrid":
            return 1;
        default:
            return 0;
    }
}

_id_DC0F( var_0 )
{
    if ( istrue( var_0._id_01FC ) )
    {
        if ( _id_DAFA( var_0._id_0490 ) )
            return 1;
    }

    return 0;
}

_id_DAFA( var_0 )
{
    return _id_8752( var_0 );
}

_id_8752( var_0 )
{
    var_1 = scripts\mp\utility\weapon::_id_1D7D( var_0 );

    switch ( var_1 )
    {
        case "selectauto":
        case "selectburst":
        case "selectsemi":
            return 1;
        default:
            return 0;
    }
}

_id_8751( var_0 )
{
    var_1 = scripts\mp\utility\weapon::_id_1D7D( var_0 );

    switch ( var_1 )
    {
        case "glgas":
        case "glsmoke":
        case "glsnap":
        case "glsemtex":
        case "glincendiary":
        case "gl":
        case "glflash":
        case "glconc":
            return 1;
        default:
            return 0;
    }
}

_id_10DBC( var_0, var_1 )
{
    if ( !_func_0371( var_1 ) )
    {
        var_2 = scripts\mp\utility\weapon::getweaponrootname( var_1.basename );
        var_3 = scripts\mp\utility\weapon::_id_10DBB( var_2 );

        if ( isdefined( var_3 ) )
            scripts\mp\utility\perk::removeperk( var_3 );
    }

    if ( !_func_0371( var_0 ) )
    {
        var_4 = scripts\mp\utility\weapon::getweaponrootname( var_0.basename );
        var_5 = scripts\mp\utility\weapon::_id_10DBB( var_4 );

        if ( isdefined( var_5 ) )
            scripts\mp\utility\perk::_id_6FA5( var_5 );
    }
}

_id_10D61( var_0, var_1 )
{
    var_2 = undefined;
    var_3 = undefined;

    if ( !_func_0371( var_1 ) )
    {
        var_3 = getweaponattachments( var_1 );

        if ( isdefined( var_3 ) && var_3.size > 0 )
        {
            foreach ( var_5 in var_3 )
            {
                var_6 = scripts\mp\utility\weapon::_id_1D85( var_5 );

                if ( !isdefined( var_6 ) )
                    continue;

                scripts\mp\utility\perk::removeperk( var_6 );
            }
        }
    }

    if ( !_func_0371( var_0 ) )
    {
        var_2 = getweaponattachments( var_0 );

        if ( isdefined( var_2 ) && var_2.size > 0 )
        {
            foreach ( var_9 in var_2 )
            {
                var_6 = scripts\mp\utility\weapon::_id_1D85( var_9 );

                if ( !isdefined( var_6 ) )
                    continue;

                scripts\mp\utility\perk::_id_6FA5( var_6 );
            }
        }
    }
}

_id_4E8B( var_0 )
{
    var_1 = self getcurrentweapon();
    _id_10D61( var_1, var_0 );
    _id_10DBC( var_1, var_0 );
    return var_1;
}

_id_10C2C()
{
    self endon( "death_or_disconnect" );
    self endon( "faux_spawn" );
    self endon( "giveLoadout_start" );
    var_0 = undefined;

    for (;;)
    {
        var_0 = _id_4E8B( var_0 );
        self waittill( "weapon_change" );
    }
}

_id_10BFB()
{
    self endon( "death_or_disconnect" );

    for (;;)
    {
        var_0 = self getcurrentweapon();

        if ( _id_DFAF( var_0 ) )
            childthread _id_DFAD();

        self waittill( "weapon_change" );
    }
}

_id_DFA7( var_0 )
{
    return scripts\mp\utility\weapon::_id_10D98( var_0, "scope" ) && !issubstr( var_0.basename, "alpha50" ) && !issubstr( var_0.basename, "mike14" );
}

_id_DFAF( var_0 )
{
    if ( isnullweapon( var_0 ) || !isdefined( var_0._id_0363 ) || weaponclass( var_0 ) == "rocketlauncher" || weaponclass( var_0 ) == "smg" )
        return 0;

    var_1 = scripts\mp\utility\weapon::_id_1D7D( var_0._id_0363 );

    switch ( var_1 )
    {
        case "vzscope":
        case "scopenorail":
        case "scope":
            return 1;
    }

    return 0;
}

_id_DFAD()
{
    self notify( "manageSniperGlint" );
    self endon( "manageSniperGlint" );
    self endon( "weapon_change" );
    waitframe();
    thread _id_DFAC();
    self._id_701A = 0;

    if ( self._id_0122 _meth_8622( "gunperk_shrouded" ) )
        var_0 = 0.95;
    else
        var_0 = 0.5;

    for (;;)
    {
        if ( self playerads() > var_0 )
        {
            if ( !self._id_701A )
                _id_DFAB();
        }
        else if ( self._id_701A )
            _id_DFAE();

        waitframe();
    }
}

_id_DFAC()
{
    scripts\engine\utility::waittill_any_2( "death_or_disconnect", "weapon_change" );

    if ( isdefined( self._id_701A ) && self._id_701A )
    {
        _id_DFAE();
        self._id_701A = undefined;
    }
}

_id_DFAB()
{
    var_0 = self _meth_86E8();

    if ( self._id_0122 _meth_8622( "gunperk_shrouded" ) )
        self setscriptablepartstate( "sniperGlint", "sniperGlintOn_narrow", 0 );
    else
        self setscriptablepartstate( "sniperGlint", "sniperGlintOn", 0 );

    self._id_701A = 1;
}

_id_DFAE()
{
    if ( isdefined( self ) )
    {
        self setscriptablepartstate( "sniperGlint", "sniperGlintOff", 0 );
        self._id_701A = 0;
    }
}

_id_DFA4( var_0 )
{
    self endon( "weapon_change" );
    self._id_DFA8 = 0;

    for (;;)
    {
        if ( self playerads() > 0.65 && !self._id_DFA8 )
            thread _id_DFA5( var_0 );
        else if ( self playerads() <= 0.65 )
            _id_DFA6();

        waitframe();
    }
}

_id_DFA5( var_0 )
{
    self notify( "sniperBlurReset" );
    self endon( "sniperBlurReset" );
    self._id_DFA8 = 1;
    self _meth_82ED( 25, 0.1 );
    wait 0.1;
    self _meth_82ED( 0, _id_6D19( var_0 ) );
}

_id_DFA6()
{
    self notify( "sniperBlurReset" );
    self _meth_82ED( 0, 0 );
    self._id_DFA8 = 0;
}

_id_6D19( var_0 )
{
    var_1 = 0.3;

    switch ( var_0.basename )
    {
        default:
            break;
    }

    return var_1;
}

_id_10BF9()
{
    self endon( "death_or_disconnect" );
    thread _id_10BFA();

    if ( !isdefined( self.pers["recoilReduceKills"] ) )
        self.pers["recoilReduceKills"] = 0;

    self setclientomnvar( "weap_sniper_display_state", self.pers["recoilReduceKills"] );

    for (;;)
    {
        self waittill( "got_a_kill", var_0, var_1, var_2 );
        var_3 = makeweaponfromstring( var_1 );

        if ( _id_89D6( var_3 ) )
        {
            var_4 = self.pers["recoilReduceKills"] + 1;
            self.pers["recoilReduceKills"] = int( min( var_4, 4 ) );
            self setclientomnvar( "weap_sniper_display_state", self.pers["recoilReduceKills"] );

            if ( var_4 <= 4 )
                _id_E580( self getstance() );
        }
    }
}

_id_10BFA()
{
    self notify( "watchSniperBoltActionKills_onDeath" );
    self endon( "watchSniperBoltActionKills_onDeath" );
    self endon( "disconnect" );
    self waittill( "death" );
    self.pers["recoilReduceKills"] = 0;
}

_id_89D6( var_0 )
{
    if ( !isdefined( var_0 ) || isnullweapon( var_0 ) )
        return 0;

    var_1 = 0;

    if ( var_0 _meth_8622( "l115a3scope", 1 ) || var_0 _meth_8622( "l115a3vzscope", 1 ) || var_0 _meth_8622( "usrscope", 1 ) || var_0 _meth_8622( "usrvzscope", 1 ) )
        var_1 = 1;

    return var_1;
}

_id_6CC7()
{
    if ( !isdefined( self.pers["recoilReduceKills"] ) )
        self.pers["recoilReduceKills"] = 0;

    return self.pers["recoilReduceKills"] * 3;
}

_id_8873( var_0 )
{
    if ( var_0 == "radar_mp" || var_0 == "airstrike_mp" || var_0 == "helicopter_mp" )
        return 1;

    if ( var_0 == "briefcase_bomb_mp" || var_0 == "s4_bomb_remote_mp" )
        return 1;

    return 0;
}

_id_8844( var_0 )
{
    var_0 = scripts\mp\utility\weapon::getweaponrootname( var_0 );
    return 0;
}

_id_876C( var_0 )
{
    return var_0 == "briefcase_bomb_mp" || var_0 == "briefcase_bomb_defuse_mp" || var_0 == "briefcase_silent_mp" || var_0 == "briefcase_defuse_silent_mp" || var_0 == "s4_bomb_remote_mp" || var_0 == "s4_bomb_remote_silent_mp" || var_0 == "s4_remote_bomb_defuse_mp" || var_0 == "s4_remote_bomb_defuse_silent_mp";
}

_id_5055( var_0, var_1, var_2, var_3 )
{
    if ( isdefined( level._id_2582 ) )
        return;

    if ( isdefined( self._id_5026 ) )
        return;

    if ( isdefined( var_0 ) && var_0 == self || var_1 == "MOD_SUICIDE" )
        return;

    var_4 = self._id_8FAB;

    if ( isdefined( var_2 ) )
        var_4 = var_2;

    if ( !isdefined( var_4 ) )
        return;

    if ( var_4.basename == "none" )
        return;

    if ( !self hasweapon( var_4 ) )
        return;

    if ( isdefined( level._id_60B1 ) && !self [[ level._id_60B1 ]]( var_4 ) )
        return;

    var_4 = var_4 _meth_8626();
    var_5 = 0;
    var_6 = 0;
    var_7 = 0;

    if ( !_id_07E2::_id_89EF( var_4.basename ) )
    {
        if ( !self _meth_801C( var_4 ) )
            return;

        var_5 = self getweaponammoclip( var_4, "right" );
        var_6 = self getweaponammoclip( var_4, "left" );

        if ( !var_5 && !var_6 )
            return;

        var_7 = self getweaponammostock( var_4 );
        var_8 = weaponmaxammo( var_4 );

        if ( var_7 > var_8 )
            var_7 = var_8;

        var_9 = self dropitem( var_4 );

        if ( !isdefined( var_9 ) )
            return;

        if ( istrue( level._id_3961 ) )
            var_7 = 0;

        var_9 _meth_81F5( var_5, var_7, var_6 );

        if ( var_1 != "MOD_EXECUTION" )
            thread scripts\cp_mp\utility\weapon_utility::_id_5056( var_9, var_3, self.angles );
    }
    else
    {
        var_9 = self dropitem( var_4 );

        if ( !isdefined( var_9 ) )
            return;

        var_9 _meth_81F5( 1, 1, 0 );
    }

    var_9 _meth_84D3( 160 );
    var_9 setuserange( 160 );
    self._id_5026 = 1;
    var_9.owner = self;
    var_9._id_045A = "dropped_weapon";
    var_9.objweapon = var_4;
    var_9 thread _id_10BCD();
    var_9 thread _id_4762();
}

_id_5E77( var_0 )
{
    if ( isdefined( level._id_2582 ) )
        return 0;

    if ( isdefined( self._id_5026 ) )
        return 0;

    var_1 = self._id_8FAB;

    if ( isdefined( var_0 ) )
        var_1 = var_0;

    if ( !isdefined( var_1 ) )
        return 0;

    if ( var_1.basename == "none" )
        return 0;

    if ( !self hasweapon( var_1 ) )
        return -1;

    if ( isdefined( level._id_60B1 ) && !self [[ level._id_60B1 ]]( var_1 ) )
        return 0;

    var_1 = var_1 _meth_8626();
    var_2 = 0;
    var_3 = 0;
    var_4 = 0;

    if ( !_id_07E2::_id_89EF( var_1.basename ) )
    {
        if ( !self _meth_801C( var_1 ) )
            return 0;

        var_2 = self getweaponammoclip( var_1, "right" );
        var_3 = self getweaponammoclip( var_1, "left" );

        if ( !var_2 && !var_3 )
            return 0;

        var_4 = self getweaponammostock( var_1 );
        var_5 = weaponmaxammo( var_1 );

        if ( var_4 > var_5 )
            var_4 = var_5;

        var_6 = self dropitem( var_1 );

        if ( !isdefined( var_6 ) )
            return 0;

        if ( istrue( level._id_3961 ) )
            var_4 = 0;

        var_6 _meth_81F5( var_2, var_4, var_3 );
    }
    else
    {
        var_6 = self dropitem( var_1 );

        if ( !isdefined( var_6 ) )
            return 0;

        var_6 _meth_81F5( 1, 1, 0 );
    }

    var_6 _meth_84D3( 160 );
    var_6 setuserange( 160 );
    var_6.owner = self;
    var_6._id_045A = "dropped_weapon";
    var_6.objweapon = var_1;
    var_6 thread _id_10BCD();
    var_6 thread _id_4762();
    return 1;
}

_id_486C( var_0, var_1 )
{
    var_2 = self _meth_8117();

    for ( var_3 = 0; var_3 < var_2; var_3++ )
    {
        var_4 = self _meth_8115( var_3 );

        if ( var_4 != var_0 )
            continue;

        var_5 = self _meth_8118( var_3 );
        self detach( var_0, var_5 );

        if ( var_5 != var_1 )
        {
            var_2 = self _meth_8117();

            for ( var_3 = 0; var_3 < var_2; var_3++ )
            {
                var_5 = self _meth_8118( var_3 );

                if ( var_5 != var_1 )
                    continue;

                var_0 = self _meth_8115( var_3 );
                self detach( var_0, var_5 );
                break;
            }
        }

        return 1;
    }

    return 0;
}

_id_4762()
{
    self endon( "death" );
    wait 60;

    if ( !isdefined( self ) )
        return;

    self delete();
}

_id_6AB1()
{
    var_0 = self.classname;
    var_1 = _func_00D6( var_0, 7 );
    return var_1;
}

_id_10BCD()
{
    self endon( "death" );
    var_0 = _id_6AB1();

    for (;;)
    {
        self waittill( "trigger", var_1, var_2 );
        var_3 = undefined;
        var_4 = isdefined( level._id_427B ) && isdefined( level._id_427B._id_32AF ) && level._id_427B._id_32AF == var_1;
        var_5 = scripts\mp\utility\game::getgametype() == "cyber" && ( isdefined( var_2 ) || var_4 );

        if ( var_5 )
        {
            var_6 = var_1 scripts\cp_mp\utility\inventory_utility::_id_698A();

            if ( var_6.size > 2 )
            {
                var_7 = 0;
                var_8 = 0;

                foreach ( var_10 in var_6 )
                {
                    if ( var_10.basename == "iw8_cyberemp_mp" )
                        var_7 = 1;

                    if ( var_10.basename == "s4_knifestab_mp" )
                        var_8 = 1;
                }

                var_12 = undefined;

                if ( isdefined( var_1._id_0326 ) && var_1._id_0326 != "iw8_cyberemp_mp" )
                {
                    var_3 = var_1._id_0326;
                    var_12 = var_1.primaryweaponobj;
                }
                else if ( isdefined( var_1._id_038F ) && var_1._id_038F != "iw8_cyberemp_mp" )
                {
                    var_3 = var_1._id_038F;
                    var_12 = var_1.secondaryweaponobj;
                }

                var_13 = var_6.size;

                if ( var_8 )
                    var_13--;

                if ( !var_7 || var_13 > 3 )
                {
                    var_14 = undefined;

                    if ( var_12.basename != "none" )
                        var_14 = var_12;

                    var_15 = var_1 _id_5E77( var_14 );

                    if ( var_4 )
                    {
                        var_1 scripts\common\utility::_id_156B( 0 );
                        var_1 scripts\common\utility::_id_1569( 0 );
                        var_1 scripts\common\utility::_id_1562( 0 );
                        var_1 thread _id_10867( var_15 == 0 );
                    }

                    if ( var_15 == 1 )
                    {

                    }
                    else if ( var_15 == 0 )
                    {
                        if ( var_4 )
                        {
                            var_1 scripts\common\utility::_id_1562( 1 );
                            var_1 scripts\common\utility::_id_156B( 1 );
                            var_1 scripts\common\utility::_id_1569( 1 );
                        }

                        return;
                    }
                    else if ( var_15 == -1 )
                    {

                    }
                }
            }
            else if ( var_4 )
            {
                var_1 scripts\common\utility::_id_156B( 0 );
                var_1 scripts\common\utility::_id_1569( 0 );
                var_1 scripts\common\utility::_id_1562( 0 );
                var_1 thread _id_10867();
            }
            else if ( isdefined( var_2 ) )
                var_3 = var_1._id_8FAB;
            else
                var_3 = var_1 getcurrentweapon();
        }
        else if ( isdefined( var_2 ) )
            var_3 = var_1._id_8FAB;
        else
            var_3 = var_1 getcurrentweapon();

        var_16 = var_1 scripts\mp\utility\perk::_hasperk( "specialty_scrap_weapons" ) && getdvarint( "perk_graverobber_enabled" ) == 1;
        var_1 thread _id_10BCE( self.objweapon, var_3, var_16 );
        var_1 notify( "weapon_pickup", self.objweapon );

        if ( isdefined( var_2 ) )
        {
            var_1._id_90B5 = gettime();
            var_1 _id_0A7B::_id_7D93( "weaponPickups", 1 );
        }

        var_17 = _id_5BDC( var_1, var_0 );

        if ( isdefined( var_2 ) && var_16 )
            var_2 delete();

        if ( isdefined( var_2 ) || var_17 )
            break;
    }

    if ( isdefined( var_2 ) )
    {
        var_18 = var_2 _id_6AB1();
        var_19 = makeweaponfromstring( var_18 );

        if ( isdefined( var_1._id_F339[var_18] ) )
        {
            var_2.owner = var_1._id_F339[var_18];
            var_1._id_F339[var_18] = undefined;
        }

        var_2.objweapon = var_19;
        var_2._id_045A = "dropped_weapon";
        var_2 thread _id_10BCD();
    }

    var_1._id_F339[var_0] = self.owner;
}

_id_10867( var_0 )
{
    self endon( "death_or_disconnect" );
    self notify( "cancelGiveEmp" );
    self endon( "cancelGiveEmp" );

    while ( isdefined( self._id_0122.basename ) && self._id_0122.basename == "none" )
        waitframe();

    scripts\cp_mp\utility\inventory_utility::_giveweapon( "iw8_cyberemp_mp" );

    if ( !istrue( var_0 ) )
    {
        scripts\common\utility::_id_1562( 1 );
        scripts\common\utility::_id_156B( 1 );
        scripts\common\utility::_id_1569( 1 );
    }
}

_id_10BCE( var_0, var_1, var_2 )
{
    self endon( "death_or_disconnect" );
    self notify( "watchPickupComplete()" );
    self endon( "watchPickupComplete()" );
    var_3 = self._id_0122;
    var_4 = 0;

    if ( var_3 == var_0 )
        var_4 = 1;
    else
    {
        for (;;)
        {
            waitframe();
            var_5 = self._id_0122;

            if ( issameweapon( var_3, var_5, 0 ) )
                continue;

            if ( issameweapon( var_0, var_5, 0 ) )
                var_4 = 1;
            else
                var_4 = 0;

            break;
        }
    }

    if ( var_4 )
    {
        if ( var_0.basename == "iw8_lm_dblmg_mp" )
            _id_0A27::_id_8C6C( var_0, var_1 );

        thread _id_A6A5();

        if ( isdefined( level._id_ABC8 ) )
            [[ level._id_ABC8 ]]( var_0 );
        else if ( var_2 )
            thread _id_FE72( var_0, var_1 );
    }
}

_id_FE72( var_0, var_1 )
{
    if ( isdefined( var_1 ) )
    {
        scripts\cp_mp\utility\inventory_utility::_takeweapon( var_0 );
        var_2 = var_1;
        var_3 = getrandomgraverobberattachment( var_1 );

        if ( isdefined( var_3 ) )
        {
            var_4 = getweaponattachments( var_1 );

            foreach ( var_7, var_6 in var_4 )
            {
                if ( !scripts\mp\utility\weapon::_id_1D89( var_6, var_3 ) )
                    var_4[var_7] = undefined;
            }

            var_4 = scripts\engine\utility::_id_1BA9( var_4 );
            var_4[var_4.size] = var_3;
            var_2 = var_1 _meth_8669( var_4 );
        }

        var_8 = scripts\mp\utility\weapon::getweaponfullname( var_2 );
        scripts\cp_mp\utility\inventory_utility::_giveweapon( var_2 );
        self _meth_84A0( var_8 );
        scripts\cp_mp\utility\inventory_utility::_switchtoweaponimmediate( var_8 );
        _id_5BDC( self, var_8 );
        self setweaponammoclip( var_2, self._id_7100._id_90AF._id_C850, "right" );
        self setweaponammoclip( var_2, self._id_7100._id_90AF._id_917F, "left" );
        self setweaponammostock( var_2, self._id_7100._id_90AF._id_E865 );
        var_9 = self getweaponslistprimaries();

        foreach ( var_11 in var_9 )
            _id_10FD( self, var_11, 0.5 );

        if ( isdefined( var_3 ) )
        {
            wait 0.05;
            var_4 = getweaponattachments( var_2 );
            var_13 = scripts\engine\utility::_id_1B83( var_4, var_3 );

            if ( !isdefined( var_13 ) )
                var_13 = 0;

            self setclientomnvar( "ui_weapon_pickup", var_13 + 1 );
            self playlocalsound( "attachment_pickup" );
        }
    }
}

getrandomgraverobberattachment( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
        return undefined;

    var_2 = scripts\mp\utility\weapon::getweaponrootname( var_0 );
    var_3 = getweaponattachments( var_0 );
    var_4 = [];

    if ( isdefined( var_1 ) && var_1.size > 0 )
        var_4 = var_1;
    else
        var_4 = scripts\mp\utility\weapon::_id_688D( var_2 );

    if ( !isdefined( var_4 ) )
        return undefined;

    foreach ( var_8, var_6 in var_3 )
    {
        var_7 = scripts\mp\utility\weapon::_id_1D7D( var_6 );

        if ( !scripts\mp\utility\weapon::_id_1D73( var_0, var_7 ) )
        {
            var_3[var_8] = undefined;
            continue;
        }
    }

    var_4 = scripts\engine\utility::_id_1B7A( var_4 );
    var_4 = scripts\engine\utility::_id_1B94( var_4 );

    foreach ( var_10 in var_4 )
    {
        if ( !_id_8865( var_2, var_10 ) )
            continue;

        var_11 = 0;

        foreach ( var_6 in var_3 )
        {
            if ( scripts\mp\utility\weapon::_id_1D8A( var_6, var_10, var_0 ) != "" )
            {
                var_11 = 1;
                break;
            }
        }

        if ( var_11 )
            continue;

        return var_10;
    }

    return undefined;
}

addattachmenttoweapon( var_0, var_1 )
{
    var_2 = _func_02F2( var_0 );
    var_0 = var_0 _meth_8626();
    var_3 = var_0._id_006C;
    var_4 = [];
    var_5 = [];

    foreach ( var_9, var_7 in var_3 )
    {
        var_8 = scripts\mp\utility\weapon::_id_1D7D( var_9 );
        var_5[var_5.size] = var_8;
        var_4[var_8] = var_7;
    }

    var_10 = 0;

    if ( scripts\engine\utility::array_contains( var_5, var_1 ) )
        var_10 = 1;
    else
    {
        var_11 = scripts\mp\utility\weapon::_id_1D81( var_1, var_0 );

        if ( !var_0 _meth_8627( var_11 ) )
            var_10 = 1;
    }

    if ( var_10 )
        return undefined;

    var_5 = scripts\mp\utility\weapon::_id_10D63( var_5 );
    var_12 = [];

    foreach ( var_14, var_9 in var_5 )
        var_12[var_14] = var_4[var_9];

    var_5[var_5.size] = var_1;
    var_12[var_12.size] = 0;
    var_15 = var_0._id_00CA;
    var_16 = [];

    if ( isdefined( var_0._id_03E2 ) )
        var_16[var_16.size] = var_0._id_03E2;

    if ( isdefined( var_0._id_03E3 ) )
        var_16[var_16.size] = var_0._id_03E3;

    if ( isdefined( var_0._id_03E4 ) )
        var_16[var_16.size] = var_0._id_03E4;

    if ( isdefined( var_0._id_03E5 ) )
        var_16[var_16.size] = var_0._id_03E5;

    var_17 = scripts\cp_mp\utility\game_utility::isnightmap();
    var_0 = scripts\mp\class::buildweapon( scripts\mp\utility\weapon::getweaponrootname( var_0 ), var_5, var_15, "none", var_2, var_12, undefined, var_16, var_17 );
    return var_0;
}

_id_689C( var_0 )
{
    var_1 = var_0 _meth_8623();
    var_2 = weaponclipsize( var_1 );
    var_3 = scripts\mp\utility\weapon::getweaponrootname( var_0 );
    var_4 = 30;

    if ( var_0._id_022A )
    {
        var_5 = scripts\mp\utility\weapon::_id_1D7D( var_0._id_0490 );

        switch ( var_5 )
        {
            case "glgas":
            case "glsmoke":
            case "glsnap":
            case "glsemtex":
            case "glincendiary":
            case "gl":
            case "glflash":
            case "glconc":
                var_4 = 1;
                break;
            case "ubshtgn":
                var_4 = 999;
                break;
            default:
                var_4 = 0;
                break;
        }
    }
    else
    {
        switch ( var_0.classname )
        {
            case "spread":
                switch ( var_3 )
                {
                    default:
                        var_4 = int( min( var_2, 30 ) );
                        break;
                }

                break;
            case "sniper":
                switch ( var_3 )
                {
                    default:
                        var_4 = int( min( var_2, 30 ) );
                        break;
                }

                break;
            default:
                var_4 = int( min( var_2, 30 ) );
        }
    }

    return var_4;
}

_id_8865( var_0, var_1 )
{
    if ( !scripts\mp\utility\weapon::_id_1D73( var_0, var_1 ) )
        return 0;

    switch ( var_1 )
    {
        case "akimbo":
        case "laserrange":
        case "laserbalanced":
            return 0;
    }

    if ( issubstr( var_1, "thermal" ) )
        return 0;

    if ( issubstr( var_1, "burst" ) )
        return 0;

    if ( _func_00D6( var_1, 0, 3 ) == "cal" )
        return 0;

    return 1;
}

_id_A6A5()
{

}

_id_5BDC( var_0, var_1 )
{
    var_2 = var_0 getweaponslistprimaries();
    var_3 = 1;
    var_4 = 1;
    var_5 = undefined;

    if ( isweapon( var_1 ) )
        var_5 = getcompleteweaponname( var_1 );
    else
        var_5 = var_1;

    foreach ( var_7 in var_2 )
    {
        if ( isdefined( var_0.primaryweaponobj ) && var_0.primaryweaponobj == var_7 )
        {
            var_3 = 0;
            continue;
        }

        if ( isdefined( var_0.secondaryweaponobj ) && var_0.secondaryweaponobj == var_7 )
            var_4 = 0;
    }

    if ( var_3 )
    {
        var_0._id_0326 = var_5;
        var_0.primaryweaponobj = makeweaponfromstring( var_5 );
    }
    else if ( var_4 )
    {
        var_0._id_038F = var_5;
        var_0.secondaryweaponobj = makeweaponfromstring( var_5 );
    }

    return var_3 || var_4;
}

_id_8B1D()
{
    var_0 = _id_6AB1();
    var_1 = _func_0267( var_0 );

    for ( var_2 = 1; var_1 != "none" && var_1 != var_0; var_2++ )
    {
        self _meth_81F5( 0, 0, 0, var_2 );
        var_1 = _func_0267( var_1 );
    }
}

_id_AB81( var_0 )
{
    if ( isdefined( level._id_AB81 ) )
        [[ level._id_AB81 ]]( var_0 );
    else if ( self.owner scripts\mp\utility\perk::_hasperk( "specialty_clandestine" ) )
        var_0 _id_CB9F( var_0.origin );
    else
    {
        _id_CB9D( var_0 );
        var_0 scripts\mp\equipment::_id_6FC5();
    }
}

_id_7474( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "scavenger", var_1 );

        if ( !var_1 scripts\cp_mp\utility\player_utility::isinvehicle() )
            break;
    }

    var_1 notify( "scavenger_pickup" );
    _id_AB81( var_1 );

    if ( !isdefined( var_1.pers["scavengerPickedUp"] ) )
        var_1.pers["scavengerPickedUp"] = 0;

    var_1 _id_0A7B::_id_7D93( "scavengerPickedUp", 1 );

    if ( isdefined( self.owner ) && self.owner scripts\mp\utility\perk::_hasperk( "specialty_scavenger_plus" ) )
    {
        var_1 _id_079B::_id_7B50( "scavenger" );
        level thread scripts\mp\battlechatter_mp::_id_F756( var_1, "scavenger" );
    }

    if ( isdefined( self._id_FE8E ) )
        self._id_FE8E delete();

    self notify( "death" );
}

_id_CB9F( var_0 )
{
    _func_024C( var_0, self, 1300 );
}

_id_CB9D( var_0 )
{
    var_1 = var_0 getweaponslistprimaries();

    foreach ( var_3 in var_1 )
        _id_10FD( var_0, var_3, 1 );
}

_id_10FD( var_0, var_1, var_2 )
{
    if ( !scripts\mp\utility\weapon::_id_8780( var_1 ) && !level._id_CB98 )
        return;

    if ( var_1._id_022A )
        return;

    if ( scripts\mp\utility\weapon::_id_6E59( var_1 ) == "weapon_projectile" )
        return;

    var_3 = var_0 getweaponammostock( var_1 );
    var_4 = _id_689C( var_1 );
    var_4 = int( _func_0037( var_2 * var_4 ) );

    if ( var_1 _meth_8622( "akimbo", 1 ) )
        var_4 = var_4 * 1;

    var_0 setweaponammostock( var_1, var_3 + var_4 );
}

_id_CB97()
{
    if ( isdefined( self._id_FE8E ) )
        self._id_FE8E delete();

    self delete();
}

_id_5037( var_0, var_1 )
{
    self endon( "spawned_player" );
    level endon( "game_ended" );

    if ( !_id_DB48( var_0, var_1 ) )
        return;

    var_2 = 0;

    if ( isdefined( var_1 ) && var_1 == "MOD_EXECUTION" )
        var_2 = 1.5;

    wait( var_2 );

    if ( var_2 > 0 && !_id_DB48( var_0, var_1 ) )
        return;

    _id_5038( var_0 );
}

_id_5038( var_0 )
{
    var_1 = self _meth_80C3( "s4_scavenger_bag_mp", "j_head" );
    scripts\mp\utility\outline::outlineenableforplayer( var_1, var_0, "outline_nodepth_white", "level_script" );

    if ( !isdefined( var_1 ) )
        return;

    var_1 _id_0765::_id_C2A7( 2, ::_id_CB97 );
    var_1.owner = var_0;
    var_1.team = var_0.team;
    var_1 thread _id_7474( self );
    var_1 thread _id_CB9A();
    var_1 thread _id_CB9B();

    if ( isdefined( level._id_2777 ) && isdefined( level._id_2777["bots_add_scavenger_bag"] ) )
        [[ level._id_2777["bots_add_scavenger_bag"] ]]( var_1 );
}

_id_DB48( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
        return 0;

    if ( var_0 == self )
        return 0;

    return 1;
}

_id_CB9A()
{
    self endon( "death" );
    level endon( "game_ended" );
    self.owner scripts\engine\utility::_id_1087F( "death_or_disconnect", "joined_team", "bag_timeout" );

    if ( isdefined( self ) )
    {
        if ( isdefined( self._id_FE8E ) )
            self._id_FE8E delete();

        _id_0765::_id_47E6();
        self delete();
    }
}

_id_CB9B()
{
    self endon( "death" );
    self.owner endon( "disconnect" );
    level endon( "game_ended" );
    wait 20;

    if ( isdefined( self ) )
        self.owner notify( "bag_timeout" );
}

_id_CB9C()
{
    self endon( "death" );
    self.owner endon( "disconnect" );
    level endon( "game_ended" );
    var_0 = &"PERKS/HOLD_TO_SCAVENGE";
    self._id_FE8E = _id_07AD::_id_3FCE( self.origin + anglestoup( self.angles ) * 1, "HINT_BUTTON", undefined, var_0, undefined, undefined, "show", 200, 160, 100, 160 );
    self._id_FE8E.owner = self.owner;
    self._id_FE8E.team = self.team;
    self._id_FE8E linkto( self );

    foreach ( var_2 in level.players )
        self._id_FE8E disableplayeruse( var_2 );

    thread _id_CB90();
    thread _id_CB91();

    for (;;)
    {
        self waittill( "pickedUpScavengerBag", var_2 );

        if ( isplayer( var_2 ) )
        {
            var_2 notify( "scavenger_pickup" );
            _id_AB81( var_2 );

            if ( self.owner scripts\mp\utility\perk::_hasperk( "specialty_scavenger_plus" ) )
                var_2 _id_079B::_id_7B50( "scavenger" );

            if ( isdefined( self._id_FE8E ) )
                self._id_FE8E delete();

            self notify( "death" );
        }
    }
}

_id_CB91()
{
    self endon( "death" );
    self.owner endon( "disconnect" );
    level endon( "game_ended" );
    var_0 = 1;

    while ( var_0 )
    {
        wait 0.1;

        foreach ( var_2 in level.players )
        {
            if ( !isdefined( self ) )
            {
                var_0 = 0;
                continue;
            }

            if ( var_2.team != self.team || var_2 scripts\mp\utility\perk::_hasperk( "specialty_scavenger" ) )
            {
                self._id_FE8E disableplayeruse( var_2 );
                continue;
            }

            self._id_FE8E _meth_80E0( var_2 );
        }
    }
}

_id_CB90()
{
    self endon( "restarting_physics" );
    var_0 = self._id_FE8E;
    var_1 = undefined;

    if ( istrue( level._id_609B ) && !isdefined( var_0 ) )
        return;

    while ( isdefined( self ) )
    {
        var_0 waittill( "trigger", var_2 );
        var_2._id_878A = 1;
        var_1 = _id_404B();
        var_1._id_7C71 = "use";
        var_3 = var_1 _id_FE7B( var_2, getdvarfloat( "perk_nonScavenger_scavenge_time" ) );

        if ( !isdefined( var_2 ) )
            return;

        var_2._id_878A = 0;

        if ( var_3 )
            self notify( "pickedUpScavengerBag", var_2 );
    }
}

_id_FE7B( var_0, var_1 )
{
    self._id_4122 = 0;
    self._id_84D5 = 1;
    self._id_FEAF = 0;
    self._id_FEE5 = var_1;
    scripts\mp\movers::_id_CDCB( var_0 );
    var_0 scripts\common\utility::_id_1565( 0 );
    var_2 = _id_FE7D( var_0 );

    if ( isalive( var_0 ) )
        var_0 scripts\common\utility::_id_1565( 1 );

    if ( isdefined( var_0 ) )
        scripts\mp\movers::_id_CDDA( var_0 );

    if ( !isdefined( self ) )
        return 0;

    self._id_84D5 = 0;
    self._id_4122 = 0;
    return var_2;
}

_id_FE7D( var_0 )
{
    var_1 = _id_83C4( var_0 );

    if ( isdefined( self ) )
        var_0 _id_07AD::_id_FD73( self, 0 );

    return istrue( var_1 );
}

_id_83C4( var_0 )
{
    self endon( "endUseHoldThink" );

    while ( var_0 _id_8989( self ) )
    {
        if ( !var_0 scripts\mp\movers::_id_CDDB( self ) )
            return 0;

        self._id_4122 = self._id_4122 + level._id_5F1B * self._id_FEAF;

        if ( isdefined( self._id_A8D9 ) )
            self._id_FEAF = 1 * self._id_A8D9;
        else
            self._id_FEAF = 1;

        var_0 _id_07AD::_id_FD73( self, 1 );

        if ( self._id_4122 >= self._id_FEE5 )
            return scripts\mp\utility\player::isreallyalive( var_0 );

        waitframe();
    }

    return 0;
}

_id_404B()
{
    var_0 = spawn( "script_origin", self.origin );
    var_0._id_4122 = 0;
    var_0._id_FEE5 = 0;
    var_0._id_FEAF = 3000;
    var_0._id_84D5 = 0;
    var_0._id_7C71 = self._id_7C71;
    var_0 linkto( self );
    var_0 thread _id_477B( self );
    return var_0;
}

_id_477B( var_0 )
{
    self endon( "death" );
    var_0 waittill( "death" );

    if ( isdefined( self._id_FE43 ) )
    {
        foreach ( var_2 in self._id_FE43 )
        {
            var_2 setclientomnvar( "ui_securing", 0 );
            var_2._id_F910 = undefined;
        }
    }

    self delete();
}

_id_8989( var_0 )
{
    return !level._id_609B && isdefined( var_0 ) && scripts\mp\utility\player::isreallyalive( self ) && self usebuttonpressed() && !self isonladder() && !self meleebuttonpressed() && var_0._id_4122 < var_0._id_FEE5 && ( !isdefined( self._id_F038 ) || !self._id_F038 );
}

_id_10D66( var_0 )
{
    if ( scripts\mp\utility\weapon::_id_877E( var_0.basename ) )
        return 0;

    return scripts\mp\utility\weapon::_id_8780( var_0.basename ) || scripts\mp\utility\weapon::_id_8782( var_0.basename );
}

_id_D8E3( var_0, var_1, var_2 )
{
    scripts\mp\gamelogic::_id_D8E3( var_0, var_1, var_2 );
}

_id_10C30( var_0 )
{
    self endon( "death_or_disconnect" );
    self endon( "faux_spawn" );
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "weapon_fired", var_1 );
        _id_ABC7( var_1 );
    }
}

_id_ABC7( var_0 )
{
    scripts\mp\gamelogic::_id_D580( self, 1 );

    if ( scripts\mp\utility\game::_id_CA3E() )
        return;

    var_1 = gettime();

    if ( !isdefined( self._id_902B ) )
        self._id_902B = 0;

    var_2 = gettime() - self._id_902B;
    self._id_902B = var_1;
    _id_0796::_id_7D7F( 0, 1 );

    if ( isai( self ) )
        return;

    if ( !_id_10D66( var_0 ) )
        return;

    thread _id_10B28( var_0 );

    if ( !scripts\mp\utility\game::_id_CA3E() && scripts\mp\utility\game::_id_AB13() )
    {
        var_3 = _id_07DB::_id_6C45( "combatStats", "totalShots" ) + 1;
        var_4 = _id_07DB::_id_6C45( "combatStats", "hits" );
        _id_07DB::_id_D668( var_3, "combatStats", "totalShots" );
        _id_07DB::_id_D668( int( var_3 - var_4 ), "combatStats", "misses" );
    }

    var_5 = 1;
    _id_D8E3( var_0, var_5, "shots" );
    _id_D8E3( var_0, self._id_799A, "hits" );
    _id_0A7B::_id_7D93( "shotsFired", 1 );
    self._id_799A = 0;

    if ( self getweaponammoclip( var_0 ) == 0 && self getweaponammostock( var_0 ) == 0 )
        level thread scripts\mp\battlechatter_mp::_id_F756( self, "flavor_negative" );
}

_id_10B28( var_0 )
{
    self endon( "death_or_disconnect" );
    var_1 = getcompleteweaponname( var_0 );
    self endon( "watchForMiss_" + var_1 );
    waitframe();
    self._id_3B64[var_1] = 0;
    _id_07A5::_id_DA5C();
}

_id_3939( var_0 )
{
    self endon( "death_or_disconnect" );
    var_1 = getcompleteweaponname( var_0 );
    self notify( "watchForMiss_" + var_1 );
}

_id_34F4( var_0, var_1 )
{
    self endon( "disconnect" );

    if ( var_0._id_022A )
    {
        var_2 = scripts\mp\utility\weapon::_id_6E4C( var_0 );

        if ( scripts\engine\utility::array_contains( var_2, "shotgun" ) || scripts\engine\utility::array_contains( var_2, "gl" ) || scripts\engine\utility::array_contains( var_2, "glsmoke" ) || scripts\engine\utility::array_contains( var_2, "glgas" ) || scripts\engine\utility::array_contains( var_2, "glconc" ) || scripts\engine\utility::array_contains( var_2, "glflash" ) || scripts\engine\utility::array_contains( var_2, "glincendiary" ) || scripts\engine\utility::array_contains( var_2, "glsemtex" ) || scripts\engine\utility::array_contains( var_2, "glsnap" ) )
            self._id_799A = 1;
    }

    if ( !_id_10D66( var_0 ) )
        return;

    var_3 = self meleebuttonpressed();

    if ( var_3 && var_0.basename != "s4_me_knife" )
        return;

    switch ( weaponclass( var_0 ) )
    {
        case "pistol":
        case "rifle":
        case "sniper":
        case "smg":
        case "mg":
            self._id_799A++;
            break;
        case "spread":
            self._id_799A = 1;
            break;
        default:
            break;
    }

    var_4 = getcompleteweaponname( var_0 );

    if ( _id_07E2::_id_89EF( var_0.basename ) || var_0.basename == "s4_me_knife" )
    {
        thread scripts\mp\gamelogic::_id_F13A( var_4, self._id_799A, "hits" );
        self._id_799A = 0;
    }

    if ( !var_3 )
        _id_0796::_id_7D7F( 1, 1 );

    waittillframeend;
    thread _id_3939( var_0 );

    if ( !isdefined( self._id_8FDA[var_4] ) )
        self._id_8FDA[var_4] = 0;

    if ( self._id_8FDA[var_4] == gettime() )
        return;

    self._id_8FDA[var_4] = gettime();

    if ( !isdefined( self._id_3B64 ) || !isdefined( self._id_3B64[var_4] ) )
        self._id_3B64[var_4] = 1;
    else
        self._id_3B64[var_4]++;

    if ( scripts\mp\utility\game::_id_AB13() )
    {
        var_5 = _id_07DB::_id_6C45( "combatStats", "totalShots" );
        var_6 = _id_07DB::_id_6C45( "combatStats", "hits" ) + 1;

        if ( var_6 <= var_5 )
        {
            _id_07DB::_id_D668( var_6, "combatStats", "hits" );
            _id_07DB::_id_D668( int( var_5 - var_6 ), "combatStats", "misses" );
        }
    }

    thread _id_0793::_id_AB9E( var_0 );
    thread _id_07A5::_id_DA59();
    var_7 = gettime();
    self._id_8F9F = var_7;
    var_1._id_9090 = var_7;
    var_8 = scripts\mp\utility\weapon::_id_6E59( var_0.basename );

    if ( var_8 == "weapon_lmg" )
    {
        if ( !isdefined( self._id_DA64 ) )
            self._id_DA64 = 1;
        else
            self._id_DA64++;
    }
}

_id_5F93( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_0 ) )
        return 1;

    if ( !level.teambased )
        return 1;

    var_4 = level._id_5F86;

    if ( isdefined( var_2 ) )
        var_4 = var_2;

    if ( var_4 != 0 )
        return 1;

    if ( var_1 == var_0 || isdefined( var_1.owner ) && var_1.owner == var_0 )
        return 1;

    var_5 = undefined;

    if ( isdefined( var_1.owner ) )
        var_5 = var_1.owner.team;
    else if ( isdefined( var_1.team ) )
        var_5 = var_1.team;

    if ( !isdefined( var_5 ) )
        return 1;

    if ( var_5 != var_0.team )
        return 1;

    return 0;
}

_id_6D57( var_0, var_1 )
{
    var_2 = "";
    return var_2;
}

_id_10C00()
{
    self endon( "disconnect" );
    self endon( "death" );

    for (;;)
    {
        self waittill( "sprint_melee_charge_begin" );
        self setscriptablepartstate( "bayoCharge", "start", 1 );
    }
}

_id_10BFF()
{
    self endon( "disconnect" );
    self endon( "death" );

    for (;;)
    {
        self waittill( "sprint_melee_charge_attack", var_0 );
        self setscriptablepartstate( "bayoCharge", "attack", 1 );
    }
}

_id_10C02()
{
    self endon( "disconnect" );
    self endon( "death" );

    for (;;)
    {
        self waittill( "sprint_melee_charge_end" );
        self setscriptablepartstate( "bayoCharge", "stop", 1 );
    }
}

_id_10BFE()
{
    self._id_2380 = 0;
    self._id_D9CD = 0;
    thread _id_10C00();
    thread _id_10BFF();
    thread _id_10C02();
}

_id_10ADB()
{
    self notify( "watchEquipmentOnSpawn" );
    self endon( "watchEquipmentOnSpawn" );
    self endon( "spawned_player" );
    self endon( "disconnect" );
    self endon( "faux_spawn" );
    _id_4744();
    var_0 = _id_0A66::_id_6AA9( "scr_deleteexplosivesonspawn", 1 ) && ( !scripts\mp\utility\perk::_hasperk( "specialty_rugged_eqp" ) || !_id_34D7() );

    if ( var_0 )
        _id_4764();

    var_1 = self._id_B1BD.size;
    var_2 = self._id_B1BB.size;
    var_3 = self._id_B1BC.size;
    var_4 = self._id_B1B9.size;
    var_5 = var_1 && var_2 && var_3 && var_4;

    if ( scripts\mp\utility\perk::_hasperk( "specialty_rugged_eqp" ) && var_5 )
        thread _id_0A42::_id_59E1( var_2, var_1, var_3, var_4 );
}

_id_6886()
{
    var_0 = [];

    if ( isdefined( self._id_B1BB ) )
        var_0 = scripts\engine\utility::array_combine( var_0, self._id_B1BB );

    if ( isdefined( self._id_B1BD ) )
        var_0 = scripts\engine\utility::array_combine( var_0, self._id_B1BD );

    if ( isdefined( self._id_B1BC ) )
        var_0 = scripts\engine\utility::array_combine( var_0, self._id_B1BC );

    if ( isdefined( self._id_B1B9 ) )
        var_0 = scripts\engine\utility::array_combine( var_0, self._id_B1B9 );

    return var_0;
}

_id_C48A( var_0 )
{
    if ( isdefined( self._id_B1BB ) )
        self._id_B1BB = scripts\engine\utility::array_remove( self._id_B1BB, var_0 );

    if ( isdefined( self._id_B1BD ) )
        self._id_B1BD = scripts\engine\utility::array_remove( self._id_B1BD, var_0 );

    if ( isdefined( self._id_B1BC ) )
        self._id_B1BC = scripts\engine\utility::array_remove( self._id_B1BC, var_0 );

    if ( isdefined( self._id_B1B9 ) )
        self._id_B1B9 = scripts\engine\utility::array_remove( self._id_B1B9, var_0 );
}

_id_34D7()
{
    var_0 = scripts\engine\utility::array_combine( self._id_B1BD, self._id_B1BB );

    foreach ( var_2 in var_0 )
    {
        if ( isdefined( var_2._id_758C ) )
            return 1;
    }

    return 0;
}

_id_10B73()
{
    self notify( "watchGrenadeUsage" );
    self endon( "watchGrenadeUsage" );
    self endon( "spawned_player" );
    self endon( "disconnect" );
    self endon( "faux_spawn" );

    for (;;)
        _id_10B6F();
}

_id_10B6F()
{
    var_0 = _id_108DB();

    if ( !isdefined( var_0 ) )
        return;

    if ( !isdefined( var_0._id_10D06 ) )
        return;

    _id_D8E3( var_0._id_10D06, 1, "shots" );
    var_1 = scripts\mp\equipment::_id_881C( var_0._id_10D06 );
    _id_07DD::_id_7164( var_1 );
    scripts\mp\battlechatter_mp::_id_AAE5( var_0 );
    scripts\mp\gamelogic::_id_D580( self, 1 );
    var_0 _meth_884D( 3, self.team );

    if ( scripts\mp\utility\weapon::_id_875A( var_0._id_10D06 ) )
    {
        var_0 thread _id_10B6B( self );
        return;
    }

    var_0 thread scripts\mp\battlechatter_mp::_id_7153();
    var_0._id_E34F = var_0.origin;

    switch ( var_0._id_10D06 )
    {
        case "s4_frag_usa_mk2_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            var_0 thread _id_07EB::_id_7126();
            break;
        case "pop_rocket_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            thread _id_09F7::_id_10FB7( var_0 );
            var_0 thread _id_07EB::_id_7126( 0.6 );
            break;
        case "s4_semtex_mp":
            thread _id_D08B( var_0 );
            var_0 thread _id_07EB::_id_7126();
            break;
        case "s4_c4_mp":
            thread _id_09DB::_id_2E3E( var_0 );
            break;
        case "emp_grenade_mp":
            thread scripts\cp_mp\vehicles\vehicle_damage::_id_516B( var_0 );
            break;
        case "snapshot_grenade_mp":
            thread _id_09EB::_id_DEBB( var_0, 0 );
            break;
        case "s4_smoke_usa_m18_mp":
            var_0 thread _id_DE4E();
            break;
        case "trophy_mp":
            thread _id_09F4::_id_F69B( var_0 );
            break;
        case "claymore_mp":
            thread _id_09DC::_id_37FF( var_0 );
            break;
        case "at_mine_mp":
            thread _id_09D8::_id_1D21( var_0 );
            break;
        case "s4_mine_ger_s44_mp":
            thread _id_09D9::_id_1D21( var_0 );
            break;
        case "s4_throwing_knife_mp":
            thread _id_097E::_id_F19F( var_0 );
            break;
        case "s4_throwing_star_mp":
            thread _id_097F::_id_F1AD( var_0 );
            break;
        case "s4_molotov_mp":
            var_0 thread _id_07EB::_id_7126();
            thread _id_09E8::_id_A085( var_0 );
            break;
        case "s4_thermite_mp":
            thread _id_09F1::_id_F0F8( var_0 );
            break;
        case "tac_ops_spawn_grenade_mp":
            thread _id_0A47::_id_F1C8( var_0 );
            break;
        case "tac_ops_supply_pack_grenade_mp":
            thread _id_0A4D::_id_F1CF( var_0 );
            break;
        case "support_box_mp":
            thread _id_09EE::_id_EB89( var_0 );
            break;
        case "s4_medkit_box_mp":
            thread _id_09E7::_id_9D10( var_0 );
            break;
        case "s4_ammo_box_mp":
            thread _id_09D6::_id_171F( var_0 );
            break;
        case "s4_equipment_resupply_box_mp":
            thread _id_09E0::_id_5564( var_0 );
            break;
        case "s4_steel_bib_crate_mp":
            thread _id_09ED::_id_E826( var_0 );
            break;
        case "s4_dead_drop_mp":
            thread _id_09EA::_id_BBD7( var_0 );
            break;
        case "s4_decoy_grenade_mp":
            thread _id_09DE::_id_451E( var_0 );
            break;
        case "s4_gas_usa_mk5cn_mp":
            thread _id_09E4::_id_6187( var_0 );
            break;
        case "hb_sensor_mp":
            thread _id_09E5::_id_75BB( var_0 );
            break;
        case "s4_tac_cover_mp":
            thread _id_09F0::_id_ECB6( var_0 );
            break;
        case "s4_hand_flare_mp":
            thread _id_09EF::_id_ED05( var_0 );
            break;
        case "s4_jammer_mp":
            thread _id_09E6::_id_8B4D( var_0 );
            break;
        case "s4_field_mic_mp":
            thread _id_09E1::_id_59F6( var_0 );
            break;
        case "s4_steel_bib_mp":
            break;
        case "advanced_supply_drop_marker_mp":
            thread _id_09D4::_id_11AE( var_0 );
            break;
        case "deploy_weapondrop_mp":
            thread _id_09F5::_id_10D7A( var_0 );
            break;
        case "s4_frag_gbr_n23_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            var_0 thread _id_07EB::_id_7126();
            break;
        case "s4_frag_gbr_n82_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            var_0 thread _id_07EB::_id_7126();
            break;
        case "s4_bundle_charge_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            var_0 thread _id_07EB::_id_7126();
            break;
        case "s4_frag_ger_m24_mp":
            if ( var_0._id_F1DD >= 1 )
                var_0._id_87A7 = 1;

            var_0._id_AC7C = self;
            var_0 thread _id_07EB::_id_7126();
            break;
        case "s4_stun_gbr_n69_mp":
            var_0 thread _id_3B39();
            break;
        case "s4_smoke_gbr_n77_mp":
            thread _id_09F6::_id_7137( var_0 );
            break;
        case "equip_adrenaline":
            if ( scripts\mp\utility\perk::_hasperk( "specialty_tactician" ) )
                thread _id_0A42::_id_ED30();

            break;
        default:
            if ( isdefined( level._id_AAE6 ) )
                [[ level._id_AAE6 ]]( var_0._id_10D06, var_0 );

            break;
    }
}

_id_3B39()
{
    thread _id_0A78::_id_A682( "death", "end_explode" );
    self endon( "end_explode" );
    var_0 = self.owner;
    self waittill( "explode", var_1 );
    thread _id_09DD::_id_AAD0( var_0, var_1 );
}

_id_10B6C()
{
    self waittill( "death" );

    if ( isdefined( self._id_8E19 ) )
        self._id_8E19 delete();

    if ( isdefined( self._id_FE8F ) )
        self._id_FE8F delete();
}

_id_DE4E( var_0 )
{
    thread _id_0A78::_id_A682( "death", "end_explode" );
    self endon( "end_explode" );

    if ( istrue( var_0 ) )
    {
        self waittill( "missile_stuck", var_5, var_1, var_2, var_3, var_4, var_6 );
        thread _id_DE4A( var_5 );
        thread scripts\mp\bots\bots::_id_3F4C( var_5 );
    }
    else
        self waittill( "explode", var_5 );

    thread _id_DE4B( var_5 );
    thread _id_D934( var_5 );
    self.owner notify( "smoke_grenade_explode", var_5 );

    if ( isdefined( self.owner ) )
        self.owner thread _id_A12B();
}

_id_D934( var_0 )
{
    wait 0.2;
    var_1 = spawn( "script_origin", var_0 );
    var_1 playloopsound( "smoke_grenade_smoke_lp" );
    var_1 _id_0765::_id_C2A8( 1 );
    wait 5.25;
    wait 0.3;
    var_1 _id_0765::_id_47E6();
    var_1 stoploopsound();
    var_1 delete();
}

_id_DE4B( var_0 )
{
    wait 1;
    thread _id_DE4C( var_0 );
    var_1 = scripts\mp\utility\outline::_id_10E1( var_0, 330 );
    wait 8.25;
    scripts\mp\utility\outline::_id_C4EC( var_1 );
}

_id_DE4A( var_0, var_1 )
{
    playfx( scripts\engine\utility::getfx( "glsmoke" ), var_0, anglestoup( ( 0, 90, 0 ) ) );
}

_id_DE4C( var_0 )
{
    var_1 = spawnstruct();
    var_1._id_254E = [];
    _id_DE4D( var_1, var_0 );

    foreach ( var_3 in var_1._id_254E )
    {
        if ( isdefined( var_3 ) && scripts\mp\utility\player::isreallyalive( var_3 ) )
            var_3 scripts\mp\utility\perk::removeperk( "specialty_blindeye" );
    }
}

_id_DE4D( var_0, var_1 )
{
    level endon( "game_ended" );
    var_2 = gettime() + 8250.0;
    var_3 = [];

    while ( gettime() < var_2 )
    {
        var_3 = scripts\mp\utility\player::_id_6C40( var_1, 330 );

        foreach ( var_7, var_5 in var_0._id_254E )
        {
            if ( !isdefined( var_5 ) )
            {
                var_0._id_254E[var_7] = undefined;
                continue;
            }

            var_6 = scripts\engine\utility::_id_1B83( var_3, var_5 );

            if ( !isdefined( var_6 ) || !scripts\mp\utility\player::isreallyalive( var_5 ) )
            {
                var_5 scripts\mp\utility\perk::removeperk( "specialty_blindeye" );
                var_0._id_254E[var_7] = undefined;
            }

            if ( isdefined( var_6 ) )
                var_3[var_6] = undefined;
        }

        foreach ( var_9 in var_3 )
        {
            if ( !isdefined( var_9 ) )
                continue;

            var_9._id_8FE0 = gettime();

            if ( isdefined( var_0._id_254E[var_9 getentitynumber()] ) )
                continue;

            if ( !scripts\mp\utility\player::isreallyalive( var_9 ) || _id_0A67::_id_8A40( var_9 ) )
                continue;

            var_9 scripts\mp\utility\perk::_id_6FA5( "specialty_blindeye" );
            var_0._id_254E[var_9 getentitynumber()] = var_9;
        }

        waitframe();
    }
}

_id_A12B()
{
    self endon( "disconnect" );
    level endon( "game_ended" );
    self notify( "monitorSmokeActive()" );
    self endon( "monitorSmokeActive()" );
    _id_0A77::_id_BD07( "smoke grenade activated", self );
    self._id_7517 = 1;
    var_0 = scripts\engine\utility::_id_108A5( 9.25, "death" );
    self._id_7517 = 0;
    _id_0A77::_id_BD07( "smoke grenade deactivated", self );
}

_id_96E7( var_0 )
{
    var_1 = [];
    var_2 = 0;
    var_3 = _id_96E8();

    if ( level.teambased )
    {
        if ( isdefined( var_0 ) && var_0 == 1 )
        {
            foreach ( var_5 in level.characters )
            {
                if ( isdefined( var_5 ) && isalive( var_5 ) && ( var_5.team != self.team || var_2 ) )
                    var_1[var_1.size] = var_5;
            }
        }

        if ( isdefined( level._id_0F23 ) )
        {
            foreach ( var_8 in level._id_0F23 )
            {
                if ( isdefined( var_8 ) && isdefined( var_8._id_11BB ) && ( var_8.team != self.team || var_2 ) )
                    var_1[var_1.size] = var_8;
            }
        }

        if ( isdefined( level._id_3E64 ) )
        {
            if ( isdefined( level._id_3E64._id_0E1C ) )
            {
                foreach ( var_11 in level._id_3E64._id_0E1C )
                {
                    if ( isdefined( var_11 ) && ( var_11.team != self.team || var_2 ) )
                        var_1[var_1.size] = var_11;
                }
            }
        }

        foreach ( var_14 in var_3 )
        {
            var_15 = scripts\cp_mp\vehicles\vehicle_tracking::_id_102BA( var_14 );

            foreach ( var_17 in var_15 )
            {
                if ( isdefined( var_17 ) && ( !scripts\cp_mp\vehicles\vehicle::_id_10122( var_17, self ) || var_2 ) )
                    var_1[var_1.size] = var_17;
            }
        }
    }
    else
    {
        if ( isdefined( var_0 ) && var_0 == 1 )
        {
            foreach ( var_5 in level.characters )
            {
                if ( ( !isdefined( var_5 ) || !isalive( var_5 ) ) && !var_2 )
                    continue;

                var_1[var_1.size] = var_5;
            }
        }

        if ( isdefined( level._id_0F23 ) )
        {
            foreach ( var_8 in level._id_0F23 )
            {
                if ( isdefined( var_8._id_11BB ) && ( isdefined( var_8.owner ) && var_8.owner != self || var_2 ) )
                    var_1[var_1.size] = var_8;
            }
        }

        if ( isdefined( level._id_3E64 ) )
        {
            if ( isdefined( level._id_3E64._id_0E1C ) )
            {
                foreach ( var_11 in level._id_3E64._id_0E1C )
                {
                    if ( var_11.owner != self || var_2 )
                        var_1[var_1.size] = var_11;
                }
            }
        }

        foreach ( var_14 in var_3 )
        {
            var_15 = scripts\cp_mp\vehicles\vehicle_tracking::_id_102BA( var_14 );

            foreach ( var_17 in var_15 )
            {
                if ( !isdefined( var_17.owner ) )
                {
                    var_1[var_1.size] = var_17;
                    continue;
                }

                if ( var_17.owner != self || var_2 )
                    var_1[var_1.size] = var_17;
            }
        }
    }

    return var_1;
}

_id_96E8()
{
    return [ "apc_russian", "atv", "big_bird", "cargo_truck", "cop_car", "hoopty", "hoopty_truck", "jeep", "large_transport", "light_tank", "little_bird", "medium_transport", "pickup_truck", "tac_rover", "technical", "van", "loot_chopper" ];
}

_id_10BAC()
{
    self endon( "disconnect" );

    for (;;)
    {
        var_0 = _id_108E5();
        _id_FCC7( var_0 );
    }
}

_id_FCC7( var_0 )
{
    var_1 = undefined;
    var_2 = 0;

    switch ( var_0._id_10D06 )
    {
        case "gl":
            var_2 = 1;
            break;
        case "glsmoke":
            var_2 = 1;
            var_0 thread _id_DE4E( 1 );
            break;
        case "glgas":
            var_2 = 1;
            thread _id_09E4::_id_6187( var_0 );
            break;
        case "glflash":
        case "glconc":
            var_2 = 1;
            break;
        case "glincendiary":
            var_2 = 1;
            var_0 thread _id_07EB::_id_7126();
            thread _id_09F1::_id_F0F8( var_0, 1 );
            break;
        case "glsemtex":
            var_2 = 1;
            break;
        case "glsnap":
            var_2 = 1;
            thread _id_09EB::_id_DEBB( var_0, var_2 );
            break;
        case "s4_la_palpha42_mp":
        case "s4_la_m1bravo_mp":
        case "s4_la_palpha_mp":
            var_1 = self._id_9F5F;
            _id_90DD( var_0 );
        default:
            break;
    }

    if ( scripts\cp_mp\utility\weapon_utility::_id_88FC( var_0._id_10D06 ) && isdefined( var_1 ) )
    {
        var_0._id_96EA = var_1;
        level notify( "stinger_fired", self, var_0, var_1 );
        thread scripts\cp_mp\utility\weapon_utility::_id_10C12( var_1, var_0 );
    }

    if ( isplayer( self ) )
        var_0._id_118D = scripts\mp\utility\player::_id_896F();

    if ( !var_2 && _id_882A( var_0._id_10D06 ) )
    {
        var_3 = 1.0;

        if ( _id_8A23( var_0._id_10D06 ) )
            var_3 = 0.65;

        var_0 thread _id_07EB::_id_7126( var_3 );
    }

    _id_07A5::_id_9F57( var_0 );
}

_id_90DD( var_0 )
{
    if ( isdefined( var_0 ) && isdefined( self ) && isdefined( self.origin ) )
        self radiusdamage( self.origin, 130, 80, 60, self, "MOD_EXPLOSIVE", var_0._id_10D06 );
}

launcherbackblast_modifieddamage( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_2 ) || isdefined( var_2.classname ) && var_2.classname == "rocket" )
        return var_4;

    if ( isnullweapon( var_1 ) )
        return var_4;

    if ( !_func_010E( var_3 ) )
        return var_4;

    if ( var_1.basename != "s4_la_palpha42_mp" && var_1.basename != "s4_la_palpha_mp" && var_1.basename != "s4_la_m1bravo_mp" )
        return var_4;

    if ( isdefined( var_2.classname ) && var_2.classname == "player" )
    {
        var_5 = anglestoforward( var_2 getplayerangles() ) * -1;
        var_6 = vectornormalize( var_0.origin - var_2.origin );
        var_7 = vectordot( var_6, var_5 ) > 0.422618;

        if ( !var_7 )
            var_4 = 0;
    }

    return var_4;
}

_id_8A23( var_0 )
{
    return 0;
}

_id_882A( var_0 )
{
    var_1 = getweaponbasename( var_0 );

    switch ( var_1 )
    {
        case "ac130_25mm_mp":
        case "ac130_40mm_mp":
        case "ac130_105mm_mp":
        case "pop_rocket_proj_mp":
            return 0;
    }

    return 1;
}

_id_A277( var_0 )
{
    if ( !isdefined( var_0._id_9096 ) || !isdefined( var_0._id_9096._id_482F ) || var_0._id_9096._id_482F )
        self notify( "detonateExplosive" );
}

_id_A0F2( var_0, var_1 )
{
    level endon( "game_ended" );
    var_1 endon( "death" );
    var_1 notify( "monitorDisownedEquipment()" );
    var_1 endon( "monitorDisownedEquipment()" );
    var_0 scripts\engine\utility::_id_1087F( "joined_team", "joined_spectators", "disconnect" );
    var_1 _id_474B();
}

_id_A0F3( var_0, var_1 )
{
    level endon( "game_ended" );
    var_1 endon( "death" );
    var_1 endon( "mine_planted" );
    scripts\engine\utility::_id_10886( var_0, "joined_team", var_0, "joined_spectators", var_0, "disconnect", level, "prematch_cleanup" );

    if ( isdefined( var_1 ) )
        var_1 delete();
}

_id_896B( var_0 )
{
    return isdefined( level._id_9ECB[var_0 getentitynumber()] ) || istrue( var_0._id_B1B6 );
}

_id_6B25( var_0 )
{
    var_1 = 4;

    if ( scripts\mp\utility\perk::_hasperk( "specialty_extra_planted_equipment" ) )
        var_1++;

    return var_1;
}

_id_6B27( var_0 )
{
    var_1 = 2;

    if ( scripts\mp\utility\perk::_hasperk( "specialty_extra_planted_equipment" ) )
        var_1++;

    return var_1;
}

_id_6B26( var_0 )
{
    return 1;
}

_id_6B24()
{
    return 3;
}

_id_AABC( var_0, var_1, var_2 )
{
    var_0._id_5542 = var_1;
    var_0._id_474D = var_2;
    var_0._id_B1B6 = 1;
    _id_FCF1( var_0 );
    var_3 = var_0 getentitynumber();
    level._id_9ECB[var_3] = var_0;

    if ( var_1 != "equip_tac_cover" )
    {
        var_0 _meth_86FB( "equipment" );

        if ( level.teambased )
            var_0 _meth_8703( self.team );
        else
            var_0 _meth_8703( self );
    }

    var_0 notify( "mine_planted" );
}

_id_FCF1( var_0 )
{
    var_1 = undefined;
    var_2 = 0;
    var_3 = scripts\mp\equipment::_id_5ACA( var_0._id_5542 );

    if ( istrue( var_0._id_8870 ) )
    {
        var_1 = var_0.owner._id_B1B9;
        var_2 = _id_6B24();
    }
    else if ( istrue( var_0._id_8A5A ) )
    {
        var_1 = var_0.owner._id_B1BC;
        var_2 = _id_6B26( var_0._id_5542 );
    }
    else if ( isdefined( var_3 ) && var_3 == "primary" || scripts\mp\equipment::_id_881C( var_0._id_5542 ) )
    {
        var_1 = var_0.owner._id_B1BB;
        var_2 = _id_6B25( self );
    }
    else if ( isdefined( var_3 ) && var_3 == "secondary" || scripts\mp\equipment::_id_8821( var_0._id_5542 ) )
    {
        var_1 = var_0.owner._id_B1BD;
        var_2 = _id_6B27( self );
    }

    if ( !isdefined( var_1 ) )
    {
        var_4 = "isSuper: " + var_0._id_8A5A + ", slot: " + var_3 + ", equipmentRef: " + var_0._id_5542 + ", allowed: " + scripts\mp\equipment::_id_85A5( "super" );
        _id_0A78::_id_479A( var_4 );
    }

    if ( var_1.size > 0 )
    {
        if ( var_1.size && var_1.size >= var_2 )
        {
            var_5 = var_1[0];
            var_1 = scripts\engine\utility::array_remove( var_1, var_5 );
            var_5 _id_474B();
        }
    }

    var_1[var_1.size] = var_0;

    if ( istrue( var_0._id_8870 ) )
        var_0.owner._id_B1B9 = var_1;
    else if ( istrue( var_0._id_8A5A ) )
        var_0.owner._id_B1BC = var_1;
    else if ( isdefined( var_3 ) && var_3 == "primary" || scripts\mp\equipment::_id_881C( var_0._id_5542 ) )
        var_0.owner._id_B1BB = var_1;
    else if ( isdefined( var_3 ) && var_3 == "secondary" || scripts\mp\equipment::_id_8821( var_0._id_5542 ) )
        var_0.owner._id_B1BD = var_1;
}

_id_D64B( var_0 )
{
    var_1 = _id_6886();

    foreach ( var_3 in var_1 )
    {
        if ( isdefined( var_3._id_047A ) && isdefined( var_3.owner ) )
        {
            if ( var_0 )
            {
                var_3._id_047A _meth_80E0( var_3.owner );
                continue;
            }

            var_3._id_047A disableplayeruse( var_3.owner );
        }
    }
}

_id_385E( var_0, var_1, var_2 )
{
    if ( isdefined( var_0 ) )
        level._id_9ECB[var_0] = undefined;

    if ( isdefined( var_1 ) )
        var_1 delete();

    if ( isdefined( var_2 ) )
        var_2 delete();
}

_id_553D( var_0, var_1, var_2, var_3 )
{
    if ( scripts\cp_mp\utility\player_utility::_id_B779( var_1, var_0 ) )
    {
        if ( !isdefined( var_2 ) )
            return;

        if ( scripts\mp\utility\weapon::_id_88DC( var_2.basename ) )
            return;

        var_4 = getcompleteweaponname( var_2 );

        if ( !isdefined( var_1._id_8FDA[var_4] ) )
            var_1._id_8FDA[var_4] = 0;

        if ( var_1._id_8FDA[var_4] == gettime() )
            return;

        var_1._id_8FDA[var_4] = gettime();
        var_1 thread scripts\mp\gamelogic::_id_F13A( var_4, 1, "hits" );

        if ( scripts\mp\utility\game::_id_AB13() )
        {
            var_5 = var_1 _id_07DB::_id_6C45( "combatStats", "totalShots" );
            var_6 = var_1 _id_07DB::_id_6C45( "combatStats", "hits" ) + 1;

            if ( var_6 <= var_5 )
            {
                _id_07DB::_id_D668( var_6, "combatStats", "hits" );
                _id_07DB::_id_D668( int( var_5 - var_6 ), "combatStats", "misses" );
            }
        }

        if ( isdefined( var_3 ) && scripts\engine\utility::_id_877A( var_3 ) || _id_0A62::_id_89B2( var_3 ) )
        {
            var_1._id_8F9F = gettime();
            var_7 = scripts\mp\utility\weapon::_id_6E59( var_2.basename );

            if ( var_7 == "weapon_lmg" )
            {
                if ( !isdefined( var_1._id_DA64 ) )
                    var_1._id_DA64 = 1;
                else
                    var_1._id_DA64++;
            }
        }
    }
}

_id_474B()
{
    if ( !isdefined( self ) )
        return;

    _id_07E9::_id_F9A0( self._id_D0BD, self._id_D0BE );
    var_0 = self getentitynumber();
    level._id_9ECB[var_0] = undefined;
    self _meth_86FC( "equipment" );

    if ( isdefined( self._id_474D ) )
    {
        self thread [[ self._id_474D ]]();
        self notify( "deleted_equipment" );
    }
    else
    {
        var_1 = self.killcament;
        var_2 = self._id_047A;
        _id_385E( var_0, var_1, var_2 );
        self notify( "deleted_equipment" );
        self delete();
    }
}

_id_99D6( var_0 )
{
    self setotherent( self.owner );

    if ( !isdefined( var_0 ) )
        var_0 = 10;

    var_1 = spawn( "script_origin", self.origin + var_0 * anglestoup( self.angles ) );
    var_1 linkto( self );
    self._id_047A = var_1;
    var_1.owner = self;
    thread _id_99D7();
    return var_1;
}

_id_99D7()
{
    self endon( "makeExplosiveUnusable" );
    var_0 = self._id_047A;
    _id_10AE2();

    if ( isdefined( self ) )
    {
        var_0 = self._id_047A;
        self._id_047A = undefined;
    }

    if ( isdefined( var_0 ) )
        var_0 delete();
}

_id_99D4()
{
    self notify( "makeExplosiveUnusable" );
    var_0 = self._id_047A;
    self._id_047A = undefined;

    if ( isdefined( var_0 ) )
        var_0 delete();
}

_id_10AE2()
{
    var_0 = self.owner;
    var_1 = self._id_047A;
    self endon( "death" );
    var_1 endon( "death" );
    var_0 endon( "disconnect" );
    level endon( "game_ended" );
    var_1 setcursorhint( "HINT_NOICON" );
    var_1 scripts\mp\utility\usability::_id_D6B6( var_0 );
    var_1 childthread scripts\mp\utility\usability::_id_A6B0( var_0 );
    var_1 childthread scripts\mp\utility\usability::_id_A6AF( var_0, self );
    var_1 _id_D53C( self._id_10D06 );

    for (;;)
    {
        var_1 waittillmatch( "trigger", var_0 );

        if ( isdefined( self._id_10D06 ) )
        {
            switch ( self._id_10D06 )
            {
                case "trophy_mp":
                    thread _id_09F4::_id_F691();
                    break;
            }

            var_0 thread _id_09DB::_id_2E38();
        }

        var_0 playlocalsound( "scavenger_pack_pickup" );
        var_0 notify( "scavenged_ammo", self._id_10D06 );
        var_2 = scripts\mp\equipment::_id_69F5( makeweapon( self._id_10D06 ) );

        if ( isdefined( var_2 ) && self.owner scripts\mp\equipment::_id_753F( var_2 ) )
            self.owner scripts\mp\equipment::_id_7DD2( var_2, 1 );

        thread _id_474B();
        return;
    }
}

_id_99D8( var_0, var_1 )
{
    self endon( "death" );
    self endon( "makeExplosiveUnusable" );
    var_2 = self.owner;
    var_3 = self._id_10D06;

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    if ( var_1 )
        self enablemissilehint( 1 );
    else
        self setcursorhint( "HINT_NOICON" );

    self _meth_84D6( var_0 );
    self setuserange( 72 );
    _id_D53C( self._id_10D06 );
    scripts\mp\utility\usability::_id_D6B6( var_2 );
    childthread scripts\mp\utility\usability::_id_A6B0( var_2 );
    childthread scripts\mp\utility\usability::_id_A6AF( var_2, self );

    for (;;)
    {
        self waittillmatch( "trigger", var_2 );

        if ( istrue( var_2._id_88C5 ) )
        {
            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "hud", "showErrorMessage" ) )
                var_2 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "hud", "showErrorMessage" ) ]]( "KILLSTREAKS/JUGG_CANNOT_BE_PICKED_UP" );

            continue;
        }

        if ( isdefined( var_3 ) )
        {
            switch ( var_3 )
            {
                case "trophy_mp":
                    thread _id_09F4::_id_F691();
                    break;
            }

            var_2 thread _id_09DB::_id_2E38();
        }

        var_2 notify( "scavenged_ammo", var_3 );
        var_4 = scripts\mp\equipment::_id_69F5( makeweapon( var_3 ) );

        if ( isdefined( var_4 ) )
        {
            if ( self.owner scripts\mp\equipment::_id_753F( var_4 ) )
                self.owner scripts\mp\equipment::_id_7DD2( var_4, 1 );
            else if ( isdefined( level._id_AB2B ) )
                [[ level._id_AB2B ]]( self.owner, var_4 );
        }

        if ( isdefined( self._id_FE8E ) )
            self._id_FE8E delete();

        thread _id_474B();
        return;
    }
}

_id_99D5()
{
    self notify( "makeExplosiveUnusable" );
    self makeunusable();
}

_id_D53C( var_0 )
{
    switch ( var_0 )
    {
        case "s4_c4_mp":
            self sethintstring( &"EQUIPMENT_HINTS/PICKUP_C4" );
            self _meth_84D3( 125 );
            self setuserange( 125 );
            break;
        case "s4_mine_ger_s44_mp":
            self sethintstring( &"EQUIPMENT_HINTS/PICKUP_AT_MINE" );
            break;
        case "claymore_mp":
            self sethintstring( &"EQUIPMENT_HINTS/PICKUP_CLAYMORE" );
            break;
        case "gas_grenade_mp":
            self sethintstring( &"EQUIPMENT_HINTS/PICKUP_GAS_GRENADE" );
            break;
        case "trophy_mp":
            self sethintstring( &"EQUIPMENT_HINTS/PICKUP_TROPHY" );
            break;
    }
}

_id_57C8( var_0, var_1 )
{
    var_2 = spawnstruct();
    var_2._id_94F7 = var_0;
    var_2._id_43D6 = ::_id_A277;
    var_2._id_5318 = "death";

    if ( !isdefined( var_1 ) || !var_1 )
        var_2._id_84E1 = scripts\mp\movers::_id_A271;

    thread scripts\mp\movers::_id_73E7( var_2 );
}

_id_57CC( var_0, var_1, var_2 )
{
    if ( isplayer( var_0 ) && var_0 scripts\mp\utility\perk::_hasperk( "specialty_delaymine" ) )
    {
        var_0 thread _id_0793::_id_F616();
        var_1 = level._id_46B0;
    }

    wait( var_1 );
}

_id_699C( var_0, var_1, var_2, var_3 )
{
    var_4 = [];

    if ( !isdefined( var_2 ) )
        var_2 = 0;

    if ( !isdefined( var_3 ) )
        var_3 = 0;

    var_5 = var_1 * var_1;
    var_6 = level.players;

    for ( var_7 = 0; var_7 < var_6.size; var_7++ )
    {
        if ( !isalive( var_6[var_7] ) || var_6[var_7].sessionstate != "playing" )
            continue;

        var_8 = _id_0A62::_id_6419( var_6[var_7] );
        var_9 = distancesquared( var_0, var_8 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_8, var_3, var_6[var_7] ) ) )
            var_4[var_4.size] = _id_0A62::_id_6418( var_6[var_7], var_8 );
    }

    var_10 = getentarray( "grenade", "classname" );

    for ( var_7 = 0; var_7 < var_10.size; var_7++ )
    {
        var_11 = _id_0A62::_id_6416( var_10[var_7] );
        var_9 = distancesquared( var_0, var_11 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_11, var_3, var_10[var_7] ) ) )
            var_4[var_4.size] = _id_0A62::_id_6415( var_10[var_7], var_11 );
    }

    var_12 = getentarray( "destructible", "targetname" );

    for ( var_7 = 0; var_7 < var_12.size; var_7++ )
    {
        var_11 = var_12[var_7].origin;
        var_9 = distancesquared( var_0, var_11 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_11, var_3, var_12[var_7] ) ) )
        {
            var_13 = spawnstruct();
            var_13._id_896D = 0;
            var_13._id_8718 = 0;
            var_13._id_0186 = var_12[var_7];
            var_13._id_42CA = var_11;
            var_4[var_4.size] = var_13;
        }
    }

    var_14 = getentarray( "destructable", "targetname" );

    for ( var_7 = 0; var_7 < var_14.size; var_7++ )
    {
        var_11 = var_14[var_7].origin;
        var_9 = distancesquared( var_0, var_11 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_11, var_3, var_14[var_7] ) ) )
        {
            var_13 = spawnstruct();
            var_13._id_896D = 0;
            var_13._id_8718 = 1;
            var_13._id_0186 = var_14[var_7];
            var_13._id_42CA = var_11;
            var_4[var_4.size] = var_13;
        }
    }

    var_15 = getentarray( "misc_turret", "classname" );

    foreach ( var_17 in var_15 )
    {
        var_11 = var_17.origin + ( 0, 0, 32 );
        var_9 = distancesquared( var_0, var_11 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_11, var_3, var_17 ) ) )
        {
            switch ( var_17.model )
            {
                case "vehicle_ugv_talon_gun_mp":
                case "mp_scramble_turret":
                case "mp_sam_turret":
                case "sentry_minigun_weak":
                    var_4[var_4.size] = _id_0A62::_id_641A( var_17, var_11 );
                    break;
            }
        }
    }

    var_19 = getentarray( "script_model", "classname" );

    foreach ( var_21 in var_19 )
    {
        if ( var_21.model != "projectile_bouncing_betty_grenade" && var_21.model != "ims_scorpion_body" )
            continue;

        var_11 = var_21.origin + ( 0, 0, 32 );
        var_9 = distancesquared( var_0, var_11 );

        if ( var_9 < var_5 && ( !var_2 || _id_10D6E( var_0, var_11, var_3, var_21 ) ) )
            var_4[var_4.size] = _id_0A62::_id_6417( var_21, var_11 );
    }

    return var_4;
}

_id_10D6E( var_0, var_1, var_2, var_3 )
{
    var_4 = undefined;
    var_5 = var_1 - var_0;

    if ( _func_0133( var_5 ) < var_2 * var_2 )
        return 1;

    var_6 = vectornormalize( var_5 );
    var_4 = var_0 + ( var_6[0] * var_2, var_6[1] * var_2, var_6[2] * var_2 );
    var_7 = scripts\engine\trace::_bullet_trace( var_4, var_1, 0, var_3 );

    if ( getdvarint( "scr_damage_debug" ) != 0 || getdvarint( "scr_debugMines" ) != 0 )
    {
        thread _id_44CD( var_0, ".dmg" );

        if ( isdefined( var_3 ) )
            thread _id_44CD( var_1, "." + var_3.classname );
        else
            thread _id_44CD( var_1, ".undefined" );

        if ( var_7["fraction"] == 1 )
            thread _id_44BB( var_4, var_1, ( 1, 1, 1 ) );
        else
        {
            thread _id_44BB( var_4, var_7["position"], ( 1, 0.9, 0.8 ) );
            thread _id_44BB( var_7["position"], var_1, ( 1, 0.4, 0.3 ) );
        }
    }

    return var_7["fraction"] == 1;
}

_id_42D9( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    if ( self._id_896D )
    {
        self._id_42F4 = var_5;
        self._id_0186 thread [[ level._id_2F26 ]]( var_0, var_1, var_2, 0, var_3, var_4, var_5, var_6, "none", 0 );
    }
    else
    {
        if ( self._id_8718 && ( var_4.basename == "artillery_mp" || var_4.basename == "claymore_mp" || var_4.basename == "stealth_bomb_mp" ) )
            return;

        self._id_0186 notify( "damage", var_2, var_1, ( 0, 0, 0 ), ( 0, 0, 0 ), "MOD_EXPLOSIVE", "", "", "", undefined, var_4 );
    }
}

_id_44BB( var_0, var_1, var_2 )
{
    for ( var_3 = 0; var_3 < 600; var_3++ )
        wait 0.05;
}

_id_449E( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_3 ) )
        var_3 = 16;

    var_4 = 360 / var_3;
    var_5 = [];

    for ( var_6 = 0; var_6 < var_3; var_6++ )
    {
        var_7 = var_4 * var_6;
        var_8 = cos( var_7 ) * var_1;
        var_9 = sin( var_7 ) * var_1;
        var_10 = var_0[0] + var_8;
        var_11 = var_0[1] + var_9;
        var_12 = var_0[2];
        var_5[var_5.size] = ( var_10, var_11, var_12 );
    }

    for ( var_6 = 0; var_6 < var_5.size; var_6++ )
    {
        var_13 = var_5[var_6];

        if ( var_6 + 1 >= var_5.size )
            var_14 = var_5[0];
        else
            var_14 = var_5[var_6 + 1];

        thread _id_44BB( var_13, var_14, var_2 );
    }
}

_id_44CD( var_0, var_1 )
{
    for ( var_2 = 0; var_2 < 600; var_2++ )
        wait 0.05;
}

_id_ABC6( var_0, var_1, var_2, var_3, var_4 )
{
    self endon( "death_or_disconnect" );

    if ( !scripts\mp\utility\player::isreallyalive( self ) )
        return;

    switch ( var_1.basename )
    {
        case "apache_turret_mp":
        case "s4_molotov_mp":
        case "thermite_ap_mp":
        case "thermite_av_mp":
        case "pac_sentry_turret_mp":
        case "s4_stun_gbr_n69_mp":
            break;
        case "s4_thermite_mp":
            _id_099F::_id_0CD0( "s4_thermite_mp", "explosion", 0.5 );
            break;
        case "s4_frag_gbr_n82_mp":
        case "s4_frag_gbr_n23_mp":
        case "s4_frag_ger_m24_mp":
        case "s4_semtex_mp":
        case "s4_frag_usa_mk2_mp":
        case "s4_c4_mp":
        case "s4_bundle_charge_mp":
            _id_099F::_id_0CD0( "s4_frag_usa_mk2_mp", "explosion", 0.5 );
            break;
        default:
            _id_07EB::_id_D9C9( var_2, var_3 );
            break;
    }
}

_id_FC9E()
{
    self endon( "death_or_disconnect" );
    self endon( "faux_spawn" );
    self._id_900A = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_90B4 = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_8FAB = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ), self._id_E3A5, _func_0370() );
    self._id_8F88 = scripts\engine\utility::ter_op( isdefined( self._id_E3A5 ) && scripts\mp\utility\weapon::_id_877F( self._id_E3A5 ), self._id_E3A5, _func_0370() );

    for (;;)
    {
        self waittill( "weapon_change", var_0 );
        self._id_90B4 = var_0;

        if ( _id_8935( var_0 ) )
            self._id_900A = var_0;

        if ( _id_87F9( var_0 ) )
            self._id_8FAB = var_0;

        if ( scripts\mp\utility\weapon::_id_877F( var_0 ) )
            self._id_8F88 = var_0;
    }
}

_id_8935( var_0 )
{
    if ( var_0.basename == "none" )
        return 0;

    if ( var_0.classname == "turret" )
        return 0;

    if ( scripts\mp\utility\weapon::_id_8A63( var_0.basename ) )
        return 0;

    if ( scripts\mp\utility\weapon::_id_88DC( var_0.basename ) )
        return 0;

    if ( scripts\mp\utility\weapon::_id_8A3A( var_0 ) )
        return 0;

    if ( var_0._id_0226 != "primary" && var_0._id_0226 != "altmode" )
        return 0;

    return 1;
}

_id_87F9( var_0 )
{
    if ( var_0.basename == "none" )
        return 0;

    if ( _id_8844( var_0.basename ) )
        return 0;

    if ( _id_876C( var_0.basename ) )
        return 0;

    if ( scripts\mp\utility\weapon::_id_88DC( var_0.basename ) )
        return 0;

    if ( scripts\mp\utility\weapon::_id_8A63( var_0.basename ) )
        return 0;

    if ( var_0._id_0226 != "primary" )
        return 0;

    if ( var_0.classname == "turret" )
        return 0;

    if ( !scripts\mp\utility\weapon::_id_8780( var_0.basename ) && !scripts\mp\utility\weapon::_id_8782( var_0.basename ) )
        return 0;

    return 1;
}

_id_FCC9()
{
    self endon( "death_or_disconnect" );
    self endon( "faux_spawn" );

    for (;;)
    {
        self waittill( "weapon_change", var_0 );

        if ( var_0.basename == "none" )
            continue;
        else if ( scripts\mp\utility\weapon::_id_8A63( var_0.basename ) )
        {
            _id_FCCA();
            continue;
        }
        else if ( scripts\mp\utility\weapon::_id_88DC( var_0.basename ) )
            continue;
        else if ( var_0.basename == "s4_me_fists_mp_ls" )
        {
            _id_FCCA();
            continue;
        }
        else if ( var_0._id_0226 != "primary" && var_0._id_0226 != "altmode" )
            continue;

        _id_FCCA();
    }
}

_id_6E70()
{
    var_0 = 2.0;
    self._id_10DA7 = self getweaponslistprimaries();

    if ( self._id_10DA7.size )
    {
        foreach ( var_2 in self._id_10DA7 )
        {
            if ( scripts\mp\utility\weapon::_id_8A63( var_2 ) )
                var_3 = scripts\mp\supers::_id_6B4A( var_2 );
            else if ( scripts\mp\utility\weapon::_id_885C( var_2 ) )
                var_3 = _id_6A42( var_2 );
            else
                var_3 = _id_6E6F( var_2 );

            if ( var_3 == 0 )
                continue;

            if ( var_3 < var_0 )
                var_0 = var_3;
        }
    }
    else
        var_0 = 0.85;

    var_0 = _id_37D7( var_0 );
    return var_0;
}

_id_6E6F( var_0 )
{
    var_1 = scripts\mp\utility\weapon::getweaponrootname( var_0 );

    if ( !isdefined( var_1 ) || !isdefined( level._id_10DAE[var_1] ) || !isdefined( level._id_10DAE[var_1]._id_03C7 ) )
        return 1.0;

    return level._id_10DAE[var_1]._id_03C7;
}

_id_6A42( var_0 )
{
    return 0.93;
}

_id_37D7( var_0 )
{
    return clamp( var_0, 0.0, 1.0 );
}

_id_FD7C( var_0 )
{
    if ( isdefined( var_0 ) )
        self._id_103D2 = var_0;

    if ( isdefined( self._id_AD0A ) )
        var_0 = self._id_AD0A;
    else if ( isdefined( self._id_AD50 ) )
    {
        var_0 = self._id_AD50;
        var_1 = scripts\mp\utility\weapon::_id_10D85( self getcurrentweapon() );

        if ( var_1 == 1 )
            var_0 = self._id_AD53;
        else if ( var_1 == 3 )
            var_0 = self._id_AD51;
        else if ( var_1 == 2 )
            var_0 = self._id_AD52;
        else if ( var_1 == 4 )
            var_0 = self._id_AD54;
    }
    else if ( isdefined( self._id_103D2 ) )
        var_0 = self._id_103D2;
    else
        var_0 = 1.0;

    var_0 = clamp( var_0, 0.0, 1.0 );
    self setviewkickscale( var_0 );
}

_id_FCCA()
{
    var_0 = undefined;

    if ( isdefined( self._id_B7D1 ) )
    {
        var_0 = 1.0;
        var_0 = var_0 + self._id_B7D1;
    }
    else
    {
        var_0 = _id_6C43( self );

        if ( isdefined( self._id_AD59 ) )
            var_0 = self._id_AD59;

        var_1 = self._id_355D;

        if ( isdefined( var_1 ) && isdefined( var_1._id_E3F6 ) )
            var_0 = var_0 + var_1._id_E3F6;

        if ( isdefined( self._id_61BB ) )
            var_0 = var_0 + self._id_61BB;

        if ( isdefined( self._id_4A89 ) )
            var_0 = var_0 + self._id_4A89;

        if ( isdefined( self._id_E3F8 ) )
            var_0 = var_0 + self._id_E3F8;

        if ( isdefined( self._id_A0A5 ) )
            var_0 = var_0 + self._id_A0A5;
    }

    self._id_10DD7 = var_0;

    if ( !isdefined( self._id_3AA0 ) )
        self._id_3AA0 = 1;

    var_0 = var_0 + ( self._id_A24C - 1.0 );
    var_0 = var_0 + ( self._id_3AA0 - 1.0 );
    var_0 = clamp( var_0, 0.0, 1.08 );

    if ( isdefined( self._id_599C ) )
        var_0 = var_0 + self._id_599C;

    self setmovespeedscale( var_0 );
}

_id_6C43( var_0 )
{
    var_1 = 1.0;
    self._id_10DA7 = self getweaponslistprimaries();

    if ( !self._id_10DA7.size )
        var_1 = 0.85;
    else
    {
        var_2 = self getcurrentweapon();

        if ( !isdefined( var_2 ) )
            var_1 = _id_6E70();
        else if ( scripts\mp\utility\weapon::_id_8A63( var_2.basename ) )
            var_1 = scripts\mp\supers::_id_6B4A( var_2 );
        else if ( scripts\mp\utility\weapon::_id_885C( var_2.basename ) )
            var_1 = _id_6A42( var_2 );
        else if ( scripts\mp\utility\weapon::_id_88DC( var_2.basename ) )
            var_1 = 0.85;
        else if ( scripts\mp\utility\weapon::_id_886E( var_2.basename ) )
            var_1 = 0.85;
        else
        {
            if ( var_2._id_0226 != "primary" && var_2._id_0226 != "altmode" || scripts\mp\utility\weapon::_id_890D( var_2 ) )
            {
                if ( isdefined( self._id_900A ) )
                    var_2 = self._id_900A;
                else
                    var_2 = undefined;
            }

            if ( !self hasweapon( var_2 ) )
                var_1 = _id_6E70();
            else
                var_1 = _id_6E6F( var_2 );
        }
    }

    var_1 = _id_37D7( var_1 );
    return var_1;
}

_id_E57F()
{
    if ( !isplayer( self ) )
        return;

    self endon( "death_or_disconnect" );
    self endon( "faux_spawn" );
    self notifyonplayercommand( "adjustedStance", "+stance" );
    self notifyonplayercommand( "adjustedStance", "+goStand" );

    if ( !self _meth_8682() && !isai( self ) )
    {
        self notifyonplayercommand( "adjustedStance", "+togglecrouch" );
        self notifyonplayercommand( "adjustedStance", "toggleprone" );
        self notifyonplayercommand( "adjustedStance", "+movedown" );
        self notifyonplayercommand( "adjustedStance", "-movedown" );
        self notifyonplayercommand( "adjustedStance", "+prone" );
        self notifyonplayercommand( "adjustedStance", "-prone" );
    }

    for (;;)
    {
        scripts\engine\utility::_id_1087F( "adjustedStance", "sprint_begin", "weapon_change" );
        wait 0.5;
        var_0 = self getstance();
        _id_E580( var_0 );
    }
}

_id_E580( var_0 )
{
    var_1 = self getcurrentprimaryweapon();
    var_2 = 0;

    if ( _id_89D6( var_1 ) )
        var_2 = _id_6CC7();

    if ( var_0 == "prone" )
    {
        var_3 = scripts\mp\utility\weapon::_id_6E59( var_1 );

        if ( var_3 == "weapon_lmg" )
        {
            scripts\mp\utility\weapon::_id_D68E( 0, 0 );
            return;
        }

        if ( var_3 == "weapon_sniper" )
        {
            if ( var_1 _meth_8622( "barrelbored", 1 ) )
            {
                scripts\mp\utility\weapon::_id_D68E( 0, 0 + var_2 );
                return;
            }

            scripts\mp\utility\weapon::_id_D68E( 0, 0 + var_2 );
            return;
            return;
        }

        scripts\mp\utility\weapon::_id_D68E();
        return;
        return;
    }
    else if ( var_0 == "crouch" )
    {
        var_3 = scripts\mp\utility\weapon::_id_6E59( var_1 );

        if ( var_3 == "weapon_lmg" )
        {
            scripts\mp\utility\weapon::_id_D68E( 0, 0 );
            return;
        }

        if ( var_3 == "weapon_sniper" )
        {
            if ( var_1 _meth_8622( "barrelbored", 1 ) )
            {
                scripts\mp\utility\weapon::_id_D68E( 0, 0 + var_2 );
                return;
            }

            scripts\mp\utility\weapon::_id_D68E( 0, 0 + var_2 );
            return;
            return;
        }

        scripts\mp\utility\weapon::_id_D68E();
        return;
        return;
    }
    else if ( var_2 > 0 )
        scripts\mp\utility\weapon::_id_D68E( 0, var_2 );
    else
        scripts\mp\utility\weapon::_id_D68E();
}

_id_473A()
{
    if ( isdefined( level._id_715A ) )
    {
        foreach ( var_1 in level._id_715A )
        {
            if ( isdefined( var_1 ) && !istrue( var_1._id_57AE ) && !_id_896B( var_1 ) )
                var_1 delete();
        }
    }

    if ( isdefined( level._id_9F67 ) )
    {
        foreach ( var_4 in level._id_9F67 )
        {
            if ( isdefined( var_4 ) && !istrue( var_4._id_57AE ) && !_id_896B( var_4 ) )
                var_4 delete();
        }
    }
}

_id_9EC8()
{
    return 80;
}

_id_9EBB()
{
    self endon( "mine_selfdestruct" );
    self endon( "death" );
    self setcandamage( 1 );
    self.maxhealth = 100000;
    self.health = self.maxhealth;
    var_0 = undefined;
    var_1 = 1;
    var_2 = "hitequip";

    for (;;)
    {
        self waittill( "damage", var_3, var_0, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12, var_13, var_14, var_15 );
        var_11 = scripts\mp\utility\weapon::_id_9AB4( var_11, var_15 );
        var_16 = var_0;

        if ( !isplayer( var_0 ) && !isagent( var_0 ) )
        {
            if ( isdefined( var_0.owner ) && isplayer( var_0.owner ) )
                var_16 = var_0.owner;
        }

        if ( !isplayer( var_16 ) && !isagent( var_16 ) )
            continue;

        if ( isdefined( var_11 ) && _func_010B( var_11.basename, "betty_mp" ) )
            continue;

        if ( !_id_5F93( self.owner, var_16 ) )
            continue;

        if ( _id_0A62::_id_A594( var_16, var_11, var_15, var_6 ) )
            continue;

        var_17 = scripts\engine\utility::ter_op( _id_0A62::_id_884C( var_11, var_6 ) || var_3 >= 80, 2, 1 );
        var_1 = var_1 - var_17;
        _id_553D( self.owner, var_16, var_11, var_6 );

        if ( var_1 <= 0 )
            break;
        else
            var_16 _id_079B::_id_FC44( var_2 );
    }

    self notify( "mine_destroyed" );

    if ( isdefined( var_6 ) && ( issubstr( var_6, "MOD_GRENADE" ) || issubstr( var_6, "MOD_EXPLOSIVE" ) ) )
        self._id_10A09 = 1;

    if ( isdefined( var_10 ) && var_10 & level._id_7C86 )
        self._id_10A0D = 1;

    if ( isdefined( var_10 ) && var_10 & level._id_7C88 )
        self._id_10A0E = 1;

    self._id_10A0A = 1;

    if ( isdefined( var_16 ) )
        self._id_42D1 = var_16;

    if ( isdefined( self.killcament ) )
        self.killcament._id_42D1 = var_16;

    if ( isplayer( var_16 ) )
    {
        var_16 _id_079B::_id_FC44( var_2 );

        if ( var_16 != self.owner && var_16.team != self.owner.team )
        {
            var_16 scripts\mp\killstreaks\killstreaks::_id_6FCD( self, var_11 );
            var_16 scripts\mp\battlechatter_mp::_id_553B( self );
            _id_0793::_id_553B( var_15, var_0, var_3, var_10, undefined, var_11, undefined, var_16._id_9FE8 );
        }
    }

    if ( level.teambased )
    {
        if ( isdefined( var_16 ) && isdefined( var_16.pers["team"] ) && isdefined( self.owner ) && isdefined( self.owner.pers["team"] ) )
        {
            if ( var_16.pers["team"] != self.owner.pers["team"] )
                var_16 notify( "destroyed_equipment" );
        }
    }
    else if ( isdefined( self.owner ) && isdefined( var_16 ) && var_16 != self.owner )
        var_16 notify( "destroyed_equipment" );

    _id_0793::_id_9EBF( self, var_16, var_6 );

    if ( istrue( scripts\cp_mp\utility\player_utility::_id_B779( self.owner, var_16 ) ) && self._id_10D06 == "s4_mine_ger_s44_mp" )
    {
        if ( isdefined( self.owner ) && self.owner._id_B1BD.size > 1 )
            self.owner thread _id_0A64::_id_9120( "sm_destroyed_m" );
        else
            self.owner thread _id_0A64::_id_9120( "sm_destroyed_s" );
    }

    self notify( "detonateExplosive", var_16 );
}

_id_9ED7()
{
    self endon( "mine_triggered" );
    self endon( "mine_destroyed" );
    self endon( "death" );
    wait( level._id_9ED8 + randomfloat( 0.4 ) );
    self notify( "mine_selfdestruct" );
    self notify( "detonateExplosive" );
}

_id_9EC3()
{
    self endon( "death" );
    level endon( "game_ended" );
    self waittill( "detonateExplosive", var_0 );

    if ( !isdefined( self ) || !isdefined( self.owner ) )
        return;

    if ( !isdefined( var_0 ) )
        var_0 = self.owner;

    var_1 = self._id_3B4F;
    var_2 = var_1._id_103BF;

    if ( !isdefined( var_2 ) )
        var_2 = "tag_fx";

    var_3 = self gettagorigin( var_2 );

    if ( !isdefined( var_3 ) )
        var_3 = self gettagorigin( "tag_origin" );

    self notify( "explode", var_3 );
    waitframe();

    if ( !isdefined( self ) || !isdefined( self.owner ) )
        return;

    self hide();

    if ( isdefined( var_1._id_AAD1 ) )
        self thread [[ var_1._id_AAD1 ]]();

    if ( isdefined( var_1._id_AAD2 ) )
        self playsound( var_1._id_AAD2 );

    var_4 = scripts\engine\utility::ter_op( isdefined( var_1._id_AAD3 ), var_1._id_AAD3, level._id_9EAC );
    playfx( var_4, var_3 );
    var_5 = scripts\engine\utility::ter_op( isdefined( var_1._id_9EBA ), var_1._id_9EBA, level._id_9EBA );
    var_6 = scripts\engine\utility::ter_op( isdefined( var_1._id_9EB9 ), var_1._id_9EB9, level._id_9EB9 );
    var_7 = scripts\engine\utility::ter_op( isdefined( var_1._id_9EBC ), var_1._id_9EBC, level._id_9EBC );

    if ( var_6 > 0 )
        self radiusdamage( self.origin, var_7, var_6, var_5, var_0, "MOD_EXPLOSIVE", self._id_10D06 );

    wait 0.2;
    _id_474B();
}

_id_4764()
{
    if ( isdefined( self._id_B1BB ) )
    {
        foreach ( var_1 in self._id_B1BB )
        {
            if ( isdefined( var_1 ) )
                var_1 _id_474B();
        }
    }

    self._id_B1BB = [];

    if ( isdefined( self._id_B1BD ) )
    {
        foreach ( var_1 in self._id_B1BD )
        {
            if ( isdefined( var_1 ) )
                var_1 _id_474B();
        }
    }

    self._id_B1BD = [];
    var_5 = scripts\mp\utility\game::_id_873A();

    if ( isdefined( self._id_B1B9 ) )
    {
        foreach ( var_7, var_1 in self._id_B1B9 )
        {
            if ( isdefined( var_1 ) && ( !var_5 || !istrue( var_1._id_8A5A ) ) )
            {
                var_1 _id_474B();
                self._id_B1B9[var_7] = undefined;
            }
        }

        self._id_B1B9 = scripts\engine\utility::_id_1BA9( self._id_B1B9 );
    }

    if ( var_5 && isdefined( self._id_B1BC ) )
    {
        foreach ( var_7, var_1 in self._id_B1BC )
        {
            var_1 _id_474B();
            self._id_B1BC[var_7] = undefined;
        }

        self._id_B1BC = scripts\engine\utility::_id_1BA9( self._id_B1BC );
    }
}

_id_4744()
{
    var_0 = scripts\mp\equipment::_id_6985( "primary" );

    foreach ( var_2 in self._id_B1BB )
    {
        if ( isdefined( var_2 ) )
        {
            if ( !isdefined( var_2._id_5542 ) || !isdefined( var_0 ) || var_2._id_5542 != var_0 )
                var_2 _id_474B();
        }
    }

    var_4 = scripts\mp\equipment::_id_6985( "secondary" );

    foreach ( var_2 in self._id_B1BD )
    {
        if ( isdefined( var_2 ) )
        {
            if ( !isdefined( var_2._id_5542 ) || !isdefined( var_4 ) || var_2._id_5542 != var_4 )
                var_2 _id_474B();
        }
    }
}

_id_553A( var_0, var_1 )
{
    if ( isdefined( var_0 ) )
    {
        if ( isdefined( var_1 ) )
        {
            var_2 = anglestoforward( var_1 );
            var_3 = anglestoup( var_1 );
            playfx( scripts\engine\utility::getfx( "equipment_explode" ), var_0, var_2, var_3 );
            playfx( scripts\engine\utility::getfx( "equipment_smoke" ), var_0, var_2, var_3 );
        }
        else
        {
            playfx( scripts\engine\utility::getfx( "equipment_explode" ), var_0 );
            playfx( scripts\engine\utility::getfx( "equipment_smoke" ), var_0 );
        }

        playsoundatpos( var_0, "mp_killstreak_disappear" );
    }
    else if ( isdefined( self ) )
    {
        var_4 = self.origin;
        var_2 = anglestoforward( self.angles );
        var_3 = anglestoup( self.angles );
        playfx( scripts\engine\utility::getfx( "equipment_explode" ), var_4, var_2, var_3 );
        playfx( scripts\engine\utility::getfx( "equipment_smoke" ), var_4, var_2, var_3 );
        self playsound( "mp_killstreak_disappear" );
    }
}

_id_2CD7()
{
    level._id_1D83 = [];
    level._id_1D84 = [];
    level._id_1D6B = [];
    level._id_10D62 = [];
    var_0 = [];
    var_1 = 1;

    for ( var_2 = tablelookupbyrow( "mp/attachmentmap.csv", var_1, 0 ); var_2 != ""; var_2 = tablelookupbyrow( "mp/attachmentmap.csv", var_1, 0 ) )
    {
        var_0[var_0.size] = var_2;
        var_1++;
    }

    var_3 = [];
    var_4 = 1;

    for ( var_5 = tablelookupbyrow( "mp/attachmentmap.csv", 0, var_4 ); var_5 != ""; var_5 = tablelookupbyrow( "mp/attachmentmap.csv", 0, var_4 ) )
    {
        var_3[var_5] = var_4;
        var_4++;
    }

    level._id_1D7A = [];

    foreach ( var_2 in var_0 )
    {
        foreach ( var_10, var_8 in var_3 )
        {
            var_9 = _func_021D( "mp/attachmentmap.csv", 0, var_2, var_8 );

            if ( var_9 == "" )
                continue;

            if ( !isdefined( level._id_1D7A[var_2] ) )
                level._id_1D7A[var_2] = [];

            level._id_1D7A[var_2][var_10] = var_9;

            if ( !isdefined( level._id_1D83[var_9] ) )
            {
                level._id_1D83[var_9] = var_10;
                continue;
            }

            if ( level._id_1D83[var_9] != var_10 )
            {

            }
        }
    }

    level.attachmentmap_combooverrides = [];
    var_12 = [];
    var_1 = 1;

    for ( var_13 = tablelookupbyrow( "mp/attachmentmap_comboOverrides.csv", var_1, 0 ); var_13 != ""; var_13 = tablelookupbyrow( "mp/attachmentmap_comboOverrides.csv", var_1, 0 ) )
    {
        var_12[var_12.size] = var_13;
        var_1++;
    }

    var_14 = [];
    var_4 = 1;

    for ( var_15 = tablelookupbyrow( "mp/attachmentmap_comboOverrides.csv", 0, var_4 ); var_15 != ""; var_15 = tablelookupbyrow( "mp/attachmentmap_comboOverrides.csv", 0, var_4 ) )
    {
        var_14[var_14.size] = var_15;
        var_4++;
    }

    foreach ( var_13 in var_12 )
    {
        foreach ( var_8, var_15 in var_14 )
        {
            var_18 = _func_021D( "mp/attachmentmap_comboOverrides.csv", 0, var_13, var_8 + 1 );

            if ( var_18 == "" )
                continue;

            if ( !isdefined( level.attachmentmap_combooverrides[var_13] ) )
                level.attachmentmap_combooverrides[var_13] = [];

            level.attachmentmap_combooverrides[var_13][var_15] = var_18;
        }
    }

    foreach ( var_28, var_21 in level._id_10DAE )
    {
        if ( _func_00D6( var_28, 0, 4 ) == "iw8_" )
            var_22 = _func_00D6( var_28, 4 );
        else
            var_22 = var_28;

        var_23 = "mp/gunsmith/" + var_22 + "_progression.csv";

        if ( !_func_021C( var_23 ) )
            continue;

        level._id_10D62[var_28] = [];
        var_1 = 1;
        var_24 = tablelookupbyrow( var_23, var_1, 0 );
        var_25 = tablelookupbyrow( var_23, var_1, 1 );

        if ( _func_00D6( var_28, 0, 4 ) == "iw8_" )
            var_26 = "loot/iw8_" + var_22 + "_attachment_ids.csv";
        else
            var_26 = "loot/" + var_22 + "_attachment_ids.csv";

        while ( var_24 != "" )
        {
            if ( var_25 != "" )
            {
                var_27 = _func_021D( var_26, 0, var_25, 1 );

                if ( var_27 != "" )
                    level._id_10D62[var_28][var_27] = var_27;
            }

            var_1++;
            var_24 = tablelookupbyrow( var_23, var_1, 0 );
            var_25 = tablelookupbyrow( var_23, var_1, 1 );
        }
    }

    level._id_1D78 = [];
    level._id_1D77 = [];
    level._id_1D79 = [];
    level._id_1D82 = [];
    var_29 = _id_68C4();

    foreach ( var_31 in var_29 )
    {
        var_32 = _func_021D( "mp/attachmenttable.csv", 4, var_31, 2 );
        var_33 = scripts\mp\utility\weapon::_id_1D7D( var_31 );

        if ( var_32 != "" && isdefined( var_33 ) )
        {
            var_34 = level._id_1D79[var_33];

            if ( !isdefined( var_34 ) )
                level._id_1D79[var_33] = var_32;
            else if ( var_32 != var_34 )
                level._id_1D82[var_31] = var_32;
        }

        var_35 = _func_021D( "mp/attachmenttable.csv", 4, var_31, 12 );

        if ( var_35 != "" )
            level._id_1D78[var_31] = var_35;

        var_36 = _func_021D( "mp/attachmenttable.csv", 4, var_31, 13 );

        if ( var_36 != "" )
        {
            level._id_1D84[var_31] = var_36;
            level._id_1D6B[var_36] = 1;
        }

        var_37 = _func_021D( "mp/attachmenttable.csv", 4, var_31, 9 );

        if ( var_37 != "" )
            level._id_1D77[var_31] = var_37;
    }

    level._id_1D7B = [];
    var_39 = 1;

    for ( var_40 = tablelookupbyrow( "mp/attachmentcombos.csv", var_39, 0 ); var_40 != ""; var_40 = tablelookupbyrow( "mp/attachmentcombos.csv", var_39, 0 ) )
    {
        var_42 = 1;

        for ( var_41 = tablelookupbyrow( "mp/attachmentcombos.csv", 0, var_42 ); var_41 != ""; var_41 = tablelookupbyrow( "mp/attachmentcombos.csv", 0, var_42 ) )
        {
            if ( var_39 != var_42 )
            {
                var_43 = tablelookupbyrow( "mp/attachmentcombos.csv", var_39, var_42 );

                if ( !isdefined( level._id_1D7B[var_40] ) )
                    level._id_1D7B[var_40] = [];

                if ( var_43 != "" )
                    level._id_1D7B[var_40][var_41] = var_43;
            }

            var_42++;
        }

        var_39++;
    }
}

_id_68C4()
{
    var_0 = [];
    var_1 = 0;

    for ( var_2 = _func_021D( "mp/attachmenttable.csv", 0, var_1, 4 ); var_2 != ""; var_2 = _func_021D( "mp/attachmenttable.csv", 0, var_1, 4 ) )
    {
        var_0[var_2] = var_2;
        var_1++;
    }

    return var_0;
}

_id_2CF2()
{
    level._id_10DAE = [];
    level._id_10D96 = [];
    var_0 = tablelookupgetnumrows( "mp/statstable.csv" );

    for ( var_1 = 0; var_1 < var_0; var_1++ )
    {
        var_2 = tablelookupbyrow( "mp/statstable.csv", var_1, 0 );
        var_2 = int( var_2 );

        if ( var_2 == 0 )
            continue;

        var_3 = _func_021D( "mp/statstable.csv", 0, var_2, 4 );

        if ( var_3 != "" )
        {
            level._id_10DAE[var_3] = spawnstruct();
            var_4 = _func_021D( "mp/statstable.csv", 0, var_2, 0 );

            if ( var_4 != "" )
                level._id_10DAE[var_3]._id_A75B = var_4;

            var_5 = _func_021D( "mp/statstable.csv", 0, var_2, 1 );

            if ( var_5 != "" )
            {
                level._id_10DAE[var_3]._id_71D7 = var_5;
                var_6 = _func_021D( "mp/statstable.csv", 0, var_2, 41 );

                if ( var_6 != "" )
                {
                    var_7 = int( var_6 );

                    if ( var_7 > -1 )
                    {
                        if ( !isdefined( level._id_10D96[var_5] ) )
                            level._id_10D96[var_5] = [];

                        level._id_10D96[var_5][level._id_10D96[var_5].size] = var_3;
                    }
                    else
                        level._id_10DAE[var_3]._id_F91A = 1;
                }
            }

            var_8 = _func_021D( "mp/statstable.csv", 0, var_2, 5 );

            if ( var_8 != "" )
                level._id_10DAE[var_3]._id_1CC5 = var_8;

            var_9 = _func_021D( "mp/statstable.csv", 0, var_2, 44 );

            if ( var_9 != "" )
                level._id_10DAE[var_3]._id_AF92 = var_9;

            var_10 = _func_021D( "mp/statstable.csv", 0, var_2, 9 );
            var_11 = _id_AE59( var_10 );

            if ( isdefined( var_11 ) )
                level._id_10DAE[var_3]._id_1D53 = var_11;

            var_12 = _func_021D( "mp/statstable.csv", 0, var_2, 8 );

            if ( var_12 != "" )
            {
                var_12 = float( var_12 );
                level._id_10DAE[var_3]._id_03C7 = var_12;
            }

            var_13 = _func_021D( "mp/statstable.csv", 0, var_2, 61 );

            if ( var_13 != "" )
            {
                if ( var_13 == "1" )
                    level._id_10DAE[var_3]._id_8AFC = 1;
                else
                    level._id_10DAE[var_3]._id_8AFC = 0;
            }
            else
                level._id_10DAE[var_3]._id_8AFC = 0;
        }
    }

    level._id_10DAA = [];
    var_14 = -1;

    for (;;)
    {
        var_14++;
        var_15 = tablelookupbyrow( "loot/weapon_ids.csv", var_14, 0 );

        if ( var_15 == "" )
            break;

        var_3 = tablelookupbyrow( "loot/weapon_ids.csv", var_14, 1 );
        var_16 = tablelookupbyrow( "loot/weapon_ids.csv", var_14, 6 );
        var_17 = scripts\mp\utility\weapon::getweapongroup( var_3 );
        var_18 = _func_021D( var_17, 1, var_16, 0 );

        if ( var_18 == "" )
            continue;

        var_19 = var_3 + "|" + var_18;
        level._id_10DAA[var_19] = spawnstruct();
        level._id_10DAA[var_19]._id_04A4 = int( var_18 );
        var_20 = _func_021D( var_17, 1, var_16, 3 );

        if ( var_20 != "" )
            level._id_10DAA[var_19]._id_1CC6 = var_20;

        var_21 = _func_021D( "loot/weapon_ids.csv", 6, var_16, 5 );
        level._id_10DAA[var_19]._id_88F8 = int( var_18 ) != 0 && int( var_21 ) == 99;
        var_22 = _func_021D( var_17, 1, var_16, 4 );
        var_11 = _id_AE59( var_22 );

        if ( isdefined( var_11 ) )
        {
            if ( isdefined( level._id_10DAE[var_3] ) && isdefined( level._id_10DAE[var_3]._id_1D53 ) )
                var_11 = scripts\engine\utility::_id_1B76( var_11, level._id_10DAE[var_3]._id_1D53 );

            level._id_10DAA[var_19]._id_1D53 = var_11;
        }

        var_23 = [];

        for ( var_24 = 5; var_24 <= 15; var_24++ )
        {
            var_25 = _func_021D( var_17, 1, var_16, var_24 );

            if ( var_25 != "" )
            {
                var_26 = strtok( var_25, "|" );

                if ( var_26.size == 2 )
                    var_23[var_26[0]] = int( var_26[1] );
                else
                    var_23[var_26[0]] = 0;
            }
        }

        if ( var_23.size > 0 )
            level._id_10DAA[var_19]._id_1D50 = var_23;

        var_27 = _func_021D( var_17, 1, var_16, 16 );

        if ( var_27 != "" )
        {
            var_28 = [];
            var_29 = strtok( var_27, " " );

            foreach ( var_31 in var_29 )
            {
                var_32 = strtok( var_31, "|" );

                if ( var_32.size != 2 )
                    continue;

                var_28[var_32[0]] = int( var_32[1] );
            }

            if ( var_28.size > 0 )
                level._id_10DAA[var_19]._id_1D5E = var_28;
        }
    }
}

_id_AE59( var_0 )
{
    if ( var_0 != "" )
    {
        var_1 = strtok( var_0, " " );
        var_2 = [];

        foreach ( var_4 in var_1 )
        {
            var_5 = strtok( var_4, "|" );

            if ( getdvarint( "scr_selectfire_enabled", 1 ) == 0 )
            {
                if ( scripts\engine\utility::string_starts_with( var_5[0], "select" ) )
                    continue;
            }

            if ( var_5.size == 2 )
            {
                var_2[var_5[0]] = int( var_5[1] );
                continue;
            }

            var_2[var_5[0]] = 0;
        }

        return var_2;
    }

    return undefined;
}

_id_715F( var_0, var_1, var_2 )
{
    if ( !isdefined( self ) )
    {
        var_0._id_EA8C = var_1;
        var_1._id_EA8A = var_0;
        var_1._id_EA8B = var_0.owner;
    }
    else if ( level.teambased && isdefined( var_1.team ) && var_1.team == self.team )
        var_0._id_8A4F = "friendly";
    else
    {
        var_3 = undefined;
        var_4 = "incoming_stuck";

        switch ( var_0._id_10D06 )
        {
            case "s4_semtex_mp":
                var_3 = "semtex_stuck";
                var_4 = "stuck_sticky";
                break;
            case "s4_molotov_mp":
                var_3 = "molotov_stuck";
                var_4 = "flavor_surprise";
                break;
            case "s4_thermite_mp":
                var_3 = "thermite_attacker_stuck";
                var_4 = "stuck_thermite";
                break;
        }

        var_0._id_8A4F = "enemy";
        var_0._id_EA8C = var_1;
        var_1._id_EA8A = var_0;
        var_1._id_EA8B = var_0.owner;
        self notify( "grenade_stuck_enemy" );
        level thread scripts\mp\battlechatter_mp::_id_F756( var_1, var_4 );
        level thread scripts\mp\battlechatter_mp::_id_F756( var_0.owner, "flavor_stuckenemy" );

        if ( !istrue( var_2 ) )
            _id_7160( var_3, var_1 );
    }
}

_id_7160( var_0, var_1 )
{
    var_2 = self;

    if ( isplayer( var_1 ) && isdefined( var_0 ) )
    {
        if ( isdefined( var_2.owner ) )
            var_2 = var_2.owner;

        var_2 scripts\mp\hud_message::showsplash( var_0 );
    }

    var_2 thread _id_0788::_id_6F9C( "explosive_stick" );
}

_id_ACC5( var_0 )
{

}

_id_ACEE( var_0, var_1 )
{
    if ( level.teambased )
        thread _id_ACF0( var_0, var_1 );
    else
        thread _id_ACEF( var_0, var_1 );
}

_id_ACF0( var_0, var_1 )
{
    var_2 = scripts\mp\utility\outline::_id_ACBF( var_0, var_1.team, "outline_nodepth_cyan", "killstreak" );
    var_0 waittill( "death" );
    scripts\mp\utility\outline::outlinedisable( var_2, var_0 );
}

_id_ACEF( var_0, var_1 )
{
    var_2 = scripts\mp\utility\outline::outlineenableforplayer( var_0, var_1, "outline_nodepth_cyan", "killstreak" );
    var_0 waittill( "death" );
    scripts\mp\utility\outline::outlinedisable( var_2, var_0 );
}

_id_7149()
{
    return istrue( self._id_7149 );
}

_id_7148()
{
    self._id_7149 = !isnullweapon( self getheldoffhand() );
}

_id_F3BC( var_0, var_1 )
{
    var_2 = physics_createcontents( [ "physicscontents_glass", "physicscontents_missileclip", "physicscontents_vehicle", "physicscontents_item" ] );
    var_3 = scripts\engine\trace::_id_C043( var_0, var_1, level.players, var_2, undefined, 1 );
    return var_3;
}

_id_7D44( var_0, var_1 )
{
    var_2 = var_0 + var_1 * 4096;
    return var_2;
}

_id_7D40( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 )
{
    var_1 endon( "death_or_disconnect" );

    if ( !isdefined( var_1._id_25A4 ) )
        return;

    playfx( scripts\engine\utility::getfx( "penetration_railgun_impact" ), var_4 );
    var_9 = _id_7D44( var_4, var_5 );
    var_10 = _id_F3BC( var_4, var_9 );
    var_9 = var_10["position"] - var_5 * 12;
    var_11 = length( var_9 - var_4 );
    var_12 = var_11 / 1000;
    var_12 = max( var_12, 0.05 );

    if ( var_10["hittype"] != "hittype_world" )
        var_12 = 0;

    var_13 = var_12 > 0.05;

    if ( isdefined( var_1 ) )
        var_1._id_25A4 startragdoll();

    waitframe();

    if ( var_13 )
    {
        var_14 = var_5;
        var_15 = anglestoup( var_0.angles );
        var_16 = _func_0256( var_14, var_15 );
        var_17 = scripts\engine\utility::spawn_tag_origin( var_4, _func_0017( var_14, var_16, var_15 ) );
        var_17 moveto( var_9, var_12 );
        var_18 = _func_020D( var_1._id_25A4, var_6, var_7, var_8 );
        var_18.origin = var_17.origin;
        var_18.angles = var_17.angles;
        var_18 linkto( var_17 );

        if ( var_12 > 1 )
            thread _id_7D42( var_18, 1 );

        thread _id_7D41( var_1, var_17, var_12 + 0.25 );
        var_17 thread _id_7D43( var_9, var_12 );
    }
}

_id_7D42( var_0, var_1 )
{
    wait( var_1 );

    if ( isdefined( var_0 ) )
        var_0 delete();
}

_id_7D43( var_0, var_1 )
{
    wait( clamp( var_1 - 0.05, 0.05, 20 ) );
    playfx( scripts\engine\utility::getfx( "vfx_penetration_railgun_impact" ), var_0 );
}

_id_7D41( var_0, var_1, var_2 )
{
    if ( isdefined( var_0 ) )
        var_0 scripts\engine\utility::_id_108A5( var_2, "death_or_disconnect" );

    var_1 delete();
}

_id_00EA( var_0, var_1 )
{
    return [ 1.0, 1.0 ];
}

_id_D669()
{
    if ( !isdefined( self._id_8A52 ) )
        self._id_8A52 = 1;
    else
        self._id_8A52++;

    level thread scripts\mp\battlechatter_mp::_id_F756( self, "flavor_concussed" );
}

_id_D66D()
{
    self._id_8A52--;
}

_id_8A52()
{
    return isdefined( self._id_4406 ) && isdefined( self._id_4406["s4_stun_gbr_n69_mp"] );
}

_id_D64E()
{
    if ( !isdefined( self._id_8766 ) )
        self._id_8766 = 1;
    else
        self._id_8766++;

    level thread scripts\mp\battlechatter_mp::_id_F756( self, "flavor_blinded" );
}

_id_D66C()
{
    self._id_8766--;
}

_id_8766()
{
    return isdefined( self._id_4406 ) && isdefined( self._id_4406["flash_grenade_mp"] );
}

_id_8767( var_0 )
{
    if ( !isdefined( var_0 ) )
        return 0;

    var_1 = "flash_grenade_mp";
    var_2 = var_0 getentitynumber();

    if ( isdefined( self._id_4406 ) && isdefined( self._id_4406[var_1] ) && isdefined( self._id_4406[var_1][var_2] ) )
        return 1;

    return 0;
}

_id_8A53( var_0 )
{
    if ( !isdefined( var_0 ) )
        return 0;

    var_1 = "s4_stun_gbr_n69_mp";
    var_2 = var_0 getentitynumber();

    if ( isdefined( self._id_4406 ) && isdefined( self._id_4406[var_1] ) && isdefined( self._id_4406[var_1][var_2] ) )
        return 1;

    return 0;
}

_id_8A54()
{
    return _id_8766() || _id_8A52();
}

_id_3855( var_0 )
{
    self endon( "death_or_disconnect" );
    level endon( "game_ended" );
    wait( var_0 );
    _id_D66D();
}

_id_19CC()
{
    self endon( "death_or_disconnect" );
    wait 0.1;

    if ( isdefined( self ) && isplayer( self ) && !isbot( self ) )
    {
        self playlocalsound( "sonic_shotgun_debuff" );
        self _meth_867D( "sonic_shotgun_impact" );
    }
}

_id_10B8A()
{
    self endon( "death_or_disconnect" );

    for (;;)
    {
        self waittill( "weapon_switch_invalid", var_0 );
        var_1 = self getcurrentweapon();

        if ( var_1._id_0226 == "item" || var_1._id_0226 == "exclusive" )
            scripts\cp_mp\utility\inventory_utility::_switchtoweapon( self._id_8FAB );
    }
}

_id_10D9C( var_0 )
{
    var_1 = scripts\mp\utility\weapon::getweaponrootname( var_0 );
    var_2 = getweaponattachments( var_0 );

    foreach ( var_4 in var_2 )
    {
        var_5 = _id_1D6C( var_4 );

        if ( var_5 == "rail" )
        {
            var_6 = scripts\mp\utility\weapon::_id_1D7D( var_4 );

            if ( scripts\mp\utility\weapon::_id_1D73( var_1, var_6 ) )
                return 1;
        }
    }

    return 0;
}

_id_10AD1()
{
    self endon( "disconnect" );
    self notify( "watchDropWeapons" );
    self endon( "watchDropWeapons" );

    for (;;)
    {
        self waittill( "weapon_dropped", var_0, var_1 );

        if ( isdefined( var_0 ) && isdefined( var_1 ) && !scripts\mp\utility\weapon::_id_890F( var_1 ) && !scripts\mp\utility\weapon::_id_890D( var_1 ) && !scripts\mp\utility\weapon::_id_88DF( var_1 ) )
        {
            if ( var_0 _meth_846C() > 0 )
            {
                var_0 physics_registerforcollisioncallback();
                var_0 thread _id_10D78();
            }

            continue;
        }

        if ( isdefined( var_0 ) && isdefined( var_1 ) && scripts\mp\utility\weapon::_id_890F( var_1 ) && !scripts\mp\utility\weapon::_id_890D( var_1 ) && !scripts\mp\utility\weapon::_id_88DF( var_1 ) )
        {
            if ( var_0 _meth_846C() > 0 )
            {
                var_0 physics_registerforcollisioncallback();
                var_0 thread _id_10D78();
            }
        }
    }
}

_id_10D78()
{
    self endon( "death" );
    self endon( "timeout" );
    thread _id_10D79( 2 );
    self waittill( "collision", var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7 );

    if ( isdefined( self.classname ) && _func_00D6( self.classname, 0, 6 ) == "weapon" )
    {
        var_8 = _func_02C5( var_3 );
        var_9 = _func_00D6( var_8["name"], 9 );

        if ( var_9 == "user_terrain1" )
            var_9 = "user_terrain_1";

        switch ( _func_00D6( self.classname, 0, 12 ) )
        {
            case "weapon_s4_me":
                if ( _func_00D6( self.classname, 0, 18 ) == "weapon_s4_me_knife" )
                    self playsoundtoteam( "wpn_drop_knife", var_9 );
                else if ( _func_00D6( self.classname, 0, 20 ) == "weapon_s4_me_rindigo" )
                    self playsoundtoteam( "wpn_drop_ar", var_9 );
                else
                    self playsoundtoteam( "wpn_drop_ar", var_9 );

                break;
            case "weapon_s4_ar":
                if ( isdefined( self.objweapon ) )
                {
                    if ( isdefined( self.objweapon._id_0277 ) && self.objweapon._id_0277 == "polymer" )
                        self playsoundtoteam( "wpn_drop_med_poly", var_9 );
                    else
                        self playsoundtoteam( "wpn_drop_ar", var_9 );
                }
                else
                    self playsoundtoteam( "wpn_drop_ar", var_9 );

                break;
            case "weapon_s4_sm":
                if ( isdefined( self.objweapon ) )
                {
                    if ( isdefined( self.objweapon._id_0277 ) && self.objweapon._id_0277 == "polymer" )
                        self playsoundtoteam( "wpn_drop_small_poly", var_9 );
                    else
                        self playsoundtoteam( "wpn_drop_smg", var_9 );
                }
                else
                    self playsoundtoteam( "wpn_drop_smg", var_9 );

                break;
            case "weapon_s4_mg":
                self playsoundtoteam( "wpn_drop_lmg", var_9 );
                break;
            case "weapon_s4_sh":
                if ( isdefined( self.objweapon ) )
                {
                    if ( isdefined( self.objweapon._id_0277 ) && self.objweapon._id_0277 == "polymer" )
                        self playsoundtoteam( "wpn_drop_med_poly", var_9 );
                    else
                        self playsoundtoteam( "wpn_drop_sn", var_9 );
                }
                else
                    self playsoundtoteam( "wpn_drop_sn", var_9 );

                break;
            case "weapon_s4_mr":
                self playsoundtoteam( "wpn_drop_sn", var_9 );
                break;
            case "weapon_s4_pi":
                if ( isdefined( self.objweapon ) )
                {
                    if ( isdefined( self.objweapon._id_0277 ) && self.objweapon._id_0277 == "polymer" )
                        self playsoundtoteam( "wpn_drop_pistol_poly", var_9 );
                    else
                        self playsoundtoteam( "wpn_drop_pistol", var_9 );
                }
                else
                    self playsoundtoteam( "wpn_drop_pistol", var_9 );

                break;
            case "weapon_s4_la":
                self playsoundtoteam( "wpn_drop_launcher", var_9 );
                break;
            default:
                self playsoundtoteam( "wpn_drop_ar", var_9 );
                break;
        }
    }
}

_id_10D79( var_0 )
{
    wait( var_0 );
    self notify( "timeout" );
}

_id_10B6B( var_0, var_1 )
{
    self endon( "death" );
    level endon( "game_ended" );

    if ( !isdefined( self._id_10D06 ) && isdefined( var_1 ) )
        self._id_10D06 = var_1;

    self waittill( "missile_stuck", var_2, var_3 );

    if ( isdefined( var_2 ) && ( isplayer( var_2 ) || isagent( var_2 ) ) )
    {
        var_4 = var_3 == "tag_flicker";
        var_5 = var_2 scripts\mp\utility\perk::_hasperk( "specialty_rearguard" ) && var_3 == "tag_origin";
        var_6 = isdefined( var_3 ) && ( var_4 || var_5 );
        var_7 = isdefined( var_3 ) && var_3 == "tag_weapon";

        if ( var_6 )
        {
            playfx( scripts\engine\utility::getfx( "shield_metal_impact" ), self.origin );

            if ( isdefined( self.owner ) )
            {
                var_8 = self.owner;
                _id_C2E2( self._id_10D06, var_8 );
                return;
            }
        }
        else if ( !istrue( var_6 ) && isplayer( var_2 ) && !scripts\mp\utility\player::isreallyalive( var_2 ) && ( level.mapname == "mp_neon" || istrue( level._id_BF47 ) ) )
            return;
    }

    var_9 = 45;
    thread _id_10A93( var_9 );
    thread _id_10B6C();
    var_10 = makeweaponfromstring( self._id_10D06 );
    thread _id_10A94( var_0, var_10 );
    thread _id_10A92( var_0, var_10 );
}

_id_1FAF( var_0 )
{
    level endon( "game_ended" );
    var_1 = var_0 _meth_8150();

    foreach ( var_3 in var_1 )
    {
        if ( !isdefined( var_3 ) )
            continue;

        var_4 = var_3._id_10D06;
        var_5 = var_3.owner;
        var_6 = var_3.origin;

        if ( isdefined( var_4 ) && scripts\mp\utility\weapon::_id_875A( var_4 ) )
            var_3 _id_C2E2( var_4, var_5 );
    }
}

_id_C2E2( var_0, var_1 )
{
    self unlink();
    var_2 = scripts\mp\utility\weapon::_id_6E4D( var_0 );
    var_3 = _func_00D6( var_0, var_2.size );
    var_4 = var_1 scripts\mp\utility\weapon::_id_0C1F( "iw7_axe_mp_dummy" + var_3, self.origin, ( 0, 0, 0 ), 100, 1, self );
    var_4 setentityowner( var_1 );
    var_4 thread _id_10B6B( var_1, self._id_10D06 );
}

_id_10A93( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    scripts\mp\hostmigration::waitlongdurationwithhostmigrationpause( var_0 );
    self delete();
}

_id_10A92( var_0, var_1 )
{
    self endon( "death" );
    level endon( "game_ended" );
    var_2 = spawn( "trigger_radius", self.origin - ( 0, 0, 40 ), 0, 64, 64 );
    var_2 _meth_80DB();
    var_2 linkto( self );
    self._id_8E19 = var_2;
    var_2 endon( "death" );

    for (;;)
    {
        var_2 waittill( "trigger", var_0 );

        if ( !isplayer( var_0 ) )
            continue;

        if ( var_0 _id_B659( self ) )
        {
            var_0 _id_B729( var_1, 1 );
            self delete();
            break;
        }
    }
}

_id_10A94( var_0, var_1 )
{
    self endon( "death" );
    level endon( "game_ended" );
    var_2 = spawn( "script_model", self.origin );
    var_2 linkto( self );
    self._id_FE8F = var_2;
    var_2 makeuseable();
    var_2 setcursorhint( "HINT_NOICON" );
    var_2 _meth_84D8( "show" );
    var_2 sethintstring( &"WEAPON/PICKUP_AXE" );
    var_2 sethintdisplayfov( 360 );
    var_2 setusefov( 360 );
    var_2 _meth_84D3( 64 );
    var_2 setuserange( 64 );
    var_2 _meth_83A0( 0 );
    var_2 waittill( "trigger", var_0 );
    var_0 _id_B729( var_1, 0 );
    self delete();
}

_id_B659( var_0 )
{
    if ( isdefined( var_0.owner ) && self != var_0.owner )
        return 0;

    var_1 = self getweaponslistprimaries();
    var_2 = 0;
    var_3 = 0;

    foreach ( var_5 in var_1 )
    {
        if ( scripts\mp\utility\weapon::_id_875A( var_5 ) && self getweaponammoclip( var_5 ) == 0 )
        {
            var_2 = 1;
            break;
        }

        if ( issubstr( var_5.basename, "iw8_fists_mp" ) )
        {
            var_2 = 1;
            break;
        }

        if ( !var_5._id_022A )
            var_3++;
    }

    if ( var_3 < 2 )
        var_2 = 1;

    return var_2;
}

_id_B729( var_0, var_1 )
{
    var_2 = var_0 _meth_8626();
    var_3 = self getcurrentweapon();
    var_4 = self getweaponslistprimaries();

    if ( self hasweapon( var_0 ) )
    {
        var_5 = self getweaponammoclip( var_0 );

        if ( !var_1 && var_5 > 0 )
        {
            self dropitem( var_0 );
            scripts\cp_mp\utility\inventory_utility::_giveweapon( var_2 );
        }
        else if ( !issubstr( var_3.basename, var_0.basename ) )
        {
            scripts\cp_mp\utility\inventory_utility::_takeweapon( var_0 );
            scripts\cp_mp\utility\inventory_utility::_giveweapon( var_2 );
        }

        var_6 = self getweaponammoclip( var_3 ) == 0 && scripts\mp\utility\weapon::_id_875A( var_3 );
        var_7 = issubstr( var_3.basename, "iw8_fists_mp" );

        if ( !var_1 || var_7 || var_6 )
            scripts\cp_mp\utility\inventory_utility::_switchtoweapon( var_2 );

        self setweaponammoclip( var_2, 1 );
        scripts\mp\hud_message::_id_DCC3( "axe" );
        return;
    }

    var_8 = undefined;
    var_9 = 0;

    foreach ( var_11 in var_4 )
    {
        if ( var_11._id_022A )
            continue;

        if ( issubstr( var_11.basename, "uplinkball" ) )
            continue;

        var_12 = self getweaponammoclip( var_11 ) == 0 && scripts\mp\utility\weapon::_id_875A( var_11 );

        if ( !isdefined( var_8 ) && ( _func_0342( var_11 ) || var_12 ) )
            var_8 = var_11;

        var_9++;
    }

    var_14 = undefined;

    if ( isdefined( var_8 ) )
        var_14 = var_8;
    else if ( var_9 >= 2 )
        var_14 = var_3;

    var_15 = !var_1 || isdefined( var_14 ) && issubstr( var_3.basename, var_14.basename );

    if ( isdefined( var_14 ) )
    {
        var_12 = self getweaponammoclip( var_14 ) == 0 && scripts\mp\utility\weapon::_id_875A( var_14 );
        var_16 = var_14.basename == "iw8_fists_mp";
        var_17 = _func_026F( var_14 ) && !var_12;

        if ( var_17 )
        {
            var_18 = self dropitem( var_14 );

            if ( isdefined( var_18 ) )
            {
                var_19 = getcompleteweaponname( var_14 );

                if ( isdefined( self._id_F339[var_19] ) )
                {
                    var_18.owner = self._id_F339[var_19];
                    self._id_F339[var_19] = undefined;
                }
                else
                    var_18.owner = self;

                var_18._id_045A = "dropped_weapon";
                var_18.objweapon = var_14;
                var_18 thread _id_10BCD();
                var_18 thread _id_4762();
            }
        }
        else if ( !var_17 && !( var_16 && var_9 < 2 ) && !( var_12 && var_9 < 2 ) )
            self takeweapon( var_14 );
    }

    scripts\cp_mp\utility\inventory_utility::_giveweapon( var_2 );
    self setweaponammoclip( var_2, 1 );

    if ( var_15 )
        scripts\cp_mp\utility\inventory_utility::_switchtoweapon( var_2 );

    scripts\mp\hud_message::_id_DCC3( "axe" );
    _id_5BDC( self, var_2 );
}

_id_2F00( var_0, var_1, var_2, var_3 )
{
    _id_FC21( var_0, var_1 );
    _id_FD8D( var_0, var_1, var_2, var_3 );
    var_4 = self._id_10D68;

    if ( isdefined( var_4 ) )
    {
        foreach ( var_6 in var_4._id_2F2C )
            self [[ var_6 ]]( var_0, var_1 );

        foreach ( var_6 in var_4._id_AABE )
            self [[ var_6 ]]( var_0, var_1 );

        var_4._id_AABE = [];
    }
}

_id_FD8D( var_0, var_1, var_2, var_3 )
{
    if ( ( var_1.basename == "none" || var_1.basename == "alt_none" ) && isdefined( self._id_8FAA ) )
    {
        if ( var_1 == "alt_none" )
            var_3 = 1;
        else
            var_3 = 0;

        var_1 = self._id_8FAA;
    }

    _id_3972( var_1, var_3 );
    _id_CA70( var_0, var_2 );
}

_id_CA70( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
        return;

    if ( isdefined( var_1 ) && var_1 == 1 )
        var_2 = "alt_" + scripts\mp\utility\weapon::_id_6E4D( var_0 );
    else
        var_2 = scripts\mp\utility\weapon::_id_6E4D( var_0 );
}

_id_3972( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
        return;

    if ( isdefined( var_1 ) && var_1 == 1 )
        var_2 = "alt_" + scripts\mp\utility\weapon::_id_6E4D( var_0 );
    else
        var_2 = scripts\mp\utility\weapon::_id_6E4D( var_0 );

    switch ( var_2 )
    {
        case "s4_la_walpha2_mp":
            break;
        default:
            break;
    }
}

_id_FC21( var_0, var_1 )
{
    _id_3906( _func_00ED( var_1 ) );
    _id_CA1B( _func_00ED( var_0 ) );
}

_id_CA1B( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    switch ( var_0 )
    {
        case "camo84":
            thread _id_2584();
            break;
    }
}

_id_3906( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    switch ( var_0 )
    {
        case "camo84":
            self notify( "blood_camo_84" );
            break;
    }
}

_id_2584()
{
    self endon( "death_or_disconnect" );
    self endon( "blood_camo_84" );

    if ( isdefined( self._id_2588 ) )
        self setscriptablepartstate( "camo_84", self._id_2588 + "_kills" );
    else
        self._id_2588 = 0;

    while ( self._id_2588 < 13 )
    {
        self waittill( "kill_event_buffered" );
        self._id_2588 = self._id_2588 + 1;
        self setscriptablepartstate( "camo_84", self._id_2588 + "_kills" );
    }
}

_id_6866()
{
    return scripts\engine\utility::_id_1B99( level._id_9ECB );
}

_id_7F72()
{
    level._id_6866 = ::_id_6866;
}

_id_4C5C( var_0 )
{
    return var_0._id_022A && !issubstr( var_0._id_0490, "gl" ) && issubstr( var_0._id_0490, "shotgun" );
}

_id_108DB()
{
    for (;;)
    {
        self waittill( "grenade_fire", var_0, var_1, var_2, var_3 );

        if ( !scripts\mp\utility\weapon::_id_7163( var_0 ) )
            continue;

        _id_714B( var_0, var_1, var_2, var_3 );
        self notify( "grenade_throw" );
        return var_0;
    }
}

_id_714B( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_0._id_10D0A ) )
        var_0._id_10D0A = var_1;

    if ( !isdefined( var_0._id_10D06 ) )
        var_0._id_10D06 = var_1.basename;

    if ( !isdefined( var_0.owner ) )
        var_0.owner = self;

    if ( !isdefined( var_0.team ) )
        var_0.team = self.team;

    if ( !isdefined( var_0._id_F1DC ) )
        var_0._id_F1DC = var_2;

    if ( !isdefined( var_0._id_F1DD ) && isdefined( var_0._id_F1DC ) )
        var_0._id_F1DD = _id_0A78::_id_C940( 4 * var_2 );

    var_4 = scripts\mp\equipment::_id_69F5( var_1 );

    if ( isdefined( var_4 ) )
    {
        var_0._id_5542 = var_4;
        var_0._id_881B = 1;

        if ( var_4 == "equip_smoke" )
            var_0.owner _id_0A7B::_id_7D93( "smokesUsed", 1 );
    }

    var_0._id_F16D = isdefined( var_3 );
}

_id_108E5()
{
    self waittill( "missile_fire", var_0, var_1 );

    if ( isdefined( var_0 ) )
    {
        if ( !isdefined( var_0._id_10D06 ) )
        {
            if ( var_1._id_022A )
                var_0._id_10D06 = scripts\mp\utility\weapon::_id_6895( var_1 );
            else
                var_0._id_10D06 = var_1.basename;
        }

        if ( !isdefined( var_0.owner ) )
            var_0.owner = self;

        if ( !isdefined( var_0.team ) )
            var_0.team = self.team;
    }

    return var_0;
}

_id_521B( var_0, var_1 )
{
    if ( !isdefined( self._id_2D5C ) )
        self._id_2D5C = [];

    if ( !isdefined( var_1 ) )
        var_1 = "active";

    if ( !istrue( var_0 ) )
        thread _id_521D();

    self._id_2D5C[_id_6916( var_1 )] = var_1;
    thread _id_E683();
}

_id_6916( var_0 )
{
    switch ( var_0 )
    {
        case "nuke_active":
            return 3;
        case "wp_active":
            return 2;
        case "active":
            return 1;
        default:
            return 0;
    }
}

_id_6A82( var_0 )
{
    var_1 = 3;

    for ( var_2 = undefined; var_1 >= 0; var_1-- )
    {
        if ( isdefined( var_0[var_1] ) )
        {
            var_2 = var_0[var_1];
            break;
        }
    }

    return var_2;
}

_id_521D()
{
    if ( !isdefined( self._id_2D6E ) )
        self._id_2D6E = 0;

    if ( !isdefined( self._id_2D6D ) )
    {
        self._id_2D6D = spawn( "script_origin", self.origin );
        self._id_2D6D linkto( self );
        self._id_2D6D _id_0765::_id_C2A8( 1 );
        wait 0.05;
    }

    if ( self._id_2D6E == 0 )
    {
        self._id_2D6D playloopsound( "weap_molotov_fire_enemy_burn" );
        self._id_2D6E = 1;
    }
}

_id_521C( var_0, var_1 )
{
    if ( !isdefined( var_1 ) )
        var_1 = "active";

    var_2 = "endon_burnfxForTime_" + var_1;
    self notify( var_2 );
    self endon( "disconnect" );
    self endon( "clearBurnFX" );
    self endon( var_2 );
    thread _id_521B( 0, var_1 );
    wait( var_0 );
    thread _id_4A63( 0, var_1 );
}

_id_4A63( var_0, var_1 )
{
    if ( isdefined( var_1 ) )
    {
        if ( self._id_2D5C[_id_6916( var_1 )] == var_1 )
            self._id_2D5C[_id_6916( var_1 )] = undefined;
    }
    else
        self._id_2D5C = [];

    if ( self._id_2D5C.size > 0 )
        thread _id_E683();
    else
    {
        thread _id_E8FB();

        if ( !istrue( var_0 ) )
            thread _id_49C2();
    }
}

_id_49C2()
{
    if ( !isdefined( self._id_2D6E ) )
        self._id_2D6E = 0;

    wait 0.5;

    if ( self._id_2D6E == 1 )
    {
        if ( isdefined( self._id_2D6D ) )
        {
            self._id_2D6D _id_0765::_id_47E6();
            wait 0.15;

            if ( isdefined( self._id_2D6D ) )
            {
                self._id_2D6D stoploopsound( "weap_molotov_fire_enemy_burn" );
                self._id_2D6D delete();
            }
        }

        self._id_2D6E = 0;
    }
}

_id_EBC3( var_0 )
{
    if ( !isdefined( self._id_2D5D ) )
        self._id_2D5E = 0;

    if ( var_0 )
        self._id_2D5D++;
    else
        self._id_2D5D--;
}

_id_3903()
{
    self notify( "clearBurnFX" );
    thread _id_E8FB();
    self._id_2D5D = undefined;
    self._id_2D5B = undefined;
    self._id_2D5C = undefined;
}

_id_E683()
{
    self notify( "stopBurnFX" );
    self endon( "disconnect" );
    self endon( "stopBurnFX" );
    var_0 = _id_6A82( self._id_2D5C );

    for (;;)
    {
        var_1 = isdefined( self._id_2D5D ) && self._id_2D5D > 0;
        var_2 = isdefined( self._id_2D5B );

        if ( var_1 && var_2 )
        {
            self setscriptablepartstate( "burning", "neutral" );
            _id_079A::_id_47DC( "burning" );
            self._id_2D5B = undefined;
        }
        else if ( !var_1 && !var_2 || var_0 != self._id_2D5B )
        {
            self setscriptablepartstate( "burning", var_0 );
            self._id_2D5B = var_0;

            if ( !var_2 )
                _id_079A::_id_5446( "burning", ::_id_2D59 );
        }

        waitframe();
    }
}

_id_E8FB()
{
    self notify( "stopBurnFX" );

    if ( isdefined( self._id_2D5B ) )
    {
        self setscriptablepartstate( "burning", "neutral" );
        _id_079A::_id_47DC( "burning" );
        self._id_2D5B = undefined;
    }
}

_id_2D59( var_0 )
{
    var_0 setscriptablepartstate( "burning", "flareUp", 0 );
}

_id_D08B( var_0 )
{
    self endon( "disconnect" );
    var_0 endon( "death" );
    var_0 waittill( "missile_stuck", var_1 );

    if ( isplayer( var_1 ) )
    {
        thread _id_715F( var_0, var_1 );
        thread _id_D08A( var_0, var_1 );
    }
}

_id_D08A( var_0, var_1 )
{
    self endon( "disconnect" );
    var_0 endon( "end_explode" );
    var_1 endon( "disconnect" );
    var_1 endon( "death" );
    var_0 thread _id_0A78::_id_A682( "death", "end_explode" );
    var_0 waittill( "explode", var_2 );
    thread _id_D089( var_1, var_2 );
}

_id_D089( var_0, var_1 )
{
    var_0 _id_0996::_id_5EAC();
    var_0 dodamage( var_0.maxhealth, var_1, self, undefined, "MOD_EXPLOSIVE", makeweapon( "s4_semtex_mp" ) );
    var_0 _id_0996::_id_5EAD();
}
