// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !isdefined( level._id_B144 ) )
        level._id_B144 = [];
}

_id_6FAA( var_0, var_1 )
{
    var_2 = _id_400C( var_0 );
    _id_C4F0();
    self._id_32A7 = var_2;
    var_3 = _id_AA64( var_0, var_2, 1, var_1 );
    self._id_32A7 = undefined;
    _id_C701();
    return isdefined( var_2 );
}

_id_400C( var_0 )
{
    if ( isdefined( self._id_878D ) && self._id_878D )
        return;

    var_1 = level._id_B144[var_0];
    var_2 = spawn( "script_model", self.origin );
    var_2 setmodel( var_1._id_9FBD );
    var_2.angles = self.angles;
    var_2.owner = self;
    var_2.team = self.team;
    var_2._id_3B4F = var_1;
    var_2._id_5BBA = 1;

    if ( isdefined( var_1._id_AA86 ) )
        var_2 [[ var_1._id_AA86 ]]( var_0 );

    var_2 _id_434D( var_0 );
    var_2 thread _id_F221( var_0 );
    var_2 thread _id_748C( var_0 );
    var_2 thread _id_AB02( var_0 );
    var_2 thread _id_AAE3( var_0 );
    return var_2;
}

_id_748C( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );

    for (;;)
    {
        self waittill( "trigger", var_1 );

        if ( !scripts\mp\utility\player::isreallyalive( var_1 ) )
            continue;

        if ( isdefined( self _meth_8151() ) )
            self unlink();

        var_1 _id_AA64( var_0, self, 0 );
    }
}

_id_AA64( var_0, var_1, var_2, var_3 )
{
    self endon( "death_or_disconnect" );
    var_1 thread _id_AA6F( var_0, self );
    scripts\common\utility::_id_1565( 0 );

    if ( !isai( self ) )
    {
        self notifyonplayercommand( "placePlaceable", "+attack" );
        self notifyonplayercommand( "placePlaceable", "+attack_akimbo_accessible" );
        self notifyonplayercommand( "cancelPlaceable", "+actionslot 4" );

        if ( !self _meth_8682() )
        {
            self notifyonplayercommand( "cancelPlaceable", "+actionslot 5" );
            self notifyonplayercommand( "cancelPlaceable", "+actionslot 6" );
            self notifyonplayercommand( "cancelPlaceable", "+actionslot 7" );
        }
    }

    for (;;)
    {
        if ( isdefined( var_3 ) && var_3 == 1 && !self isonladder() && self isonground() && !self _meth_81CD() )
            var_4 = "placePlaceable";
        else
            var_4 = scripts\engine\utility::_id_10896( "placePlaceable", "cancelPlaceable", "force_cancel_placement" );

        if ( !isdefined( var_1 ) )
        {
            scripts\common\utility::_id_1565( 1 );
            return 1;
        }
        else if ( var_4 == "cancelPlaceable" && var_2 || var_4 == "force_cancel_placement" )
        {
            var_1 _id_AA6B( var_0, var_4 == "force_cancel_placement" && !isdefined( var_1._id_5BBA ) );
            return 0;
        }
        else if ( var_1._id_3126 )
        {
            var_1 thread _id_AB42( var_0 );
            scripts\common\utility::_id_1565( 1 );
            return 1;
        }
        else
            waitframe();
    }
}

_id_AA6B( var_0, var_1 )
{
    if ( isdefined( self._id_32A4 ) )
    {
        var_2 = self._id_32A4;
        var_2 _meth_80FC();
        var_2._id_878D = undefined;
        var_2._id_32A7 = undefined;
        var_2 scripts\common\utility::_id_1565( 1 );
    }

    if ( isdefined( self._id_2659 ) )
        self._id_2659 delete();

    if ( isdefined( self._id_32A9 ) )
        self._id_32A9 delete();

    var_3 = level._id_B144[var_0];

    if ( isdefined( var_3._id_AA6C ) )
        self [[ var_3._id_AA6C ]]( var_0 );

    if ( isdefined( var_1 ) && var_1 )
        scripts\mp\weapons::_id_553A();

    self delete();
}

_id_AB42( var_0 )
{
    var_1 = level._id_B144[var_0];
    self.origin = self._id_B161;
    self.angles = self._id_32A9.angles;
    self playsound( var_1._id_B14F );
    _id_DCD1( var_0 );

    if ( isdefined( var_1._id_AB43 ) )
        self [[ var_1._id_AB43 ]]( var_0 );

    self setcursorhint( "HINT_NOICON" );
    self sethintstring( var_1._id_020A );
    var_2 = self.owner;
    var_2 _meth_80FC();
    var_2._id_878D = undefined;
    self._id_32A4 = undefined;
    self._id_8969 = 1;
    self._id_5BBA = undefined;

    if ( isdefined( var_1._id_75D7 ) )
        self._id_75D8 = thread _id_0766::_id_D587( 0, var_1._id_75D7, 0, undefined, undefined, undefined, 1 );

    thread _id_7413( var_0 );
    thread _id_7415( var_0 );
    self makeuseable();
    _id_07E9::_id_C2A4( "Killstreak_Ground", self.owner );

    foreach ( var_4 in level.players )
    {
        if ( var_4 == var_2 )
        {
            self _meth_80E0( var_4 );
            continue;
        }

        self disableplayeruse( var_4 );
    }

    if ( isdefined( self._id_DBDE ) )
    {
        level thread scripts\mp\hud_util::_id_EF8A( var_1._id_E416, var_2 );
        self._id_DBDE = 0;
    }

    var_6 = spawnstruct();
    var_6._id_94F7 = self._id_A270;
    var_6._id_B372 = 1;
    var_6._id_5318 = "carried";

    if ( isdefined( var_1._id_AB28 ) )
        var_6._id_43D6 = var_1._id_AB28;

    thread scripts\mp\movers::_id_73E7( var_6 );
    thread _id_10BD3();
    self notify( "placed" );
    self._id_32A9 delete();
    self._id_32A9 = undefined;
}

_id_AA6F( var_0, var_1 )
{
    var_2 = level._id_B144[var_0];
    self._id_32A9 = var_1 _id_3F85( var_0 );
    self._id_8969 = undefined;
    self._id_32A4 = var_1;
    var_1._id_878D = 1;
    _id_434D( var_0 );
    _id_78F4( var_0 );

    if ( isdefined( var_2._id_AA70 ) )
        self [[ var_2._id_AA70 ]]( var_0 );

    thread _id_FCF0( var_0, var_1 );
    thread _id_AA71( var_0, var_1 );
    self notify( "carried" );
}

_id_FCF0( var_0, var_1 )
{
    var_1 endon( "death_or_disconnect" );
    level endon( "game_ended" );
    self endon( "placed" );
    self endon( "death" );
    self._id_3126 = 1;
    var_2 = -1;
    var_3 = level._id_B144[var_0];
    var_4 = ( 0, 0, 0 );

    if ( isdefined( var_3._id_B160 ) )
        var_4 = ( 0, 0, var_3._id_B160 );

    var_5 = self._id_32A9;

    for (;;)
    {
        var_6 = var_1 _meth_8064( 1, var_3._id_B162 );
        self._id_B161 = var_6["origin"];
        var_5.origin = self._id_B161 + var_4;
        var_5.angles = var_6["angles"];
        self._id_3126 = var_1 isonground() && var_6["result"] && abs( self._id_B161[2] - var_1.origin[2] ) < var_3._id_B15B;

        if ( isdefined( var_6["entity"] ) )
            self._id_A270 = var_6["entity"];
        else
            self._id_A270 = undefined;

        if ( self._id_3126 != var_2 )
        {
            if ( self._id_3126 )
            {
                var_5 setmodel( var_3._id_9FCA );
                var_1 _meth_80FD( var_3._id_B169 );
            }
            else
            {
                var_5 setmodel( var_3._id_9FCB );
                var_1 _meth_80FD( var_3._id_317E );
            }
        }

        var_2 = self._id_3126;
        waitframe();
    }
}

_id_434D( var_0 )
{
    self makeunusable();
    _id_78E3();
    var_1 = level._id_B144[var_0];

    if ( isdefined( var_1._id_AA8F ) )
        self [[ var_1._id_AA8F ]]( var_0 );
}

_id_78E3()
{
    _id_0766::_id_D586( self._id_75D8 );
}

_id_7413( var_0 )
{
    self endon( "carried" );
    var_1 = level._id_B144[var_0];
    _id_079A::_id_A0EC( var_1.maxhealth, var_1._id_42DC, ::_id_7417, ::_id_9FF4, 1 );
}

_id_9FF4( var_0 )
{
    var_1 = var_0.attacker;
    var_2 = var_0.objweapon;
    var_3 = var_0._id_9CBF;
    var_4 = var_0.damage;
    var_5 = var_0._id_7C7C;
    var_6 = var_4;
    var_7 = self._id_3B4F;

    if ( isdefined( var_7._id_1599 ) && var_7._id_1599 )
        var_6 = _id_079A::_id_744C( var_2, var_3, var_6 );

    if ( isdefined( var_7._id_158C ) && var_7._id_158C )
        var_6 = _id_079A::_id_7421( var_2, var_3, var_6 );

    var_6 = _id_079A::_id_7450( var_2, var_3, var_6 );
    var_6 = _id_079A::_id_7437( var_2, var_3, var_6 );
    var_6 = _id_079A::_id_7401( var_2, var_3, var_6 );

    if ( isdefined( var_7._id_9FF4 ) )
        var_6 = self [[ var_7._id_9FF4 ]]( var_2, var_3, var_6 );

    return var_6;
}

_id_7417( var_0 )
{
    var_1 = var_0.attacker;
    var_2 = var_0.objweapon;
    var_3 = var_0._id_9CBF;
    var_4 = var_0.damage;
    var_5 = self._id_3B4F;
    var_6 = _id_079A::_id_AB05( self._id_EA0F, var_1, var_2, var_3, var_4, var_5._id_CC09, var_5._id_482B );

    if ( var_6 && isdefined( var_5._id_AAA0 ) )
        self [[ var_5._id_AAA0 ]]( self._id_EA0F, var_1, self.owner, var_3 );
}

_id_7415( var_0 )
{
    self endon( "carried" );
    self waittill( "death" );
    var_1 = level._id_B144[var_0];

    if ( isdefined( self ) )
    {
        _id_434D( var_0 );

        if ( isdefined( var_1._id_9FC2 ) )
            self setmodel( var_1._id_9FC2 );

        if ( isdefined( var_1._id_AA93 ) )
            self [[ var_1._id_AA93 ]]( var_0 );

        self delete();
    }
}

_id_AA71( var_0, var_1 )
{
    self endon( "placed" );
    self endon( "death" );
    var_1 endon( "disconnect" );
    var_1 waittill( "death" );

    if ( self._id_3126 )
        thread _id_AB42( var_0 );
    else
        _id_AA6B( var_0 );
}

_id_AB02( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    childthread _id_10BC3( "disconnect", var_0 );
    childthread _id_10BC3( "joined_team", var_0 );
    childthread _id_10BC3( "joined_spectators", var_0 );
}

_id_10BC3( var_0, var_1 )
{
    self.owner waittill( var_0 );
    _id_3820( var_1 );
}

_id_AAE3( var_0 )
{
    self endon( "death" );
    level waittill( "game_ended" );
    _id_3820( var_0 );
}

_id_3820( var_0 )
{
    if ( isdefined( self._id_8969 ) )
        self notify( "death" );
    else
        _id_AA6B( var_0 );
}

_id_10BD3()
{
    self endon( "death" );

    for (;;)
    {
        level waittill( "connected", var_0 );
        thread _id_AB4A( var_0 );
    }
}

_id_AB4A( var_0 )
{
    self endon( "death" );
    var_0 endon( "disconnect" );
    var_0 waittill( "spawned_player" );
    self disableplayeruse( var_0 );
}

_id_F221( var_0 )
{
    self endon( "death" );
    level endon( "game_ended" );
    var_1 = level._id_B144[var_0];
    var_2 = var_1._id_935A;

    while ( var_2 > 0.0 )
    {
        wait 1.0;
        scripts\mp\hostmigration::_id_10956();

        if ( !isdefined( self._id_32A4 ) )
            var_2 = var_2 - 1.0;
    }

    if ( isdefined( self.owner ) && isdefined( var_1._id_70BE ) )
        self.owner thread _id_0A64::_id_9120( var_1._id_70BE );

    self notify( "death" );
}

_id_C533()
{
    if ( self hasweapon( "iw6_riotshield_mp" ) )
    {
        self._id_C706 = "iw6_riotshield_mp";
        scripts\cp_mp\utility\inventory_utility::_takeweapon( "iw6_riotshield_mp" );
    }
}

_id_C4F0()
{
    if ( scripts\mp\utility\perk::_hasperk( "specialty_explosivebullets" ) )
    {
        self._id_C700 = "specialty_explosivebullets";
        scripts\mp\utility\perk::removeperk( "specialty_explosivebullets" );
    }
}

_id_C708()
{
    if ( isdefined( self._id_C706 ) )
    {
        scripts\cp_mp\utility\inventory_utility::_giveweapon( self._id_C706 );
        self._id_C706 = undefined;
    }
}

_id_C701()
{
    if ( isdefined( self._id_C700 ) )
    {
        scripts\mp\utility\perk::_id_6FA5( self._id_C700 );
        self._id_C700 = undefined;
    }
}

_id_DCD1( var_0 )
{
    self show();

    if ( isdefined( self._id_2659 ) )
    {
        self._id_2659 show();
        level notify( "update_bombsquad" );
    }
}

_id_78F4( var_0 )
{
    self hide();

    if ( isdefined( self._id_2659 ) )
        self._id_2659 hide();
}

_id_3F85( var_0 )
{
    if ( isdefined( self._id_878D ) && self._id_878D )
        return;

    var_1 = _func_0210( "misc_turret", self.origin + ( 0, 0, 25 ), "sentry_minigun_mp" );
    var_1.angles = self.angles;
    var_1.owner = self;
    var_2 = level._id_B144[var_0];
    var_1 setmodel( var_2._id_9FBD );
    var_1 _meth_8223();
    var_1 _meth_839C( 1 );
    var_1 _meth_834F( "sentry_offline" );
    var_1 makeunusable();
    var_1 _meth_8376( self );
    var_1 _meth_8375( self );
    var_1 setcandamage( 0 );
    var_1 notsolid();
    return var_1;
}
