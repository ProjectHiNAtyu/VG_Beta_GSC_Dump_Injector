// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_id_7E9B( var_0 )
{
    if ( !isdefined( level._id_11C4 ) )
        level._id_11C4 = [];

    _id_809D();
    var_1 = [];
    var_1["species"] = 3;
    var_1["traversal_unit_type"] = 4;
    var_1["body_model"] = 5;
    var_1["animclass"] = 6;
    var_1["health"] = 7;
    var_1["xp"] = 8;
    var_1["reward"] = 9;
    var_1["behaviorTree"] = 10;
    var_1["asm"] = 11;
    var_1["radius"] = 12;
    var_1["height"] = 13;
    var_1["legacy"] = 14;
    var_2 = 0;
    var_3 = 50;

    for ( var_4 = var_2; var_4 <= var_3; var_4++ )
    {
        var_5 = tablelookupbyrow( var_0, var_4, 2 );

        if ( var_5 == "" )
            break;

        var_6 = [];

        foreach ( var_11, var_8 in var_1 )
        {
            var_9 = tablelookupbyrow( var_0, var_4, var_8 );

            if ( var_9 == "0" )
                var_9 = 0;
            else if ( int( var_9 ) != 0 )
            {
                var_10 = var_9 + "";

                if ( issubstr( var_10, "." ) )
                    var_9 = float( var_9 );
                else
                    var_9 = int( var_9 );
            }

            var_6[var_11] = var_9;
        }

        level._id_11C4[var_5] = var_6;
    }

    level notify( "scripted_agents_initialized" );
}

_id_809D()
{
    level._id_11C2 = [];
    level._id_11DC = 500;
}

_id_D785()
{
    var_0 = level._id_11C4[self._id_11E7];

    if ( !isdefined( var_0["behaviorTree"] ) || var_0["behaviorTree"] == "" )
        return;

    _id_0017::_id_1273( var_0["behaviorTree"], var_0["asm"] );
}

_id_D8BB( var_0 )
{
    self._id_04CE = var_0;
    self giveweapon( self._id_04CE );
    self setspawnweapon( self._id_04CE );
    self._id_00C4 = weaponclipsize( self._id_04CE );
    self._id_0326 = self._id_04CE;
    self._id_01F1 = _func_0370();
    self._id_01ED = 0;
}

_id_D818( var_0 )
{
    self._id_03C2 = var_0;
}

_id_E327( var_0, var_1, var_2 )
{
    if ( !scripts\engine\utility::string_starts_with( var_0, "actor_" ) )
        var_0 = "actor_" + var_0;

    if ( !isdefined( level._id_11C4[var_0] ) )
        return undefined;

    var_3 = _id_E326( var_0, level._id_11C4[var_0]["team"], var_1, var_2 );
    return var_3;
}

_id_E326( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_6 = _id_6A37( var_0 );

    if ( isdefined( var_6 ) )
    {
        if ( !isdefined( var_3 ) )
            var_3 = ( 0, 0, 0 );

        var_6._id_3B62 = gettime();

        if ( isdefined( var_5 ) )
            var_6 _id_D818( var_5 );

        if ( !isdefined( var_1 ) )
            var_1 = "axis";

        var_6 _id_D129( var_1 );
        var_6 _id_D126( var_6, var_0 );
        var_6 _id_D128( var_6, var_0 );

        if ( _id_8694( var_0 ) )
            var_6 = _id_E1E8( var_6, var_0, var_2, var_3 );
        else
            var_6 = _id_E1D3( var_6, var_2, var_3 );

        var_6 _id_D129( var_1 );
        var_6 _id_D740( var_0 );
        var_6 _id_D127( var_6, var_0 );
        var_6 _id_D12A( var_6, var_0 );
        var_6 _id_100A();

        if ( _id_86E1( var_0 ) )
            var_6 _id_D785();

        if ( isdefined( var_4 ) )
        {
            if ( isweapon( var_4 ) )
                var_6 _id_D8BB( var_4 );
            else
                return undefined;
        }

        var_6 _id_0EBB();
        var_6 scripts\engine\utility::_id_D12D();
    }

    return var_6;
}

_id_10A67()
{
    self endon( "death" );

    for (;;)
    {
        if ( !isdefined( self.team ) )
            level notify( "agent_missing_team" );

        waitframe();
    }
}

_id_D12A( var_0, var_1 )
{
    if ( !_id_30D2( var_0 ) )
        return;

    if ( !isdefined( anim._id_18AF ) )
        scripts\anim\animselector::init();

    var_0._id_0492 = level._id_11C4[var_1]["traversal_unit_type"];
}

_id_30D2( var_0 )
{
    if ( _id_852E( var_0 ) )
        return 1;

    return 0;
}

_id_D126( var_0, var_1 )
{
    var_2 = level._id_11C4[var_1]["setup_model_func"];

    if ( isdefined( var_2 ) )
    {
        var_0 [[ var_2 ]]( var_1 );
        return;
    }

    var_0 _meth_809D();
    var_0 setmodel( level._id_11C4[var_1]["body_model"] );
    var_0 show();
}

_id_8694( var_0 )
{
    return level._id_11C4[var_0]["animclass"] != "";
}

_id_86E1( var_0 )
{
    if ( !isdefined( level._id_11C4[var_0] ) )
        return 0;

    return level._id_11C4[var_0]["behaviorTree"] != "";
}

_id_E1E8( var_0, var_1, var_2, var_3 )
{
    var_0._id_AAB2 = var_0 _id_E3D8( "on_enter_animstate" );
    var_0._id_8694 = 1;
    var_4 = level._id_11C4[var_1]["radius"];

    if ( !isdefined( var_4 ) )
        var_4 = 15;

    var_5 = level._id_11C4[var_1]["height"];

    if ( !isdefined( var_5 ) )
        var_5 = 50;

    var_6 = level._id_11C4[var_1]["legacy"];

    if ( !isdefined( var_6 ) || _func_0120( var_6 ) )
        var_6 = 0;

    var_0 spawn( var_2, var_3, level._id_11C4[var_1]["animclass"], var_4, var_5, undefined, var_6 );
    var_0._id_11CA = var_5;
    var_0._id_11DB = var_4;
    var_0._id_918C = spawnstruct();
    return var_0;
}

_id_E1D3( var_0, var_1, var_2 )
{
    var_0._id_8694 = 0;
    var_0 spawn( var_1, var_2 );
    return var_0;
}

_id_852E( var_0 )
{
    return var_0._id_8694;
}

_id_11C8( var_0, var_1, var_2, var_3, var_4 )
{
    if ( _id_852E( self ) )
        self _meth_8325( var_0 );
    else
        self _meth_8057( var_0, var_1, var_2, var_3, var_4 );
}

_id_D740( var_0 )
{
    var_1 = level._id_11C4[var_0];

    if ( !isdefined( var_1 ) )
        return;

    var_2 = var_1["setup_func"];

    if ( !isdefined( var_2 ) )
        return;

    self [[ var_2 ]]();
}

_id_D128( var_0, var_1 )
{
    if ( !isdefined( level._id_11C6[var_1] ) )
        level._id_11C6[var_1] = [];

    var_0._id_E3D5 = level._id_11C4[var_1]["species"];

    if ( isdefined( var_0._id_E3D5 ) && !isdefined( level._id_E3D6[var_0._id_E3D5] ) || !isdefined( level._id_E3D6[var_0._id_E3D5]["on_enter_animstate"] ) )
    {
        level._id_E3D6[var_0._id_E3D5] = [];
        level._id_E3D6[var_0._id_E3D5]["on_enter_animstate"] = ::_id_455A;
    }

    _id_1CC8( "spawn", ::_id_4569 );
    _id_1CC8( "on_damaged", ::_id_4558 );
    _id_1CC8( "on_damaged_finished", ::_id_4559 );
    _id_1CC8( "on_killed", ::_id_455B );
}

_id_1CC8( var_0, var_1 )
{
    var_2 = self._id_11E7;

    if ( !isdefined( level._id_11C6[var_2][var_0] ) )
    {
        if ( !isdefined( level._id_E3D6[self._id_E3D5] ) || !isdefined( level._id_E3D6[self._id_E3D5][var_0] ) )
            level._id_11C6[var_2][var_0] = var_1;
        else
            level._id_11C6[var_2][var_0] = level._id_E3D6[self._id_E3D5][var_0];
    }
}

_id_D127( var_0, var_1 )
{
    var_0 _id_D125( level._id_11C4[var_1]["health"] );
}

_id_62E6( var_0 )
{
    return var_0._id_11E7;
}

_id_6A38()
{
    if ( !isdefined( level._id_11E9 ) )
        return 0;

    var_0 = gettime();
    var_1 = 0;

    foreach ( var_3 in level._id_11E9 )
    {
        if ( !isdefined( var_3._id_8716 ) || !var_3._id_8716 )
        {
            if ( isdefined( var_3._id_10845 ) && var_3._id_10845 )
                continue;

            var_4 = var_3 getentitynumber();

            if ( isdefined( level._id_11C2 ) && isdefined( level._id_11C2[var_4] ) && var_0 < level._id_11C2[var_4] )
                continue;

            var_1++;
        }
    }

    return var_1;
}

_id_6A37( var_0 )
{
    var_1 = undefined;
    var_2 = gettime();

    if ( isdefined( level._id_11E9 ) )
    {
        foreach ( var_4 in level._id_11E9 )
        {
            if ( !isdefined( var_4._id_8716 ) || !var_4._id_8716 )
            {
                if ( isdefined( var_4._id_10845 ) && var_4._id_10845 )
                    continue;

                var_5 = var_4 getentitynumber();

                if ( isdefined( level._id_11C2 ) && isdefined( level._id_11C2[var_5] ) && var_2 < level._id_11C2[var_5] )
                    continue;

                if ( isdefined( level._id_11C2 ) && isdefined( level._id_11C2[var_5] ) )
                    level._id_11C2[var_5] = undefined;

                var_1 = var_4;
                var_1._id_11E7 = var_0;
                var_1 _id_8111();
                var_1 notify( "agent_in_use" );
                break;
            }
        }
    }

    return var_1;
}

_id_8111()
{
    self.pers = [];
    self._id_7536 = 0;
    self._id_8716 = 0;
    self._id_871B = 1;
    self._id_E390 = 0;
    self._id_54E1 = self getentitynumber();
    self._id_11E6 = 0;
    self._id_11C7 = 0;
    self._id_002D = undefined;
    self._id_020F = 0;
    self._id_0213 = 0;
    self _meth_809D();
    _id_8253();
}

_id_8253()
{
    self.class = undefined;
    self._id_A24C = undefined;
    self._id_1F87 = undefined;
    self._id_723F = undefined;
    self.name = undefined;
    self._id_AFE4 = undefined;
    self._id_10DA7 = undefined;
    self._id_A8D9 = undefined;
    self._id_0393 = undefined;
    self.sessionstate = undefined;
    scripts\common\input_allow::_id_388C( "weapon" );
    scripts\common\input_allow::_id_388C( "weaponSwitch" );
    scripts\common\input_allow::_id_388C( "offhandWeaps" );
    scripts\common\input_allow::_id_388C( "usability" );
    self._id_A533 = undefined;
    self._id_0213 = 0;
    self._id_020F = 0;
    self._id_F07D = undefined;
    self._id_3AB1 = undefined;
    self._id_4159 = undefined;
    self._id_4BE7 = undefined;

    if ( isdefined( level._id_60D2 ) )
        self [[ level._id_60D2 ]]();
}

_id_D129( var_0, var_1 )
{
    self.team = var_0;
    self._id_002E = var_0;
    self.pers["team"] = var_0;
    self.owner = var_1;
    self setotherent( var_1 );
    self setentityowner( var_1 );
}

_id_100A()
{
    for ( var_0 = 0; var_0 < level.characters.size; var_0++ )
    {
        if ( level.characters[var_0] == self )
            return;
    }

    level.characters[level.characters.size] = self;
}

_id_11EC( var_0 )
{
    return level._id_11C6[self._id_11E7][var_0];
}

_id_E3D8( var_0 )
{
    return level._id_E3D6[self._id_E3D5][var_0];
}

_id_FF43( var_0 )
{
    if ( isagent( var_0 ) && ( !isdefined( var_0._id_8716 ) || !var_0._id_8716 ) )
        return undefined;

    if ( isagent( var_0 ) && !isdefined( var_0.classname ) )
        return undefined;

    return var_0;
}

_id_D125( var_0 )
{
    self._id_002C = var_0;
    self.health = var_0;
    self.maxhealth = var_0;
}

_id_4569( var_0, var_1, var_2 )
{

}

_id_85BF( var_0, var_1 )
{
    if ( isdefined( var_1 ) )
    {
        if ( isdefined( var_1.team ) && var_1.team == var_0.team )
            return 1;

        if ( isdefined( var_1.owner ) && isdefined( var_1.owner.team ) && var_1.owner.team == var_0.team )
            return 1;
    }

    return 0;
}

_id_4558( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 )
{
    var_13 = self;
    var_14 = undefined;

    if ( isdefined( self._id_0492 ) && isdefined( level._id_11C6[self._id_0492] ) )
        var_14 = level._id_11C6[self._id_0492]["gametype_on_damaged"];

    if ( isdefined( var_14 ) )
        [[ var_14 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11 );
    else
    {
        var_14 = level._id_11C6[self._id_11E7]["gametype_on_damaged"];

        if ( isdefined( var_14 ) )
            [[ var_14 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11 );
    }

    if ( _id_85BF( var_13, var_0 ) )
        return;

    if ( istrue( var_13._id_11EB ) )
    {
        var_15 = 0;

        if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "killstreak", "isKillstreakWeapon" ) )
        {
            var_15 = isdefined( var_12 ) && [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "killstreak", "isKillstreakWeapon" ) ]]( var_12.basename );

            if ( scripts\cp_mp\utility\script_utility::issharedfuncdefined( "damage", "handleDamageFeedback" ) )
                var_1 [[ scripts\cp_mp\utility\script_utility::getsharedfunc( "damage", "handleDamageFeedback" ) ]]( var_0, var_1, var_13, var_2, var_4, var_12, var_8, var_3, 0, 0, var_15 );
        }
    }

    if ( isdefined( var_13._id_0492 ) && isdefined( level._id_11C6[var_13._id_0492] ) && isdefined( level._id_11C6[var_13._id_0492]["on_damaged_finished"] ) )
        var_13 [[ level._id_11C6[var_13._id_0492]["on_damaged_finished"] ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, 0.0, var_10, var_11 );
    else
        var_13 [[ level._id_11C6[var_13._id_11E7]["on_damaged_finished"] ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, 0.0, var_10, var_11 );
}

_id_4559( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 )
{
    var_13 = self.health;
    var_14 = var_5;
    self._id_42D1 = var_1;
    self._id_42FC = var_6;
    self _meth_80F1( var_0, var_1, var_2, var_3, var_4, var_14, var_6, var_7, var_8, var_9, 0.0, var_11, var_12 );

    if ( self.health > 0 && self.health < var_13 )
    {
        self notify( "pain" );
        _id_0695::_id_CA5C();
    }

    if ( isalive( self ) )
    {
        if ( isdefined( self._id_0492 ) && isdefined( level._id_11C6[self._id_0492] ) && isdefined( level._id_11C6[self._id_0492]["gametype_on_damage_finished"] ) )
        {
            var_15 = level._id_11C6[self._id_0492]["gametype_on_damage_finished"];

            if ( isdefined( var_15 ) )
            {
                [[ var_15 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 );
                return;
            }
        }
        else if ( isdefined( self._id_11E7 ) )
        {
            var_15 = level._id_11C6[self._id_11E7]["gametype_on_damage_finished"];

            if ( isdefined( var_15 ) )
                [[ var_15 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9, var_10, var_11, var_12 );
        }
    }
}

_id_455B( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 )
{
    if ( isdefined( self._id_AA59 ) )
        self [[ self._id_AA59 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, 0 );
    else
        _id_AA41( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, 0 );

    if ( isdefined( self._id_0492 ) && isdefined( level._id_11C6[self._id_0492] ) && isdefined( level._id_11C6[self._id_0492]["gametype_on_killed"] ) )
    {
        var_9 = level._id_11C6[self._id_0492]["gametype_on_killed"];

        if ( isdefined( var_9 ) )
            [[ var_9 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 );
    }
    else
    {
        var_9 = level._id_11C6[self._id_11E7]["gametype_on_killed"];

        if ( isdefined( var_9 ) )
            [[ var_9 ]]( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8 );
    }

    _id_4365();
}

_id_455A( var_0, var_1 )
{
    self._id_13BF = var_1;

    switch ( var_1 )
    {
        case "traverse":
            self._id_4BE7 = 1;
            _id_0AC4::_id_4E67();
            self._id_4BE7 = 0;
            break;
        default:
            break;
    }

    _id_3910();
}

_id_3910()
{
    self._id_C0E1 = [];
    self._id_42EB = 0;
}

_id_4365()
{
    var_0 = self getentitynumber();
    level._id_11C2[var_0] = gettime() + 500;
}

_id_6B8C( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_0 = "all";

    var_1 = _id_6863( var_0 );
    return var_1.size;
}

_id_6863( var_0 )
{
    var_1 = [];

    if ( !isdefined( level._id_11E9 ) )
        return var_1;

    foreach ( var_3 in level._id_11E9 )
    {
        if ( isdefined( var_3._id_8716 ) && var_3._id_8716 )
        {
            if ( var_0 == "all" || var_3._id_11E7 == var_0 )
                var_1[var_1.size] = var_3;
        }
    }

    return var_1;
}

_id_6882( var_0 )
{
    var_1 = [];

    foreach ( var_3 in level._id_11E9 )
    {
        if ( isalive( var_3 ) && isdefined( var_3.team ) && var_3.team == var_0 )
            var_1[var_1.size] = var_3;
    }

    return var_1;
}

_id_6862( var_0 )
{
    var_1 = [];

    if ( !isdefined( level._id_11E9 ) )
        return var_1;

    foreach ( var_3 in level._id_11E9 )
    {
        if ( isdefined( var_3._id_8716 ) && var_3._id_8716 )
        {
            if ( var_3._id_E3D5 == var_0 )
                var_1[var_1.size] = var_3;
        }
    }

    return var_1;
}

_id_6881()
{
    var_0 = [];

    foreach ( var_2 in level._id_11E9 )
    {
        if ( isalive( var_2 ) )
            var_0[var_0.size] = var_2;
    }

    return var_0;
}

_id_0EBB()
{
    self._id_8716 = 1;
    self._id_E221 = gettime();
}

_id_12D7( var_0, var_1 )
{
    if ( var_0 != "MOD_CRUSH" )
        return 0;

    if ( !isdefined( var_1 ) )
        return 0;

    if ( !var_1 scripts\cp_mp\vehicles\vehicle::_id_8ADC() )
        return 0;

    return 1;
}

_id_AA33( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    var_10 = _id_12D7( var_3, var_0 );
    self _meth_85DB( self._id_1C90 );

    if ( isdefined( self._id_43B4 ) )
        var_8 = self._id_43B4;
    else if ( var_8 == 0 )
        var_8 = 500;

    if ( isdefined( self._id_5D4E ) )
        self [[ self._id_5D4E ]]();

    if ( isdefined( self._id_A533 ) )
        return;

    var_11 = self;
    self._id_25A4 = self _meth_808B( var_8 );

    if ( isdefined( self._id_0B3E._id_41E5 ) )
    {
        if ( isdefined( var_3 ) && var_3 == "MOD_FIRE" )
            self._id_BF3B = 0;

        if ( !istrue( self._id_0B3E._id_84E2 ) || istrue( self._id_0B3E._id_36CD._id_10081 ) )
        {
            if ( var_10 )
                self._id_25A4 reloadbuttonpressed( var_0 );
            else if ( _id_DA88( self ) )
            {
                if ( isdefined( self._id_BF44 ) && isdefined( self._id_BF45 ) )
                    self._id_25A4 _meth_83E5( self._id_BF44, self._id_BF45 );
                else
                    _id_4BE7( self._id_25A4 );
            }
            else
                thread _id_46BF( self._id_25A4, var_6, var_5, var_4, var_0, var_3 );
        }
        else
        {
            self._id_25A4 _meth_80DB();

            if ( istrue( self._id_0B3E._id_36CD._id_94FC ) )
                self._id_25A4 _meth_820C( self._id_0B3E._id_41E5, self._id_0B3E._id_36CD._id_DD69, 0 );
            else
                self._id_25A4 _meth_820D( self._id_0B3E._id_41E5, self._id_0B3E._id_36CD._id_DD69 );

            if ( isdefined( self._id_0B3E._id_102F6 ) )
                thread _id_46BF( self._id_25A4, var_6, var_4, var_0, var_3 );
            else
                self._id_25A4 thread _id_BF41( self._id_0B3E._id_41E5 );
        }
    }
    else if ( istrue( self._id_2D6A ) )
    {
        if ( self _meth_86EB() )
        {
            var_12 = self _meth_8574( "burn_to_death_by_molotov", 1 );

            if ( isdefined( var_12 ) && var_12 == "active" )
            {
                self._id_25A4 setscriptablepartstate( "burn_to_death_by_molotov", "active" );
                thread _id_FC1B( self._id_25A4 );
                thread _id_46BF( self._id_25A4, var_6, var_5, var_4, var_0, var_3 );
            }
        }
    }
    else if ( var_10 )
        self._id_25A4 reloadbuttonpressed( var_0 );
    else if ( _id_DA88( self ) )
    {
        if ( isdefined( self._id_BF44 ) && isdefined( self._id_BF45 ) )
            self._id_25A4 _meth_83E5( self._id_BF44, self._id_BF45 );
        else
            _id_4BE7( self._id_25A4 );
    }
    else
        thread _id_46BF( self._id_25A4, var_6, var_5, var_4, var_0, var_3 );
}

_id_AA41( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 )
{
    _id_AA33( var_0, var_1, var_2, var_3, var_4, var_5, var_6, var_7, var_8, var_9 );
}

_id_BF41( var_0 )
{
    self endon( "entitydeleted" );

    if ( self _meth_81DE() )
        return;

    if ( isdefined( var_0 ) )
    {
        for (;;)
        {
            if ( !isdefined( self ) )
                return;

            if ( !isdefined( var_0 ) || var_0 _id_06C0::_id_1011D() )
            {
                self unlink();
                self startragdoll();
                return;
            }

            waitframe();
        }
    }
}

_id_DA88( var_0 )
{
    if ( istrue( var_0._id_4BE7 ) )
        return 1;

    if ( istrue( var_0._id_01BB ) )
        return 1;

    return 0;
}

_id_4BE7( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    if ( isdefined( var_0._id_BF44 ) && isdefined( var_0._id_BF45 ) )
    {
        var_0 _meth_83E5( var_0._id_BF44, var_0._id_BF45 );
        return;
    }

    var_1 = 10;
    var_2 = scripts\common\utility::_id_69A5( self._id_0138 );

    if ( isdefined( self.attacker ) && isplayer( self.attacker ) && var_2 == "melee" )
        var_1 = 5;

    var_3 = self._id_013D;

    if ( var_2 == "bullet" || isdefined( self._id_0138 ) && self._id_0138 == "MOD_FIRE" )
        var_3 = min( var_3, 300 );

    var_4 = var_1 * var_3;
    var_5 = max( 0.3, self._id_0136[2] );
    var_6 = ( self._id_0136[0], self._id_0136[1], var_5 );

    if ( isdefined( self._id_BF3B ) )
        var_6 = var_6 * self._id_BF3B;
    else
        var_6 = var_6 * var_4;

    if ( self._id_01BB )
        var_6 = var_6 + self._id_031E * 20 * 10;

    if ( isdefined( self._id_BF42 ) )
        var_6 = var_6 + self._id_BF42 * 10;

    var_7 = self._id_0137;

    if ( isdefined( self._id_BF39 ) && var_7 == "none" )
        var_7 = self._id_BF39;

    var_0 _meth_83E5( var_7, var_6 );
}

_id_46BF( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( isdefined( var_0 ) )
    {
        var_6 = var_0 _meth_8121();

        if ( _func_0011( var_6, "ignore_ragdoll" ) )
            return;
    }

    if ( isdefined( level._id_A5A8 ) && level._id_A5A8.size )
    {
        foreach ( var_8 in level._id_A5A8 )
        {
            if ( distancesquared( var_0.origin, var_8.origin ) < 65536 )
                return;
        }
    }

    waitframe();

    if ( !isdefined( var_0 ) )
        return;

    if ( var_0 _meth_81DE() )
        return;

    var_6 = var_0 _meth_8121();

    if ( _func_0330( var_6 ) )
    {
        var_10 = 0.35;
        var_11 = _func_00BB( var_6, "start_ragdoll" );

        if ( isdefined( var_11 ) && var_11.size > 0 )
            var_10 = var_11[0];
        else
        {
            var_11 = _func_00BB( var_6, "vehicle_death_ragdoll" );

            if ( isdefined( var_11 ) && var_11.size > 0 )
                var_10 = var_11[0];
        }

        var_12 = var_10 * _func_0079( var_6 ) - level._id_01CC / 1000;

        if ( var_12 > 0 )
            wait( var_12 );
    }

    self unlink();

    if ( isdefined( var_0 ) )
    {
        if ( isdefined( var_0._id_BF44 ) && isdefined( var_0._id_BF45 ) )
            var_0 _meth_83E5( var_0._id_BF44, var_0._id_BF45 );
        else
            var_0 startragdoll();
    }
}

_id_FC1B( var_0 )
{
    wait 0.7;

    if ( !isdefined( var_0 ) )
        return;

    var_0 _meth_875D( "burntbody_male_cp", 1 );
    var_0 dontinterpolate();
    wait 0.95;

    if ( !isdefined( var_0 ) )
        return;

    var_0 setscriptablepartstate( "burn_to_death_by_molotov", "inactive" );
}
