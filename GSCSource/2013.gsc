// S4 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

init()
{
    if ( !level._id_BA7D )
        return;

    level._id_BA7E._id_5695 = spawnstruct();
    var_0 = level._id_BA7E._id_5695;
    var_0._id_8FE5 = undefined;
    var_0._id_8FE9 = undefined;

    if ( level.teambased )
    {
        var_0._id_9087 = [];
        var_0._id_9088 = [];
    }
}

_id_AB6B()
{
    _id_3954();
}

_id_69EC()
{
    var_0 = _id_07DC::_id_69EE( self );

    if ( !isdefined( var_0 ) )
        return;

    if ( !isdefined( var_0._id_F40A ) )
        var_0._id_F40A = _id_3FA6();

    return var_0._id_F40A;
}

_id_3FA6()
{
    var_0 = spawnstruct();
    var_0._id_DA49 = 0;
    var_0._id_DA4A = 0;
    var_0._id_DA48 = 0;
    var_0._id_DA4D = 0;
    var_0._id_DA4C = 0;
    return var_0;
}

_id_AB7F( var_0 )
{
    var_1 = level._id_BA7E._id_5695;
    _id_742D( var_0 );
}

_id_742D( var_0 )
{
    var_1 = level._id_BA7E._id_5695;
    var_2 = undefined;
    var_3 = undefined;

    if ( level.teambased )
    {
        if ( isdefined( var_1._id_9087[var_0] ) )
        {
            var_2 = var_1._id_9087[var_0];
            var_3 = var_1._id_9088[var_0];
        }
        else
        {
            var_2 = var_1._id_8FE5;
            var_3 = var_1._id_8FE9;
        }
    }
    else
    {
        var_2 = var_1._id_8FE5;
        var_3 = var_1._id_8FE9;
    }

    if ( isdefined( var_2 ) && isdefined( var_3 ) )
        var_2 _id_07DC::_id_BD5E( "final_kill", var_3 );
}

_id_AB4E( var_0, var_1, var_2 )
{
    if ( !level._id_BA7D )
        return;

    if ( scripts\common\utility::_id_69A5( var_2 ) == "splash" && !var_1 scripts\mp\utility\game::_id_8A2E() )
        var_1 _id_07DC::_id_BD5E( "hit_by_explosive" );
}

_id_AB5D( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( !level._id_BA7D )
        return;

    var_6 = level._id_BA7E._id_5695;
    var_7 = gettime();

    if ( !isplayer( var_0 ) )
        return;

    var_8 = var_0 _id_69EC();
    var_9 = var_2 _id_69EC();
    var_10 = var_0 _id_2E98( var_0 );
    var_11 = var_3 == "MOD_EXPLOSIVE" || var_3 == "MOD_GRENADE" || var_3 == "MOD_GRENADE_SPLASH" || var_3 == "MOD_PROJECTILE";
    var_12 = scripts\engine\trace::_id_3EC3( 0, 1, 1, 1, 1, 1, 1, 1 );
    var_13 = _func_02BC( var_0 geteye(), var_2 geteye(), var_12, undefined, 0, "physicsquery_closest", 1 );
    var_14 = isdefined( var_13 ) && var_13.size > 0;
    var_15 = scripts\engine\utility::_id_10E74( var_0 geteye(), var_0 getplayerangles(), var_2.origin, cos( 80 ) );
    var_16 = var_11 && ( !var_15 || var_14 );

    if ( !var_16 )
        var_0 _id_07DC::_id_BD5E( "kill", var_7, var_7, var_5, undefined, var_10 );

    if ( isdefined( self._id_BC3C ) && isdefined( var_0._id_9038 ) )
    {
        if ( var_0._id_9038 < self._id_BC3C )
        {
            var_17 = var_7 - self._id_BC3C;

            if ( var_17 < 1800 )
            {
                var_18 = 1.0 - var_17 / 1800;
                var_0 _id_07DC::_id_BD5E( "kill_rate_bonus", self._id_BC3C, var_7, var_5, undefined, var_18 );
            }
        }
    }

    var_0 _id_7448( var_0, var_3, var_4, var_2, var_10, var_5 );

    if ( var_3 == "MOD_PROJECTILE_SPLASH" )
        var_0 _id_07DC::_id_BD5E( "missile_splash_kill", var_7, var_7, var_5, undefined, var_10 );

    if ( scripts\common\utility::_id_69A5( var_3 ) == "splash" )
    {
        if ( scripts\mp\utility\game::_id_6DC8() <= 12000 && randomintrange( 0, 2 ) == 0 )
            var_0 _id_07DC::_id_BD5E( "round_start_grenade" );
    }

    if ( istrue( var_0._id_9FE8["bullet_damage"] ) && var_2 _id_09E8::_id_A05D() )
        var_0 _id_07DC::_id_BD5E( "victim_on_fire", var_7, var_7, var_5, undefined, var_10 );

    if ( var_0 _id_09E8::_id_A05D() )
        var_0 _id_07DC::_id_BD5E( "kill_while_on_fire", var_7, var_7, var_5, undefined, var_10 );

    if ( istrue( var_0._id_9FE8["airborne"] ) )
    {
        var_8._id_8FDE = var_7;
        var_8._id_7D6D = 1;
        var_0 thread _id_10B42();
    }

    if ( isdefined( var_0._id_8FA9 ) && var_7 - var_0._id_8FA9 < 3500 )
        var_0 _id_07DC::_id_BD5E( "open_door_before_kill", var_0._id_8FA9, var_7, var_5, undefined, var_10 );

    if ( isdefined( var_0._id_1DAC ) && var_0._id_1DAC.size > 3 )
        var_0 _id_07DC::_id_BD5E( "outnumbered", var_7, var_7, var_5, undefined, var_10 );

    if ( isdefined( var_9._id_9086 ) && var_7 - var_9._id_9086 < 1000 && randomintrange( 0, 2 ) == 0 )
        var_0 _id_07DC::_id_BD5E( "kill_teabagger", var_9._id_9086, var_7, var_5, undefined, var_10 );

    var_0 _id_7426( var_0, var_1, var_2, var_3, var_4, var_10 );
    var_0 _id_744E( var_0, var_1, var_2, var_3, var_4, var_10, var_5 );

    if ( var_8._id_DA49 )
    {
        if ( var_8._id_DA48 >= 0.9 )
            var_0 _id_07DC::_id_BD5E( "accuracy_good", var_7, var_7, var_5, undefined, var_10 );
        else if ( var_8._id_DA48 <= 0.075 )
            var_0 _id_07DC::_id_BD5E( "accuracy_very_bad", var_7, var_7, var_5, undefined, var_10 );
        else if ( var_8._id_DA48 <= 0.15 )
            var_0 _id_07DC::_id_BD5E( "accuracy_bad", var_7, var_7, var_5, undefined, var_10 );
    }

    if ( level.teambased )
    {
        var_6._id_9087[var_0.team] = var_0;
        var_6._id_9088[var_0.team] = var_7;
    }

    var_6._id_8FE5 = var_0;
    var_6._id_8FE9 = var_7;
}

_id_2E98( var_0 )
{
    var_1 = 1.0;

    if ( !istrue( var_0._id_9FE8["victim_in_standard_view"] ) )
        var_1 = var_1 * 0.15;

    return var_1;
}

_id_744E( var_0, var_1, var_2, var_3, var_4, var_5, var_6 )
{
    if ( var_3 == "MOD_MELEE" )
    {
        if ( isdefined( var_0._id_9038 ) )
        {
            var_7 = isdefined( var_0._id_902B ) && var_0._id_902B >= var_0._id_9038;

            if ( !var_7 )
                var_0 _id_07DC::_id_BD5E( "no_shots_fired_kill", undefined, undefined, var_6, undefined, var_5 );
        }
    }
}

_id_7426( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    if ( isdefined( var_1 ) && istrue( var_1._id_881B ) )
    {
        var_6 = scripts\mp\utility\weapon::_id_8A86( var_4 );

        if ( isdefined( var_1._id_E34F ) )
        {
            var_7 = distancesquared( var_1._id_E34F, var_1.origin );

            if ( var_6 )
            {
                if ( var_7 >= 640000 )
                    var_0 _id_07DC::_id_BD5E( "long_throwing_knife" );
                else
                    var_0 _id_07DC::_id_BD5E( "throwing_knife" );
            }
            else if ( var_7 >= 1440000 )
                var_0 _id_07DC::_id_BD5E( "long_grenade_throw" );
        }

        if ( scripts\mp\utility\game::_id_6DC8() <= 12000 )
        {
            if ( var_6 )
                var_0 _id_07DC::_id_BD5E( "round_start_throwing_knife" );
        }
    }
}

_id_7448( var_0, var_1, var_2, var_3, var_4, var_5 )
{
    var_6 = gettime();
    var_7 = scripts\mp\utility\weapon::_id_6E59( var_2 );

    foreach ( var_10, var_9 in var_0._id_9FE8 )
    {
        switch ( var_10 )
        {
            case "backstab":
                if ( var_1 == "MOD_MELEE" )
                    var_0 _id_07DC::_id_BD5E( "backstab", var_6, var_6, var_5, undefined, var_4 );

                break;
            case "pointblank":
                if ( var_7 == "weapon_sniper" )
                    var_0 _id_07DC::_id_BD5E( "pointblank_sniper", var_6, var_6, var_5, undefined, var_4 );
                else
                    var_0 _id_07DC::_id_BD5E( "pointblank", var_6, var_6, var_5, undefined, var_4 );

                break;
            case "airborne":
                if ( isdefined( var_0._id_9FE8["ads"] ) )
                {
                    if ( var_7 == "weapon_sniper" )
                        var_0 _id_07DC::_id_BD5E( "airborne_ads_sniper_kill", var_6, var_6, var_5, undefined, var_4 );
                    else
                        var_0 _id_07DC::_id_BD5E( "airborne_ads_kill", var_6, var_6, var_5, undefined, var_4 );
                }

                break;
            case "victim_airborne":
                if ( var_7 == "weapon_sniper" )
                    var_0 _id_07DC::_id_BD5E( "victim_airborne_sniper", var_6, var_6, var_5, undefined, var_4 );
                else
                    var_0 _id_07DC::_id_BD5E( "victim_airborne", var_6, var_6, var_5, undefined, var_4 );

                break;
            case "longshot":
                if ( !isdefined( var_0._id_9FE8["very_longshot"] ) )
                    var_0 _id_07DC::_id_BD5E( "longshot", var_6, var_6, var_5, undefined, var_4 );

                break;
            case "last_bullet_kill":
                if ( var_7 != "weapon_sniper" && var_7 != "weapon_projectile" )
                    var_0 _id_07DC::_id_BD5E( "last_bullet_kill", var_6, var_6, var_5, undefined, var_4 );

                break;
            case "victim_sprinting":
                if ( var_7 == "weapon_sniper" )
                    var_0 _id_07DC::_id_BD5E( "victim_sprinting_sniper", var_6, var_6, var_5, undefined, var_4 );

                break;
            default:
                if ( _id_07DC::_id_56A6( var_10 ) )
                    var_0 _id_07DC::_id_BD5E( var_10, var_6, var_6, var_5, undefined, var_4 );

                break;
        }
    }
}

_id_3A2F( var_0, var_1 )
{
    if ( !level._id_BA7D )
        return;

    if ( var_1 == 2 )
        var_0 _id_07DC::_id_BD5E( "collateral" );
    else if ( var_1 == 3 )
        var_0 _id_07DC::_id_BD5E( "triple_collateral" );
    else
        var_0 _id_07DC::_id_BD5E( "multi_collateral" );
}

_id_DA51( var_0, var_1 )
{
    if ( !level._id_BA7D )
        return;

    if ( var_1 == 2 )
        var_0 _id_07DC::_id_BD5E( "shotgun_collateral" );
    else
        var_0 _id_07DC::_id_BD5E( "shotgun_multi_collateral" );
}

_id_BE85( var_0, var_1, var_2 )
{
    if ( !level._id_BA7D )
        return;

    var_0 _id_07DC::_id_BD5E( "quad_feed", var_1, var_2 );
}

_id_BD5F( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = scripts\common\utility::_id_B7B4( var_0, 1000 );

    foreach ( var_7 in var_5 )
    {
        if ( !scripts\mp\utility\player::isreallyalive( var_7 ) )
            continue;

        var_8 = var_0 - var_7 geteye();
        var_9 = anglestoforward( var_7 getplayerangles() );

        if ( vectordot( var_8, var_9 ) < 0 )
            continue;

        var_7 _id_07DC::_id_BD5E( var_2, var_3, var_4 );
    }
}

_id_10B42()
{
    level endon( "game_ended" );
    self endon( "death_or_disconnect" );
    var_0 = _id_69EC();

    for (;;)
    {
        if ( self isonground() )
        {
            var_0._id_7D6D = 0;
            break;
        }

        waitframe();
    }
}

_id_BB6D( var_0 )
{
    if ( !level._id_BA7D )
        return;

    _id_BD5F( var_0, 1000000, "witness_predator_impact" );
}

_id_8ECD( var_0 )
{
    if ( !level._id_BA7D )
        return;

    _id_BD5F( var_0, 640000, "witness_vehicle_explode" );
}

_id_10314( var_0 )
{
    if ( !level._id_BA7D )
        return;

    if ( !isdefined( var_0.attacker ) || !isplayer( var_0.attacker ) )
        return;

    var_0.attacker _id_07DC::_id_BD5E( "vehicle_destroyed" );
}

_id_9F6A( var_0 )
{
    if ( !level._id_BA7D )
        return;

    var_0 _id_07DC::_id_BD5E( "witness_missile_whizby" );
}

_id_260F( var_0, var_1, var_2 )
{
    if ( !level._id_BA7D )
        return;

    if ( var_2 )
        var_0 _id_07DC::_id_BD5E( "ninja_defuse" );
    else if ( var_1 )
        var_0 _id_07DC::_id_BD5E( "last_alive_defuse" );
    else
        var_0 _id_07DC::_id_BD5E( "defuse" );
}

_id_C7D4( var_0, var_1 )
{
    if ( !level._id_BA7D )
        return;

    var_0 _id_07DC::_id_BD5E( "revived_ally" );
}

_id_B810( var_0, var_1 )
{
    if ( !level._id_BA7D )
        return;

    var_2 = _id_69EC();

    if ( istrue( var_2._id_7D6D ) )
        var_0 _id_07DC::_id_BD5E( "fall_to_death_kill", var_2._id_8FDE, gettime() );
}

_id_4E40( var_0, var_1 )
{
    if ( !level._id_BA7D )
        return;

    if ( !var_1 && isdefined( var_0._id_8FE9 ) && gettime() - var_0._id_8FE9 < 2000 )
        var_0 _id_07DC::_id_BD5E( "closed_door_after_kill" );
}

_id_B7C8( var_0 )
{
    if ( !level._id_BA7D )
        return;

    var_1 = _id_69EC();
    var_2 = gettime();

    if ( var_0 == "crouch" )
    {
        _id_07DC::_id_BD5E( "recent_crouch" );

        if ( isdefined( self._id_8FEA ) )
        {
            if ( distancesquared( self._id_8FEA, self.origin ) < 40000 )
            {
                var_3 = var_2 - self._id_903F["crouch"];

                if ( var_3 < 750 )
                {
                    var_4 = isdefined( self._id_9038 ) && ( isdefined( var_1._id_9086 ) && self._id_9038 < var_1._id_9086 );

                    if ( !var_4 )
                        _id_07DC::_id_BD5E( "teabag" );

                    var_1._id_9086 = var_2;
                }
            }
        }
    }
    else if ( var_0 == "prone" )
        _id_07DC::_id_BD5E( "recent_prone" );
}

_id_DA59()
{
    if ( !level._id_BA7D )
        return;

    var_0 = _id_69EC();
    _id_FD27( 1 );
}

_id_DA5C()
{
    if ( !level._id_BA7D )
        return;

    var_0 = _id_69EC();
    _id_FD27( 0 );
}

_id_FD27( var_0 )
{
    if ( !level._id_BA7D )
        return;

    var_1 = _id_69EC();
    var_2 = scripts\engine\utility::ter_op( var_0, 1.0, 0.0 );
    var_1._id_DA48 = ( var_1._id_DA48 * var_1._id_DA4A + var_2 ) / ( var_1._id_DA4A + 1 );
    var_1._id_DA4A++;
    thread _id_DA4B();
}

_id_DA4B()
{
    level endon( "game_ended" );
    self endon( "death_or_disconnect" );
    self endon( "clearShotGroup" );
    self notify( "shotGroupEndWatcher()" );
    self endon( "shotGroupEndWatcher()" );

    if ( !level._id_BA7D )
        return;

    var_0 = _id_69EC();
    var_0._id_DA49 = 1;
    wait 2.0;
    _id_3954();
}

_id_3954()
{
    if ( !level._id_BA7D )
        return;

    var_0 = _id_69EC();
    var_0._id_DA49 = 0;
    var_0._id_DA4D = var_0._id_DA4A;
    var_0._id_DA4C = var_0._id_DA48;
    var_0._id_DA4A = 0;
    var_0._id_DA48 = 0;
    self notify( "clearShotGroup" );
}

_id_7164( var_0 )
{
    if ( !level._id_BA7D )
        return;

    if ( var_0 )
        _id_07DC::_id_BD5E( "recent_lethal" );
    else
        _id_07DC::_id_BD5E( "recent_tactical" );
}

_id_011C()
{
    if ( !level._id_BA7D )
        return;

    _id_07DC::_id_BD5E( "recent_crouch" );
}

_id_8C78()
{
    if ( !level._id_BA7D )
        return;

    _id_07DC::_id_BD5E( "recent_jump" );
}

_id_032A()
{
    if ( !level._id_BA7D )
        return;

    _id_07DC::_id_BD5E( "recent_prone" );
}

_id_DDE5()
{
    if ( !level._id_BA7D )
        return;

    _id_07DC::_id_BD5E( "recent_slide" );
}

_id_9A36()
{
    if ( !level._id_BA7D )
        return;

    _id_07DC::_id_BD5E( "recent_mantle" );
}
